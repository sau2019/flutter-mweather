(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[25],{"2ALn":function(t,e,i){var n,r=e,o=i("oAGj"),s=i("ascj"),l=i("QbzR"),a=i("Zifs");r.RootStyle=(n=function(){this.deprecatedPrimaryColor=null},o.defineClass({name:"RootStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"RootStyle"}},KIND:{get:function(){return"RootStyle"}},DEFAULT_OPACITY:1,PROPERTY_COLORS_DEPRECATED:"color",factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_70dd(a.SolidColor.WHITE)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){var i;o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e),(i=o.as(this.get(n.PROPERTY_COLORS_DEPRECATED),["Array",a.SolidColor]))&&i.length>=1&&(this.deprecatedPrimaryColor=i[0])},init_70dd:function(t){o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,n.KIND,n.DEFAULT_OPACITY,s.ColorTable.createDefault())},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary},willCommitState:function(){null!=this.deprecatedPrimaryColor&&(this.colors.fieldPrimary=this.deprecatedPrimaryColor,this.deprecatedPrimaryColor=null,this.removeProperty(n.PROPERTY_COLORS_DEPRECATED)),l.FormaStyle.prototype.willCommitState.call(this)}}}),n)},"4mVB":function(t,e,i){var n,r=e,o=i("oAGj"),s=i("SpAV"),l=i("ascj"),a=i("FNB+"),u=i("6ZWm"),c=i("QbzR"),h=i("9Lk3"),f=i("tQF8"),d=i("iCxV"),_=i("oKlP"),T=i("sIWg");r.GridStyle=(n=function(){this.gridCells_=null,this.formaMapping_=null,this.forma_=null},o.defineClass({name:"GridStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"GridStyle"}},KIND:{get:function(){return"GridStyle"}},DEFAULT_NAME:"None",DEFAULT_CATEGORY:"Grid",CUSTOM_LAYOUT_NAME:"Custom",SINGLE_LAYOUT_NAME:"Single",BALANCED_LAYOUT_NAME:"Balanced-Layout",PROPERTY_NAME:"name",PROPERTY_CATEGORY:"category",PROPERTY_GRID_CELLS:"grid-cells",PROPERTY_FORMA_MAPPING:"forma-mapping",PROPERTY_SPACING:"spacing",PROPERTY_CROP_TYPE:"crop-type",factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_bf40(n.DEFAULT_NAME,n.DEFAULT_CATEGORY,[new f.GridCell(T.TheoRect.ONE_BY_ONE)],null,0,!1,u.CropType.PreserveFocus)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){this.moveableShift_=!1,o.super_init(this,c.FormaStyle,c.FormaStyle.prototype.init_866e,t,e)},init_bf40:function(t,e,i,r,s,a,h){void 0===t&&(t="None"),void 0===e&&(e="Grid"),void 0===r&&(r=null),void 0===s&&(s=0),void 0===a&&(a=!0),void 0===h&&(h=u.CropType.PreserveFocus);var f={name:t,category:e,"grid-cells":i,spacing:s,"crop-type":h};if(null!=r){for(var d=[],_=o.iter(r);!_.done;_.next()){var T=_.key,R=_.value;d.push([T,R])}f[n.PROPERTY_FORMA_MAPPING]=o.clone(d)}this.moveableShift_=a,o.super_init(this,c.FormaStyle,c.FormaStyle.prototype.init_5afe,n.KIND,1,l.ColorTable.createDefault(),null,null,o.clone(f))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},didChangeState:function(t){null!=t[n.PROPERTY_FORMA_MAPPING]&&(this.formaMapping_=null),null!=t[n.PROPERTY_GRID_CELLS]&&(this.gridCells_=null),c.FormaStyle.prototype.didChangeState.call(this,o.clone(t))},name:{get:function(){var t;return(t=o.as(this.get(n.PROPERTY_NAME),"String"))||null!=t?t:n.DEFAULT_NAME},set:function(t){this.set(n.PROPERTY_NAME,t)}},category:{get:function(){return o.as(this.get(n.PROPERTY_CATEGORY),"String")},set:function(t){this.set(n.PROPERTY_CATEGORY,t)}},ensureGridCells:function(){var t;if(null==this.gridCells_&&(this.gridCells_=[],(t=o.as(this.get(n.PROPERTY_GRID_CELLS),["Array","Any"]))&&t.length>0&&t[0]instanceof f.GridCell))for(var e=o.clone(t),i=o.iter(e);!i.done;i.next()){var r=i.value;o.opt(this.gridCells_,(function(t){return t.push(r)}))}},commitGridCells:function(){this.set(n.PROPERTY_GRID_CELLS,o.clone(this.gridCells_))},gridCells:{get:function(){return this.ensureGridCells(),this.gridCells_}},setGridCells:function(t){this.gridCells_=o.clone(t),this.commitGridCells()},cellIndex:function(t){return o.opt(this.indexedCell(t,o.clone(this.gridCells)),(function(t){return t[0]}))},ensureFormaMapping:function(){var t;if(null==this.formaMapping_&&(this.formaMapping_={},(t=o.as(this.get(n.PROPERTY_FORMA_MAPPING),["Array","Any"]))&&t.length>0&&o.is(t[0],["Array","Any"])))for(var e=o.clone(t),i=o.iter(e);!i.done;i.next()){var r=i.value,s=o.as(r[0],"String"),l=o.as(r[1],f.GridCell);null!=s&&null!=l&&(this.formaMapping_[s]=l)}},commitFormaMapping:function(){for(var t=[],e=o.iter(this.formaMapping_);!e.done;e.next()){var i=e.key,r=e.value;t.push([i,r])}this.set(n.PROPERTY_FORMA_MAPPING,o.clone(t))},formaMapping:{get:function(){return this.ensureFormaMapping(),this.formaMapping_}},setFormaMapping:function(t){this.formaMapping_=o.clone(t),this.commitFormaMapping()},indexedCell:function(t,e){for(var i=o.iter(o.toSequence(e));!i.done;i.next()){var n=i.value,r=n.offset,s=n.element;if(o.eq(f._equality_GridCell_GridCell,s,t))return[r,t]}return null},updateCell:function(t,e,i,n){var r;return void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),null!=(r=this.indexedCell(t,o.clone(this.gridCells)))?this.updateCellByIndex(r[0],e,i,n):null},updateCellByIndex:function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null);var r=this.gridCells[t],s=this.gridCells[t].copyTo(e,i,n);if(!o.eq(f._equality_GridCell_GridCell,r,s)){for(var l=[],a=o.iter(this.formaMapping);!a.done;a.next()){var u=a.key,c=a.value;o.eq(f._equality_GridCell_GridCell,c,r)&&l.push(u)}this.ensureGridCells(),this.gridCells_[t]=s,this.commitGridCells(),this.ensureFormaMapping();for(var h=o.iter(l);!h.done;h.next())u=h.value,this.formaMapping_[u]=s;return this.commitFormaMapping(),s}return r},insertCell:function(t,e){this.ensureGridCells(),this.gridCells_.splice(e,0,t),this.commitGridCells()},removeCell:function(t){this.ensureGridCells();for(var e,i=[],n=o.iter(this.formaMapping);!n.done;n.next()){var r=n.key,s=n.value;o.eq(f._equality_GridCell_GridCell,t,s)&&i.push(r)}null!=(e=this.indexedCell(t,o.clone(this.gridCells_)))&&o.opt(this.gridCells_,(function(t){return t.splice(e[0],1)}));for(var l=o.iter(i);!l.done;l.next())r=l.value,o.removeKey(this.formaMapping_,r);this.commitFormaMapping(),this.commitGridCells()},mergeCell:function(t,e){var i;if(null!=(i=this.indexedCell(t,o.clone(this.gridCells)))){for(var n=[],r=o.iter(this.formaMapping);!r.done;r.next()){var s=r.key,l=r.value;o.eq(f._equality_GridCell_GridCell,t,l)&&n.push(s)}this.ensureGridCells(),this.gridCells_[i[0]]=i[1].mergeWith(e),this.commitGridCells(),this.ensureFormaMapping();for(var a=o.iter(n);!a.done;a.next())s=a.value,this.formaMapping_[s]=this.gridCells_[i[0]];return this.commitFormaMapping(),this.gridCells[i[0]]}return null},mapCellToForma:function(t,e){this.mapCellToFormaID(t.formaID,e)},mapCellToFormaID:function(t,e){this.ensureFormaMapping(),this.formaMapping_[t]=e,this.commitFormaMapping()},removeMappingToForma:function(t){this.removeMappingToFormaID(t.formaID)},removeMappingToFormaID:function(t){this.ensureFormaMapping(),o.removeKey(this.formaMapping_,t),this.commitFormaMapping()},replaceMappedForma:function(t,e){this.ensureFormaMapping();var i=o.removeKey(this.formaMapping_,t.formaID);this.formaMapping_[e.formaID]=i,this.commitFormaMapping()},cellForForma:function(t){var e;if(e=this.formaMapping[t.formaID])for(var i=o.iter(o.toSequence(this.gridCells));!i.done;i.next()){var n=i.value,r=n.offset,s=n.element;if(o.eq(f._equality_GridCell_GridCell,e,s))return[r,e]}return null},forma:{get:function(){return this.forma_},set:function(t){this.forma_=t}},colorTableSupportsRole:function(t){return t==l.ColorRole.FieldPrimary},cropType:{get:function(){var t;return u.CropType.toCaseValue((t=o.as(this.get(n.PROPERTY_CROP_TYPE),"Int"))||null!=t?t:u.CropType.PreserveFocus)},set:function(t){this.set(n.PROPERTY_CROP_TYPE,t)}},gridCellArray:{get:function(){return this.gridCells}},drawnGridCell:function(t,e){return e.evalRect(t.bounds).insetXY(this.spacing/2,this.spacing/2).rounded()},spacing:{get:function(){var t;return(t=o.as(this.get(n.PROPERTY_SPACING),"Double"))||null!=t?t:0},set:function(t){this.set(n.PROPERTY_SPACING,t)}},moveableShift:{get:function(){return this.moveableShift_},set:function(t){this.moveableShift_=t}},numCells:{get:function(){return this.gridCells.length}},numBackgroundCells:{get:function(){return this.nonOverlappingCells().length}},flipRegion:function(){for(var t=[],e=o.iter(this.gridCells);!e.done;e.next()){var i=e.value;t.push(i.flip())}var r=this.name.includes("-flip")?o.replace(this.name,"-flip",""):this.name+"-flip",s=null!=this.category?this.category:n.DEFAULT_CATEGORY;return n.init_bf40(r,s,o.clone(t))},removeFormaMapping:function(){this.formaMapping_={},this.commitFormaMapping()},anyOverlap:{get:function(){return this.overlappingCells().length>0}},overlappingIndices:function(){if(0==this.gridCells.length)return[];for(var t=[],e=o.iter(o.range(0,this.gridCells.length-1,!0));!e.done;e.next())for(var i=e.value,n=o.iter(o.range(i,this.gridCells.length-1,!0));!n.done;n.next()){var r=n.value;if(r>i){var s,l=this.gridCells[r];(s=this.gridCells[i].bounds.intersectionWith(l.bounds))&&s.area>.01&&!t.includes(r)&&t.push(r)}}return t},overlappingCells:function(){var t=this;return this.overlappingIndices().map((function(e){return t.gridCells[e]}),this)},nonOverlappingCells:function(){return this.enumeratedNonOverlappingCells().map((function(t){return t[1]}),this)},enumeratedNonOverlappingCells:function(){for(var t=o.clone(this.overlappingIndices()),e=[],i=o.iter(o.toSequence(this.gridCells));!i.done;i.next()){var n=i.value,r=n.offset,s=n.element;t.includes(r)||e.push([r,s])}return e},fork:function(t){return c.FormaStyle.prototype.fork.call(this,t)},match:function(t){var e;if(e=o.as(t,n)){if(null==this.forma||null==e.forma||null==this.forma.root)return void s.CoreAssert.fail("Serious error in grid style. Not pointing to correct forma","GridStyle.match","GridStyle.swift",418);if(this.forma.controller.kind!=h.GridController.KIND||e.forma.controller.kind!=h.GridController.KIND)return void s.CoreAssert.fail("Error: Not matching grids.","GridStyle.match","GridStyle.swift",423);o.keys(this.formaMapping).length>0&&s.CoreAssert.isTrue(null!=this.forma,"missing forma","GridStyle.match","GridStyle.swift",428),o.keys(e.formaMapping).length>0&&s.CoreAssert.isTrue(null!=e.forma,"missing forma","GridStyle.match","GridStyle.swift",431),this.name=e.name,this.spacing=e.spacing,this.moveableShift=e.moveableShift,this.cropType=e.cropType,this.category=e.category;for(var i=[],r={},l=o.iter(e.gridCells);!l.done;l.next()){var u=l.value;i.push(u)}if(null!=this.forma){for(var c,_=[],R=[],p=o.iter(o.keys(this.formaMapping));!p.done;p.next()){var P=p.value;u=this.formaMapping[P],null!=(S=o.opt(this.forma,(function(t){return t.formaByID(P)})))&&S.isBackgroundImage()&&_.push(u)}for(var g=o.iter(o.keys(e.formaMapping));!g.done;g.next()){var S;P=g.value,u=e.formaMapping[P],null!=(S=o.opt(e.forma,(function(t){return t.formaByID(P)})))&&S.isBackgroundImage()&&R.push(u)}if(null!=this.forma&&(c=o.as(e.forma.controller,h.GridController))){var y=o.clone(c.gridStyle.gridCells);if(_.length>1&&1==y.length&&y[0].bounds.equalWithAccuracy(T.TheoRect.ONE_BY_ONE,f.GridCell.BOUNDS_ACCURACY))return}for(var E=function(t,e){return t.bounds.minY<e.bounds.minY||!(t.bounds.minY>e.bounds.minY)&&t.bounds.minX<e.bounds.minX},m=o.sort(_,E),O=o.sort(R,E),A=o.clone(e.overlappingCells()),C=o.clone(e.nonOverlappingCells()),v=o.iter(this.forma.visitAsArray(a.FormaTraversal.JustChildren));!v.done;v.next()){var N=v.value;if(P=N.formaID,N.isBackgroundImage()){if(m.length>0)for(var L=o.iter(o.range(0,m.length-1,!0));!L.done;L.next()){var I=L.value,D=m[I];o.eq(f._equality_GridCell_GridCell,this.formaMapping[P],D)&&O.length>0&&(r[P]=O[Math.min(I,O.length-1)])}if(null==r[P]&&(D=this.formaMapping[P]))for(var Y=0,b=o.iter(C);!b.done;b.next()){var k;(k=(u=b.value).bounds.intersectionWith(D.bounds))&&k.area>Y&&(Y=k.area,r[N.formaID]=u)}}else if(N.isTypeLockup()&&A.length>0)r[P]=A[0];else{var F,G,M;null!=(F=N.contentID)&&(G=o.opt(o.opt(e.forma,(function(t){return t.root})),(function(t){return t.formaByContentID(F)})))&&(M=e.formaMapping[G.formaID])&&(r[N.formaID]=M)}}}for(var B=[],U=o.iter(o.keys(e.formaMapping));!U.done;U.next()){var w;if(P=U.value,u=e.formaMapping[P],null!=this.forma&&o.opt(this.forma,(function(t){return null!=t.root}))){if(w=o.opt(o.opt(this.forma,(function(t){return t.root})),(function(t){return t.formaByID(P)}))){var H,x=!0;(H=o.as(o.opt(this.forma,(function(t){return t.controller})),h.GridController))&&(x=!H.isGridCell(w)||!w.isShape()),x&&(r[P]=u)}}else r[P]=u;null==this.indexedCell(u,o.clone(B))&&B.push(u)}this.setGridCells(i.concat()),this.removeFormaMapping();var K={};o.each(r,(function(t,e){K[t]=e})),this.gridCells.length<B.length&&(s.CoreAssert.fail("# of cells doesn't match","GridStyle.match","GridStyle.swift",585),d.Host.logging.info("cells "+this.gridCells.length+" mapped "+B));for(var W=o.iter(o.keys(K));!W.done;W.next())P=W.value,u=K[P],null==this.forma.formaByID(P)?(s.CoreAssert.fail("shouldn't point to a forma which isn't a child","GridStyle.match","GridStyle.swift",594),o.opt(o.opt(this.forma,(function(t){return t.root})),(function(t){return null==t.formaByID(P)}))&&s.CoreAssert.fail("we're really borked. pointing a forma which isn't in the forma tree","GridStyle.match","GridStyle.swift",597),o.removeKey(K,P)):null==this.indexedCell(u,o.clone(this.gridCells))&&(s.CoreAssert.fail("shouldn't point to a cell which isn't part of the grid.","GridStyle.match","GridStyle.swift",604),o.removeKey(K,P));this.formaMapping_=o.clone(K),this.commitFormaMapping()}},postCloneMatch:function(t){if(null!=this.forma&&null!=t.forma&&null!=this.forma.root)for(var e=o.clone(t.forma.visitAsArray(a.FormaTraversal.JustChildren)),i=o.keys(t.formaMapping),n=o.iter(i);!n.done;n.next()){var r,l=n.value,u=t.formaMapping[l];if(r=o.opt(this.forma,(function(t){return t.formaByID(l)}))){t.ensureFormaMapping();for(var c=o.iter(e);!c.done;c.next()){var h=c.value;r.frame.equalWithAccuracy(h.frame,.01)&&(t.formaMapping_[h.formaID]=u,o.removeKey(t.formaMapping_,l))}t.commitFormaMapping()}}else s.CoreAssert.fail("Serious error in grid style. Not pointing to correct forma","GridStyle.postCloneMatch","GridStyle.swift",619)},equals:function(t){return this.name==t.name&&this.geometricEquals(t)},geometricEquals:function(t){if(this.gridCells.length!=t.gridCells.length)return!1;for(var e=o.sort(this.gridCells,(function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)})),i=o.sort(t.gridCells,(function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)})),n=o.iter(o.range(0,e.length-1,!0));!n.done;n.next()){var r,s=n.value;if(!(r=e[s].bounds.intersectionWith(i[s].bounds)))return!1;if(Math.abs((r.area-e[s].bounds.area)/r.area)>.02)return!1}return!0},similarity:function(t){if(this.numCells!=t.numCells)return 1;for(var e=o.sort(this.gridCells,(function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)})),i=o.sort(t.gridCells,(function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)})),n=[],r=o.iter(o.range(0,e.length-1,!0));!r.done;r.next()){var s=r.value;n.push(e[s].bounds.similarity(i[s].bounds))}return n.reduce((function(t,e){return t+e}),0)/o.toDouble(n.length)},insetBackgroundCells:function(t){for(var e=o.iter(this.enumeratedNonOverlappingCells());!e.done;e.next()){var i,n=e.value;(i=n[1].bounds.intersectionWith(t))&&this.updateCellByIndex(n[0],i)}},asString:{get:function(){return this.name}}}}),n)},G1DZ:function(t,e,i){var n,r,o=e,s=i("oAGj");o.FormaSourceNamespace=s.defineEnum("FormaSourceNamespace",{DesignIngredient:"di:"}),o.FormaSourceUtils=(n=function(){},r={},s.defineClass({name:"FormaSourceUtils",ctor:n,statics:{allNamespaces:{get:function(){return void 0===r.allNamespaces&&(r.allNamespaces=[o.FormaSourceNamespace.DesignIngredient]),r.allNamespaces}},isValid:function(t){if(null==t)return!0;for(var e=s.iter(n.allNamespaces);!e.done;e.next()){var i=e.value;if(n.checkMatch(t,i))return!0}return!1},isDesignIngredient:function(t){return n.checkMatch(t,o.FormaSourceNamespace.DesignIngredient)},stripNamespace:function(t){for(var e=s.iter(n.allNamespaces);!e.done;e.next()){var i=e.value;if(t.startsWith(i))return t.substr(s.toString(i).length)}return t},checkMatch:function(t,e){var i;return!(!(i=s.opt(t,(function(t){return t.startsWith(e)})))&&null==i)&&i}}}),n)},LCGV:function(t,e,i){var n,r=e,o=i("oAGj"),s=i("ascj"),l=i("QbzR"),a=i("Zifs");r.TextStyle=(n=function(){},o.defineClass({name:"TextStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"TextStyle"}},KIND:{get:function(){return"TextStyle"}},factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_70dd(a.SolidColor.WHITE)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e)},init_70dd:function(t){o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,n.KIND,1,s.ColorTable.createWithOneSolidColor(t))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorLibrary:{get:function(){return l.FormaStyle._getters.colorLibrary.call(this)},set:function(t){this.setColorLibraryWithoutSubscribing(t)}},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary}}}),n)},LcYy:function(t,e,i){var n,r,o=e,s=i("oAGj"),l=i("SpAV"),a=i("iCxV"),u=i("Quhx"),c=i("9YN4");o.DocumentHistory=(n=function(){},r={},s.defineClass({name:"DocumentHistory",ctor:n,superName:"PostDCXObject",statics:{SCHEMA_CLASS_NAME:"DocumentHistory",factory:{get:function(){return void 0===r.factory&&(r.factory=function(t,e,i,r){var o=s.as(s.opt(s.opt(r,(function(t){return t.backLink})),(function(t){return t.dereference()})),c.TheoDocument);return l.CoreAssert.isTrue(null!=o,"DocumentHistory needs a parent document","DocumentHistory","DocumentHistory.swift",15),n.init_7e49(t,i,o)}),r.factory},set:function(t){r.factory=t}},PROPERTY_ENTRIES:"entries",PATH:"document-history",MAX_HISTORY_SIZE:100,_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_7e49:function(t,e,i){this.parent_=i,s.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_3181,i.database,e,t)},init_d0e4:function(t){this.parent_=t,s.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_11e0,t.database),this.set(u.PostDCXObject.PROPERTY_PATH,n.PATH),this.postEntry("initialized")},className:{get:function(){return n.SCHEMA_CLASS_NAME}},parent:{get:function(){return this.parent_}},entries:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_ENTRIES),["Array","String"]))||null!=t?t:[]}},postEntry:function(t){var e,i,r,o=this.database.beginTransaction("updateHistory",null),l=s.clone(this.entries);l.length>=n.MAX_HISTORY_SIZE&&l.shift();var u="when:'"+((e=s.opt(a.Host.logging,(function(t){return t.timeStamp()})))||null!=e?e:"?")+"';platform:'"+((i=s.opt(a.Host.logging,(function(t){return t.platformID()})))||null!=i?i:"?")+" ("+((r=s.opt(a.Host.logging,(function(t){return t.additionalPlatformInfo()})))||null!=r?r:"?")+")';format#:"+s.toString(c.TheoDocument.CURRENT_VERSION)+";operation:'"+t+"'";l.push(u),this.set(n.PROPERTY_ENTRIES,s.clone(l)),o.mergeWithPrevious()},entryCount:{get:function(){return this.entries.length}},entryAt:function(t){return t<0||t>=this.entries.length?(l.CoreAssert.warning("entryAt: Invalid index requested, returning empty string"),""):this.entries[t]},forEachEntry:function(t){for(var e=s.iter(this.entries);!e.done;e.next())t(e.value)},clear:function(){this.set(n.PROPERTY_ENTRIES,[])}}}),n)},QTen:function(t,e,i){var n,r,o=e,s=i("oAGj"),l=i("SpAV"),a=i("ascj"),u=i("uWOl"),c=i("RkYL");o.VideoStyle=(n=function(){},r={},s.defineClass({name:"VideoStyle",ctor:n,superName:"ImageStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"VideoStyle"}},KIND:{get:function(){return"VideoStyle"}},PROPERTY_VOLUME:"volume",PROPERTY_STARTTIME:"start-time",PROPERTY_DURATION:"duration",volumeOff:0,volumeLow:.3,volumeFull:1,kMaxDuration:{get:function(){return void 0===r.kMaxDuration&&(r.kMaxDuration=c.TheoTime.fromSecondsAsMs(15)),r.kMaxDuration}},kTrimPadding:{get:function(){return void 0===r.kTrimPadding&&(r.kTrimPadding=c.TheoTime.fromSecondsAsMs(3)),r.kTrimPadding}},initialProps:{get:function(){return void 0===r.initialProps&&(r.initialProps={volume:n.volumeFull,"start-time":c.TheoTime.Zero,duration:c.TheoTime.Zero}),r.initialProps}},factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){s.super_init(this,u.ImageStyle,u.ImageStyle.prototype.init_866e,t,e)},init_dd5d:function(t,e){for(var i=s.clone(e),r=s.iter(n.initialProps);!r.done;r.next()){var o=r.key,l=r.value;null==t[o]&&null==e[o]&&(i[o]=l)}s.super_init(this,u.ImageStyle,u.ImageStyle.prototype.init_dd5d,s.clone(t),s.clone(i))},init_d41d:function(){s.super_init(this,u.ImageStyle,u.ImageStyle.prototype.init_a6fe,n.KIND,u.ImageStyle.DEFAULT_NAME,a.ColorTable.createDefault(),s.clone(n.initialProps))},volumeLevel:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_VOLUME),"Double"))||null!=t?t:n.volumeFull},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_VOLUME,t),this.notifyAfter()}},startTime:{get:function(){var t,e;return(e=this._transientStartTime)?e:(t=s.as(this.get(n.PROPERTY_STARTTIME),c.TheoTime))||null!=t?t:c.TheoTime.fromSecondsAsMs(0)},set:function(t){l.CoreAssert.isTrue(null==this._transientStartTime,"Can't set startTime while using transient time","VideoStyle","VideoStyle.swift",93),this.notifyBefore(),this.set(n.PROPERTY_STARTTIME,t),this.notifyAfter()}},endTime:{get:function(){return this.startTime.add(this.duration)},set:function(t){this.duration=t.subtract(this.startTime)}},duration:{get:function(){var t,e;return(e=this._transientDuration)?e:(t=s.as(this.get(n.PROPERTY_DURATION),c.TheoTime))||null!=t?t:c.TheoTime.fromSecondsAsMs(0)},set:function(t){l.CoreAssert.isTrue(null==this._transientDuration,"Can't set startTime while using transient time","VideoStyle","VideoStyle.swift",119),this.notifyBefore(),t.seconds>n.kMaxDuration.seconds?this.set(n.PROPERTY_DURATION,n.kMaxDuration):this.set(n.PROPERTY_DURATION,t),this.notifyAfter()}},setTransientTime:function(t,e){var i,n,r=e.safeSubtract(t);(!(i=this._transientStartTime)||!(n=this._transientDuration)||!i.equals(t)||!n.equals(r))&&(this.notifyBefore(),this._transientStartTime=t,this._transientDuration=r,this.notifyAfter())},resetTransientTime:function(){null==this._transientStartTime&&null==this._transientDuration||(this.notifyBefore(),this._transientStartTime=null,this._transientDuration=null,this.notifyAfter())},className:{get:function(){return n.SCHEMA_CLASS_NAME}},match:function(t){var e=this.startTime,i=this.duration;u.ImageStyle.prototype.match.call(this,t),this.startTime=e,this.duration=i},mergeWithImageStyle:function(t){var e,i,r=this,o=null;if(e=t)if(i=s.as(e,n))o=s.as(i.clone(),n),s.opt(o,(function(t){return t.startTime=r.startTime})),s.opt(o,(function(t){return t.duration=r.duration}));else{var l=s.clone(e.state.allProperties),a={volume:this.volumeLevel,"start-time":this.startTime,duration:this.duration,kind:n.KIND};(o=n.init_dd5d(s.clone(l),s.clone(a))).colorLibrary=e.colorLibrary}return o},downgradeToImageStyle:function(){var t={kind:u.ImageStyle.KIND};return u.ImageStyle.init_dd5d(s.clone(this.state.allProperties),s.clone(t))}}}),n)},QbzR:function(t,e,i){var n,r,o,s=e,l=i("oAGj"),a=i("SpAV"),u=i("ascj"),c=i("dJuF"),h=i("4mVB"),f=i("ZhwN"),d=i("Qlvz"),_=i("SDdr"),T=i("Quhx"),R=i("90dd");s.FormaStyle=(n=function(){this.notifyDepth_=0},r={},l.defineClass({name:"FormaStyle",ctor:n,superName:"PostPublishingObject",statics:{SCHEMA_CLASS_NAME:{get:function(){return"FormaStyle"}},SCHEMA_ALL_TYPES_NAME:"FormaStyleTypes",codec:{get:function(){return void 0===r.codec&&(r.codec=c.DBPropertyCodec.registerCodec(n.SCHEMA_ALL_TYPES_NAME,c.DBPropertyCodec.directObjectCodec(n.SCHEMA_CLASS_NAME))),r.codec}},PROPERTY_KIND:"kind",PROPERTY_OPACITY:"opacity",PROPERTY_COLORS:"color-table",PROPERTY_FILTER:"filter",PROPERTY_ADJUSTMENTS:"adjustments",KIND:{get:function(){return"FormaStyle"}},factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_5afe(n.KIND,1,null)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_5afe:function(t,e,i,r,o,a){void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null);var c={kind:t,opacity:e,"color-table":i||u.ColorTable.createDefault(),adjustments:o||d.ImageAdjustments.createDefault()};if(null!=r&&(c[n.PROPERTY_FILTER]=r),null!=a)for(var h=l.iter(a);!h.done;h.next()){var f=h.key,_=h.value;c[f]=_}l.super_init(this,T.PostPublishingObject,T.PostPublishingObject.prototype.init_dd5d,{},l.clone(c)),null!=r&&(r.style=this),this.beforeMsg_=new s.FormaStyleChangedMessage(this,!1),this.afterMsg_=new s.FormaStyleChangedMessage(this,!0),this.colors.owner=this},init_866e:function(t,e){var i;l.super_init(this,T.PostPublishingObject,T.PostPublishingObject.prototype.init_866e,t,e),(i=l.as(this.get(n.PROPERTY_FILTER),_.ImageFilter))&&(i.style=this),null==l.as(this.get(n.PROPERTY_COLORS),u.ColorTable)&&this.set(n.PROPERTY_COLORS,u.ColorTable.createDefault()),null==l.as(this.get(n.PROPERTY_ADJUSTMENTS),d.ImageAdjustments)&&this.set(n.PROPERTY_ADJUSTMENTS,d.ImageAdjustments.createDefault()),this.beforeMsg_=new s.FormaStyleChangedMessage(this,!1),this.afterMsg_=new s.FormaStyleChangedMessage(this,!0),this.colors.owner=this},init_dd5d:function(t,e){var i,r=l.clone(e);null==t[n.PROPERTY_COLORS]&&null==e[n.PROPERTY_COLORS]&&(r[n.PROPERTY_COLORS]=u.ColorTable.createDefault()),null==t[n.PROPERTY_ADJUSTMENTS]&&null==e[n.PROPERTY_ADJUSTMENTS]&&(r[n.PROPERTY_ADJUSTMENTS]=d.ImageAdjustments.createDefault()),l.super_init(this,T.PostPublishingObject,T.PostPublishingObject.prototype.init_dd5d,l.clone(t),l.clone(r)),(i=l.as(this.get(n.PROPERTY_FILTER),_.ImageFilter))&&(i.style=this),this.beforeMsg_=new s.FormaStyleChangedMessage(this,!1),this.afterMsg_=new s.FormaStyleChangedMessage(this,!0),this.colors.owner=this},didChangeState:function(t){var e=this;T.PostPublishingObject.prototype.didChangeState.call(this,l.clone(t)),l.opt(this.filter,(function(t){return t.style=e}))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},kind:{get:function(){return this.get(n.PROPERTY_KIND)}},filter:{get:function(){return l.as(this.get(n.PROPERTY_FILTER),_.ImageFilter)},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_FILTER,t),this.notifyAfter()}},adjustments:{get:function(){return l.as(this.get(n.PROPERTY_ADJUSTMENTS),d.ImageAdjustments)},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_ADJUSTMENTS,t),this.notifyAfter()}},opacity:{get:function(){var t;return(t=l.as(this.get(n.PROPERTY_OPACITY),"Double"))||null!=t?t:1},set:function(t){t!=this.opacity&&(this.notifyBefore(),this.set(n.PROPERTY_OPACITY,t),this.notifyAfter())}},colorLibrary:{get:function(){return this.colorLibrary_},set:function(t){this.colorLibrary_=t,l.opt(this.colors_,(function(e){return e.library=t}))}},clearColorLibrarySub:function(){l.opt(this.colors_,(function(t){return t.library=null})),this.colorLibrary_=null},setColorLibraryWithoutSubscribing:function(t){this.colorLibrary_=t,this.colors.setColorLibraryWithoutSubscribing(t)},colors_:{get:function(){return l.as(this.get(n.PROPERTY_COLORS),u.ColorTable)},set:function(t){this.set(n.PROPERTY_COLORS,t)}},colors:{get:function(){var t,e;return(t=this.colors_)?t:((e=this.owner_)?a.CoreAssert.fail("Getting a nil color table from style with "+e.kind+" forma "+e.id,"FormaStyle","FormaStyle.swift",195):a.CoreAssert.fail("Getting a nil color table from style with nil forma","FormaStyle","FormaStyle.swift",197),u.ColorTable.createDefault())}},dispose:function(){this.colorLibrary=null},owner:{get:function(){return this.owner_},set:function(t){this.owner_=t}},clone:function(){var t,e,i=l.as(this.fork(f.GUIDUtils.makeGUID()),n);return(t=i)&&(t.set(n.PROPERTY_COLORS,l.opt(this.colors_,(function(t){return t.clone()}))||u.ColorTable.createDefault()),t.colors.owner=i,t.colorLibrary=this.colorLibrary),(e=l.as(i,h.GridStyle))&&(e.moveableShift=l.as(this,h.GridStyle).moveableShift),i},cloneToDatabase:function(t){var e=this,i=l.as(this.forkToDatabase(f.GUIDUtils.makeGUID(),!1,t,null),n);return null!=i&&this.persisted&&this.database===t&&(i.colorLibrary=this.colorLibrary),l.opt(i,(function(t){return t.set(n.PROPERTY_COLORS,l.opt(e.colors_,(function(t){return t.clone()}))||u.ColorTable.createDefault())})),l.opt(i,(function(t){return t.colors.owner=i})),l.opt(i,(function(t){return t.colors.library=l.opt(i,(function(t){return t.colorLibrary}))})),i},detachFromDatabase:function(){return this.cloneToDatabase(null)},match:function(t){var e=l.clone(t.state.allProperties);this.notifyBefore(),this.matchProperties(l.clone(e)),this.notifyAfter()},asString:{get:function(){return""}},notifyBefore:function(){this.notifyDepth_+=1,1==this.notifyDepth_&&this.publish(this.beforeMsg_)},notifyAfter:function(){a.CoreAssert.isTrue(this.notifyDepth_>0,void 0,"FormaStyle.notifyAfter","FormaStyle.swift",295),1==this.notifyDepth_&&this.publish(this.afterMsg_),this.notifyDepth_-=1},colorTableBeforeChanged:function(){this.notifyBefore()},colorTableAfterChanged:function(){this.notifyAfter()},colorTableSupportsRole:function(t){return!1}}}),n),s.FormaStyleChangedMessage=(o=function t(e,i){this.isBefore=!i,this.isAfter=i,R.TheoMessage.call(this,t.TYPE,e)},l.defineClass({name:"FormaStyleChangedMessage",ctor:o,superName:"TheoMessage",statics:{TYPE:{get:function(){return"FormaStyleChangedMessage"}}}}),o)},Qlvz:function(t,e,i){var n,r=e,o=i("oAGj"),s=i("SpAV");r.ImageAdjustments=(n=function t(e,i,n,r,o,s,l,a,u,c,h,f){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===a&&(a=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),this.name=t.NAME,this.blur_=e,this.sharpness_=i,this.contrast_=a,this.saturation_=o,this.brightness_=s,this.exposure_=l,this.contrast_=a,this.shadows_=n,this.highlights_=r,this.warmth_=u,this.tint_=c,this.fade_=h,this.vibrance_=f},o.defineClass({name:"ImageAdjustments",ctor:n,superName:"CoreObject",statics:{NAME:{get:function(){return"ImageAdjustments"}},PROPERTY_NAME:"name",PROPERTY_BLUR:"blur",PROPERTY_SHARPNESS:"sharpness",PROPERTY_SHADOWS:"shadows",PROPERTY_HIGHLIGHTS:"highlights",PROPERTY_SATURATION:"saturation",PROPERTY_BRIGHTNESS:"brightness",PROPERTY_EXPOSURE:"exposure",PROPERTY_CONTRAST:"contrast",PROPERTY_WARMTH:"warmth",PROPERTY_TINT:"tint",PROPERTY_FADE:"fade",PROPERTY_VIBRANCE:"vibrance",createDefault:function(){return new n(0,0,0,0,0,0,0,0,0,0,0,0)},decodeJson:function(t){if(null==t)return null;var e;if(e=o.as(t,["Dictionary","String","Any"])){var i=n.createDefault();return i.decodeFromJson(e),i}return s.CoreAssert.fail("ImageFilter.decodeJson: could not create style","ImageAdjustments.decodeJson","ImageAdjustments.swift",222),null}},props:{blur:{get:function(){return this.blur_}},scaledBlur:{get:function(){return this.blur_/3}},sharpness:{get:function(){return this.sharpness_}},scaledSharpness:{get:function(){return this.sharpness_/3}},shadows:{get:function(){return this.shadows_}},highlights:{get:function(){return this.highlights_}},saturation:{get:function(){return this.saturation_}},brightness:{get:function(){return this.brightness_}},exposure:{get:function(){return this.exposure_}},contrast:{get:function(){return this.contrast_}},warmth:{get:function(){return this.warmth_}},tint:{get:function(){return this.tint_}},fade:{get:function(){return this.fade_}},vibrance:{get:function(){return this.vibrance_}},copyWithNewValues:function(t,e,i,r,o,s,l,a,u,c,h,f){var d,_,T,R,p,P,g,S,y,E,m,O;return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===a&&(a=null),void 0===u&&(u=null),void 0===c&&(c=null),void 0===h&&(h=null),void 0===f&&(f=null),new n((d=t)||null!=d?d:this.blur_,(_=e)||null!=_?_:this.sharpness_,(T=i)||null!=T?T:this.shadows_,(R=r)||null!=R?R:this.highlights_,(p=o)||null!=p?p:this.saturation_,(P=s)||null!=P?P:this.brightness_,(g=l)||null!=g?g:this.exposure_,(S=a)||null!=S?S:this.contrast_,(y=u)||null!=y?y:this.warmth_,(E=c)||null!=E?E:this.tint_,(m=h)||null!=m?m:this.fade_,(O=f)||null!=O?O:this.vibrance_)},copyWithNewValue:function(t,e){switch(e){case"blur":return this.copyWithNewValues(t);case"sharpness":return this.copyWithNewValues(void 0,t);case"shadows":return this.copyWithNewValues(void 0,void 0,t);case"highlights":return this.copyWithNewValues(void 0,void 0,void 0,t);case"saturation":return this.copyWithNewValues(void 0,void 0,void 0,void 0,t);case"brightness":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,t);case"exposure":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,t);case"contrast":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"warmth":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"tint":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"fade":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"vibrance":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);default:return this.copyWithNewValues()}},encodeJson:function(){var t={};return t[n.PROPERTY_NAME]=this.name,t[n.PROPERTY_BLUR]=this.blur_,t[n.PROPERTY_SHARPNESS]=this.sharpness_,t[n.PROPERTY_SHADOWS]=this.shadows_,t[n.PROPERTY_HIGHLIGHTS]=this.highlights_,t[n.PROPERTY_SATURATION]=this.saturation_,t[n.PROPERTY_BRIGHTNESS]=this.brightness_,t[n.PROPERTY_EXPOSURE]=this.exposure_,t[n.PROPERTY_CONTRAST]=this.contrast_,t[n.PROPERTY_WARMTH]=this.warmth_,t[n.PROPERTY_TINT]=this.tint_,t[n.PROPERTY_FADE]=this.fade_,t[n.PROPERTY_VIBRANCE]=this.vibrance_,t},decodeFromJson:function(t){var e,i,r,s,l,a,u,c,h,f,d,_,T;this.name=(e=o.as(t[n.PROPERTY_NAME],"String"))||null!=e?e:"",this.blur_=(i=o.as(t[n.PROPERTY_BLUR],"Double"))||null!=i?i:0,this.sharpness_=(r=o.as(t[n.PROPERTY_SHARPNESS],"Double"))||null!=r?r:0,this.shadows_=(s=o.as(t[n.PROPERTY_SHADOWS],"Double"))||null!=s?s:0,this.highlights_=(l=o.as(t[n.PROPERTY_HIGHLIGHTS],"Double"))||null!=l?l:0,this.saturation_=(a=o.as(t[n.PROPERTY_SATURATION],"Double"))||null!=a?a:0,this.brightness_=(u=o.as(t[n.PROPERTY_BRIGHTNESS],"Double"))||null!=u?u:0,this.exposure_=(c=o.as(t[n.PROPERTY_EXPOSURE],"Double"))||null!=c?c:0,this.contrast_=(h=o.as(t[n.PROPERTY_CONTRAST],"Double"))||null!=h?h:1,this.warmth_=(f=o.as(t[n.PROPERTY_WARMTH],"Double"))||null!=f?f:0,this.tint_=(d=o.as(t[n.PROPERTY_TINT],"Double"))||null!=d?d:0,this.fade_=(_=o.as(t[n.PROPERTY_FADE],"Double"))||null!=_?_:0,this.vibrance_=(T=o.as(t[n.PROPERTY_VIBRANCE],"Double"))||null!=T?T:0},clone:function(){return n.decodeJson(this.encodeJson())},equals:function(t){return this.blur==o.opt(t,(function(t){return t.blur}))&&this.sharpness==o.opt(t,(function(t){return t.sharpness}))&&this.shadows==o.opt(t,(function(t){return t.shadows}))&&this.highlights==o.opt(t,(function(t){return t.highlights}))&&this.saturation==o.opt(t,(function(t){return t.saturation}))&&this.brightness==o.opt(t,(function(t){return t.brightness}))&&this.exposure==o.opt(t,(function(t){return t.exposure}))&&this.contrast==o.opt(t,(function(t){return t.contrast}))&&this.warmth==o.opt(t,(function(t){return t.warmth}))&&this.tint==o.opt(t,(function(t){return t.tint}))&&this.fade==o.opt(t,(function(t){return t.fade}))&&this.vibrance==o.opt(t,(function(t){return t.vibrance}))},isDefault:function(){return 0==this.blur&&0==this.sharpness&&0==this.shadows&&0==this.highlights&&0==this.saturation&&0==this.brightness&&0==this.exposure&&0==this.contrast&&0==this.warmth&&0==this.tint&&0==this.fade&&0==this.vibrance},asString:{get:function(){return n.PROPERTY_BLUR+": "+this.blur+n.PROPERTY_SHARPNESS+": "+this.sharpness+n.PROPERTY_SHADOWS+": "+this.shadows+n.PROPERTY_HIGHLIGHTS+": "+this.highlights+n.PROPERTY_SATURATION+": "+this.saturation+n.PROPERTY_BRIGHTNESS+": "+this.brightness+n.PROPERTY_EXPOSURE+": "+this.exposure+n.PROPERTY_CONTRAST+": "+this.contrast+n.PROPERTY_WARMTH+": "+this.warmth+n.PROPERTY_TINT+": "+this.tint+n.PROPERTY_FADE+": "+this.fade+n.PROPERTY_VIBRANCE+": "+this.vibrance}}}}),n)},SDdr:function(t,e,i){var n,r,o=e,s=i("oAGj"),l=i("dJuF"),a=i("ZhwN"),u=i("Quhx");o.ImageFilter=(n=function(){},r={},s.defineClass({name:"ImageFilter",ctor:n,superName:"PostPublishingObject",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ImageFilter"}},SCHEMA_ALL_TYPES_NAME:"ImageFilterTypes",codec:{get:function(){return void 0===r.codec&&(r.codec=l.DBPropertyCodec.registerCodec(n.SCHEMA_ALL_TYPES_NAME,l.DBPropertyCodec.directObjectCodec(n.SCHEMA_CLASS_NAME))),r.codec}},KIND:{get:function(){return"ImageFilter"}},PROPERTY_KIND:"kind",PROPERTY_NAME:"name",createDefault:function(){return n.init_37f0(void 0,n.KIND,{})},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(t,e){s.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_866e,t,e)},init_dd5d:function(t,e){s.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_dd5d,s.clone(t),s.clone(e))},init_37f0:function(t,e,i){void 0===t&&(t="");var r=s.clone(i);r[n.PROPERTY_KIND]=e,r[n.PROPERTY_NAME]=t,s.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_dd5d,{},s.clone(r))},clone:function(){return s.as(this.fork(a.GUIDUtils.makeGUID()),n)},className:{get:function(){return n.SCHEMA_CLASS_NAME}},kind:{get:function(){return this.get(n.PROPERTY_KIND)}},name:{get:function(){return this.get(n.PROPERTY_NAME)}},style:{get:function(){return this.style_},set:function(t){this.style_=t}},colors:{get:function(){return s.opt(this.style,(function(t){return t.colors}))}},equals:function(t){return this.name==s.opt(t,(function(t){return t.name}))},asString:{get:function(){return"Filter: "+this.name+" "+this.kind}}}}),n),o.AlphaBlendFilter=function(){var t=function(){},e={};return s.defineClass({name:"AlphaBlendFilter",ctor:t,superName:"ImageFilter",statics:{SCHEMA_CLASS_NAME:{get:function(){return"AlphaBlendFilter"}},PROPERTY_MIX:"mix",PROPERTY_FILTER_1:"filter1",PROPERTY_FILTER_2:"filter2",factory:{get:function(){return void 0===e.factory&&(e.factory=function(e,i,n,r){return t.init_866e(n,e)}),e.factory},set:function(t){e.factory=t}},createDefault:function(){return t.init_fa22(void 0,1,null,null)},KIND:{get:function(){return"AlphaBlend"}},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(t,e){s.super_init(this,o.ImageFilter,o.ImageFilter.prototype.init_866e,t,e)},init_fa22:function(e,i,n,r){void 0===e&&(e="");var l={mix:i};null!=n&&(l[t.PROPERTY_FILTER_1]=n.clone()),null!=r&&(l[t.PROPERTY_FILTER_2]=r.clone()),s.super_init(this,o.ImageFilter,o.ImageFilter.prototype.init_37f0,e,t.KIND,s.clone(l)),null!=n&&s.opt(this.filter1,(function(t){return t.style=n.style})),null!=r&&s.opt(this.filter2,(function(t){return t.style=r.style}))},className:{get:function(){return t.SCHEMA_CLASS_NAME}},mix:{get:function(){var e;return(e=s.as(this.get(t.PROPERTY_MIX),"Double"))||null!=e?e:1},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_MIX,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},filter1:{get:function(){return s.as(this.get(t.PROPERTY_FILTER_1),o.ImageFilter)},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_FILTER_1,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},filter2:{get:function(){return s.as(this.get(t.PROPERTY_FILTER_2),o.ImageFilter)},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_FILTER_2,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},equals:function(e){var i;return!!(i=s.as(e,t))&&(null==i.filter1&&null==this.filter1||null==i.filter2&&null==this.filter2?null!=i.filter1?i.filter1.equals(this.filter1):null==i.filter2||i.filter2.equals(this.filter2):!(null==i.filter1&&null!=this.filter1||null==i.filter2&&null!=this.filter2||null!=i.filter1&&null==this.filter1||null!=i.filter2&&null==this.filter2)&&(this.filter1.equals(i.filter1)&&this.filter2.equals(i.filter2)&&this.mix==i.mix))},asString:{get:function(){return o.ImageFilter._getters.asString.call(this)+" "+this.mix+" 1:["+(null!=this.filter1?this.filter1.asString:"nil")+"] 2:["+(null!=this.filter2?this.filter2.asString:"nil")+"]"}}}}),t}(),o.CompositeFilter=function(){var t=function(){},e={};return s.defineClass({name:"CompositeFilter",ctor:t,superName:"ImageFilter",statics:{SCHEMA_CLASS_NAME:{get:function(){return"CompositeFilter"}},PROPERTY_MIX:"mix",PROPERTY_BLEND:"blend",PROPERTY_GRAYSCALE:"grayscale",PROPERTY_CONTRAST:"contrast",PROPERTY_COLOR_OPERATION:"color-operation",PROPERTY_SATURATION_OFFSET:"saturation-offset",PROPERTY_BRIGHTNESS_OFFSET:"brightness-offset",PROPERTY_BLUR_RADIUS:"blur-radius",PROPERTY_REDUCE_CONTRAST:"reduce-contrast",factory:{get:function(){return void 0===e.factory&&(e.factory=function(e,i,n,r){return t.init_866e(n,e)}),e.factory},set:function(t){e.factory=t}},createDefault:function(){return t.init_514f(void 0,void 0,void 0,"")},KIND:{get:function(){return"CompositeFilter"}},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(e,i){var n;s.super_init(this,o.ImageFilter,o.ImageFilter.prototype.init_866e,e,i),"duotone"==this.blend&&this.set(t.PROPERTY_BLEND,"normal"),((n=s.as(this.get(t.PROPERTY_REDUCE_CONTRAST),"Bool"))||null!=n)&&n&&this.set(t.PROPERTY_CONTRAST,.5)},init_514f:function(e,i,n,r,l,a,u,c,h,f){void 0===e&&(e=null),void 0===i&&(i=""),void 0===n&&(n=1),void 0===r&&(r="normal"),void 0===l&&(l=!1),void 0===a&&(a=1),void 0===u&&(u=null),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0);var d={mix:n,blend:r,grayscale:l,contrast:a,"saturation-offset":c,"brightness-offset":h,"blur-radius":f};null!=u&&(d[t.PROPERTY_COLOR_OPERATION]=u),s.super_init(this,o.ImageFilter,o.ImageFilter.prototype.init_37f0,i,t.KIND,s.clone(d)),this.style=e},className:{get:function(){return t.SCHEMA_CLASS_NAME}},mix:{get:function(){var e;return(e=s.as(this.get(t.PROPERTY_MIX),"Double"))||null!=e?e:1},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_MIX,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},blend:{get:function(){var e;return(e=s.as(this.get(t.PROPERTY_BLEND),"String"))||null!=e?e:"normal"},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_BLEND,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},grayscale:{get:function(){var e;return!(!(e=s.as(this.get(t.PROPERTY_GRAYSCALE),"Bool"))&&null==e)&&e},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_GRAYSCALE,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},contrast:{get:function(){var e;return(e=s.as(this.get(t.PROPERTY_CONTRAST),"Double"))||null!=e?e:1},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_CONTRAST,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},blurRadius:{get:function(){var e;return(e=s.as(this.get(t.PROPERTY_BLUR_RADIUS),"Double"))||null!=e?e:0},set:function(e){s.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_BLUR_RADIUS,e),s.opt(this.style,(function(t){return t.notifyAfter()}))}},colorOperation:{get:function(){var e;return(e=s.as(this.get(t.PROPERTY_COLOR_OPERATION),"String"))||null!=e?e:""}},saturation:{get:function(){var e;return s.toString((e=s.as(this.get(t.PROPERTY_SATURATION_OFFSET),"Double"))||null!=e?e:0)}},brightness:{get:function(){var e;return s.toString((e=s.as(this.get(t.PROPERTY_BRIGHTNESS_OFFSET),"Double"))||null!=e?e:0)}},equals:function(e){var i;return!!(i=s.as(e,t))&&(this.name==s.opt(e,(function(t){return t.name}))&&this.mix==i.mix&&this.blurRadius==i.blurRadius)},asString:{get:function(){return o.ImageFilter._getters.asString.call(this)+" "+this.mix+" blend:"+this.blend+" grayscale:"+this.grayscale+" contrast:"+this.contrast+" blurRadius:"+this.blurRadius+" colorOperation:"+this.colorOperation+" saturation:"+this.saturation+" brightness:"+this.brightness}}}}),t}()},"c+uM":function(t,e,i){var n,r,o=e,s=i("oAGj"),l=i("qsM9"),a=i("SpAV"),u=i("ascj"),c=i("fVJ2"),h=i("dJuF"),f=i("13MC"),d=i("QbzR"),_=i("ZhwN"),T=i("iCxV"),R=i("VDg0"),p=i("3DEm"),P=i("Zifs"),g=i("35Q0"),S=i("VJ9E"),y=i("BgH2"),E=i("oKI3");o.OpacityRule=s.defineEnum("OpacityRule",{UNSET:-1,Full:0,MediumBacking:1,FaintBacking:2,Medium:3,Faint:4,UseLockupOpacities:5,Count:6}),o.LockupLayout=s.defineEnum("LockupLayout",{SKIP:-2,UNSET:-1,FitJustified:0,LegacyLeft:1,LegacyRight:2,LegacyCenter:3,Standard:4,LetterGrid:5,Path:6}),o.LockupAlignment=s.defineEnum("LockupAlignment",{SKIP:-2,UNSET:-1,Left:0,Right:1,Center:2}),o.VerticalLockupAlignment=s.defineEnum("VerticalLockupAlignment",{UNSET:-1,Top:0,Bottom:1,VerticalCenter:2}),o.LockupBacking=s.defineEnum("LockupBacking",{UNSET:-1,None:0,Frame:1,Rows:2,Box:3,LegacyShadow:4,Banner:5,LeftRight:6,SVGBackground:7,BannerVertical:8,BannerHorizontal:9,TopBottom:10,Knockout:11}),o.LockupTextLook=s.defineEnum("LockupTextLook",{SKIP:-2,UNSET:-1,Fill:0,KnockoutOnly:1,KnockoutAndOutline:2,OutlineOnly:3,FillAndOutline:4,FillAndOutline2:5,KnockoutAndFill:6,Shadow:7,ShadowAndOutline:8,KnockoutAndShadow:9}),o.LockupStyle=(n=function(){this.cachedCharacterStyles_=null},r={},s.defineClass({name:"LockupStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"LockupStyle"}},KIND:{get:function(){return"LockupStyle"}},DEFAULT_PADDING:.65,DEFAULT_SPACING:.35,DEFAULT_SHADOWOFFSET:.5,DEFAULT_STROKEWEIGHT:.1,DEFAULT_WHEELUSED:!1,DEFAULT_TRACKING:0,OPACITY_UNSET:-1,UNSET_FONT:null,UNSET_SPACING:-1,UNSET_TRACKING:-99,UNSET_PADDING:0,UNSET_BACKING:{get:function(){return void 0===r.UNSET_BACKING&&(r.UNSET_BACKING=o.LockupBacking.None),r.UNSET_BACKING}},UNSET_LAYOUT:{get:function(){return void 0===r.UNSET_LAYOUT&&(r.UNSET_LAYOUT=o.LockupLayout.UNSET),r.UNSET_LAYOUT}},UNSET_OPACITY_RULE:{get:function(){return void 0===r.UNSET_OPACITY_RULE&&(r.UNSET_OPACITY_RULE=o.OpacityRule.UNSET),r.UNSET_OPACITY_RULE}},UNSET_BACKING_ARTWORK_ID:null,UNSET_SHADOW_ANGLE:-1,UNSET_TEXT_OPACITY:{get:function(){return void 0===r.UNSET_TEXT_OPACITY&&(r.UNSET_TEXT_OPACITY=n.OPACITY_UNSET),r.UNSET_TEXT_OPACITY}},UNSET_BACKING_OPACITY:{get:function(){return void 0===r.UNSET_BACKING_OPACITY&&(r.UNSET_BACKING_OPACITY=n.OPACITY_UNSET),r.UNSET_BACKING_OPACITY}},UNSET_TEXT_LOOK:{get:function(){return void 0===r.UNSET_TEXT_LOOK&&(r.UNSET_TEXT_LOOK=o.LockupTextLook.UNSET),r.UNSET_TEXT_LOOK}},UNSET_SHADOW_OFFSET:-1,UNSET_STROKE_WEIGHT:-1,PROPERTY_FONTS:"fonts",PROPERTY_SPACING:"spacing",PROPERTY_TRACKING:"tracking",PROPERTY_PADDING:"padding",PROPERTY_BACKING:"backing",PROPERTY_LAYOUT:"layout",PROPERTY_ALIGNMENT:"alignment",PROPERTY_VERTICAL_ALIGNMENT:"verticalAlignment",PROPERTY_OPACITY_RULE:"opacityRule",PROPERTY_BACKING_ARTWORK_ID:"backingArtworkID",PROPERTY_SHADOW_ANGLE:"shadowAngle",PROPERTY_COLORS_DEPRECATED:"colors",PROPERTY_TEXT_OPACITY:"text-opacity",PROPERTY_BACKING_OPACITY:"backing-opacity",PROPERTY_KNOCKOUT:"knockout",PROPERTY_CHARSTYLES:"character-styles",PROPERTY_SHADOW_OFFSET:"shadowOffset",PROPERTY_STROKE_WEIGHT:"strokeWeight",PROPERTY_LINEBREAK:"linebreak",PROPERTY_PATH_ID:"pathID",PROPERTY_CUSTOM_PATH:"customPath",PROPERTY_WHEELUSED:"wheel-used",unsetCharacterStyleProperties:{get:function(){return void 0===r.unsetCharacterStyleProperties&&(r.unsetCharacterStyleProperties=s.dict([n.PROPERTY_SPACING,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_SPACING),n.UNSET_SPACING,!0),n.PROPERTY_TRACKING,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_TRACKING),n.UNSET_TRACKING,!0),n.PROPERTY_PADDING,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_PADDING),n.UNSET_PADDING,!0),n.PROPERTY_BACKING,h.DBProperty.intProperty(h.DBNamePath.init_1346(n.PROPERTY_BACKING),n.UNSET_BACKING,!0),n.PROPERTY_SHADOW_ANGLE,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_SHADOW_ANGLE),n.UNSET_SHADOW_ANGLE,!0),n.PROPERTY_LAYOUT,h.DBProperty.intProperty(h.DBNamePath.init_1346(n.PROPERTY_LAYOUT),n.UNSET_LAYOUT,!0),n.PROPERTY_OPACITY_RULE,h.DBProperty.intProperty(h.DBNamePath.init_1346(n.PROPERTY_OPACITY_RULE),n.UNSET_OPACITY_RULE,!0),n.PROPERTY_TEXT_OPACITY,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_TEXT_OPACITY),n.UNSET_TEXT_OPACITY,!0),n.PROPERTY_BACKING_OPACITY,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_BACKING_OPACITY),n.UNSET_BACKING_OPACITY,!0),n.PROPERTY_KNOCKOUT,h.DBProperty.intProperty(h.DBNamePath.init_1346(n.PROPERTY_KNOCKOUT),n.UNSET_TEXT_LOOK,!0),n.PROPERTY_SHADOW_OFFSET,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_SHADOW_OFFSET),n.UNSET_SHADOW_OFFSET,!0),n.PROPERTY_STROKE_WEIGHT,h.DBProperty.doubleProperty(h.DBNamePath.init_1346(n.PROPERTY_STROKE_WEIGHT),n.UNSET_STROKE_WEIGHT,!0)])),r.unsetCharacterStyleProperties}},factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},characterStyleSchemaClassName:"CharacterStyle",characterStyleCodec:{get:function(){return void 0===r.characterStyleCodec&&(r.characterStyleCodec=h.DBPropertyCodec.registerCodec(n.characterStyleSchemaClassName,h.DBPropertyCodec.init_a58a((function(t,e,i){var r,o=h.DBProperty.deleted(t);return(r=s.as(e,n))?(o=h.DBProperty.dictEncoded(t,s.clone(r.state.allProperties),r.className),null==i||r.isChildObject||i.addChildObject(r,t)):a.CoreAssert.fail("Expected LockupStyle: "+e,"LockupStyle","LockupStyle.swift",197),o}),(function(t,e){var i,r=null;if(null!=(i=s.opt(t,(function(t){return t.className})))){var o,l,T,R=_.GUIDUtils.makeGUID();if(o=s.opt(t,(function(t){return t.namePath})))r=(T=s.as(e,c.DBObject))?s.as(T.createChildObject(n.SCHEMA_CLASS_NAME,o),n):n.init_866e(f.DBChildObjectState.init_94ed(e,o),R);else if(l=s.opt(t,(function(t){return t.dictionaryValue}))){var p=s.clone(n.unsetCharacterStyleProperties);a.CoreAssert.isTrue(i==n.characterStyleSchemaClassName||i==n.SCHEMA_CLASS_NAME,"Unexpected schema description for character style","LockupStyle","LockupStyle.swift",215),p[d.FormaStyle.PROPERTY_COLORS]=u.ColorTable.codec.encode(h.DBNamePath.init_1346(d.FormaStyle.PROPERTY_COLORS),u.ColorTable.init_25f6([{key:u.ColorRole.FieldPrimary,value:"themeColor0"},{key:u.ColorRole.FieldSecondary,value:"themeColor1"}]),null),s.each(l,(function(t,e){p[t]=e})),r=n.init_dd5d(s.clone(p),{})}}return r}),n.characterStyleSchemaClassName))),r.characterStyleCodec}},createDefault:function(){var t=S.TheoFont.init_9e5c(T.Host.textModelUtils.defaultFont()),e=u.ColorTable.init_25f6([{key:u.ColorRole.FieldPrimary,value:"themeColor0"},{key:u.ColorRole.FieldSecondary,value:"themeColor1"}]);return n.init_a132(1,1,e,t,n.DEFAULT_SPACING,n.DEFAULT_TRACKING,n.DEFAULT_PADDING,o.LockupBacking.None,null,135,o.LockupLayout.FitJustified,o.LockupAlignment.UNSET,o.OpacityRule.Full,o.LockupTextLook.Fill,n.DEFAULT_SHADOWOFFSET,n.DEFAULT_STROKEWEIGHT,void 0,void 0,n.DEFAULT_WHEELUSED,o.VerticalLockupAlignment.UNSET)},isKnockoutLook:function(t){return t==o.LockupTextLook.KnockoutOnly||t==o.LockupTextLook.KnockoutAndOutline||t==o.LockupTextLook.KnockoutAndFill||t==o.LockupTextLook.KnockoutAndShadow},isOutlineLook:function(t){return t==o.LockupTextLook.KnockoutAndOutline||t==o.LockupTextLook.OutlineOnly||t==o.LockupTextLook.FillAndOutline||t==o.LockupTextLook.FillAndOutline2||t==o.LockupTextLook.ShadowAndOutline},isShadowLook:function(t){return t==o.LockupTextLook.Shadow||t==o.LockupTextLook.ShadowAndOutline||t==o.LockupTextLook.KnockoutAndShadow},isLetterGrid:function(t){return t==o.LockupLayout.LetterGrid},isPath:function(t){return t==o.LockupLayout.Path},layoutSupportsAlignments:function(t){return t==o.LockupLayout.LetterGrid||t==o.LockupLayout.Standard},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{description:{get:function(){var t="LockupStyle: ",e=s.clone(s.as(this.get(n.PROPERTY_FONTS),["Array",S.TheoFont])||[]);return t+=n.PROPERTY_FONTS+": "+(1==e.length?e[0].fontData.postScriptName:"<unset>")+" | "}},init_866e:function(t,e){s.super_init(this,d.FormaStyle,d.FormaStyle.prototype.init_866e,t,e),this.fixLegacyProperties()},init_dd5d:function(t,e){s.super_init(this,d.FormaStyle,d.FormaStyle.prototype.init_dd5d,s.clone(t),s.clone(e)),this.fixLegacyProperties()},init_a132:function(t,e,i,r,l,u,c,h,f,_,T,R,p,P,g,S,y,m,O,A){void 0===y&&(y=E.TextPathID.UNSET),void 0===m&&(m=null),void 0===O&&(O=n.DEFAULT_WHEELUSED),void 0===A&&(A=o.VerticalLockupAlignment.UNSET),(u<-1||u>1)&&a.CoreAssert.warning("Tracking must be between -1 and 1.");var C=Math.max(-1,Math.min(1,u));(c<-.5||c>1)&&a.CoreAssert.warning("Padding must be between 0 and 1.");var v=Math.max(-.5,Math.min(1,c));null==f&&h!=o.LockupBacking.SVGBackground||null!=f&&h==o.LockupBacking.SVGBackground||a.CoreAssert.warning("error backingArtwordID / SVGBackground"),a.CoreAssert.isFalse(T==o.LockupLayout.SKIP||T==o.LockupLayout.LegacyLeft||T==o.LockupLayout.LegacyCenter||T==o.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+T,"LockupStyle.init","LockupStyle.swift",273),a.CoreAssert.isFalse(R==o.LockupAlignment.SKIP,"Unexpected LockupAlignment value: "+R,"LockupStyle.init","LockupStyle.swift",275),n.isPath(T)?(y==E.TextPathID.Custom&&null==m||y!=E.TextPathID.Custom&&null!=m)&&a.CoreAssert.warning("pathID/customPath mismatch"):y==E.TextPathID.UNSET&&null==m||a.CoreAssert.warning("Why are we providing a path or path id with a non-path layout?");var N={fonts:[r],spacing:l,tracking:C,padding:v,backing:h,shadowAngle:_,shadowOffset:g,strokeWeight:S,layout:T,alignment:R,verticalAlignment:A,opacityRule:p,"text-opacity":t,"backing-opacity":e,knockout:P,pathID:y,"wheel-used":O};null!=f&&(N[n.PROPERTY_BACKING_ARTWORK_ID]=f),null!=m&&(N[n.PROPERTY_CUSTOM_PATH]=m),s.super_init(this,d.FormaStyle,d.FormaStyle.prototype.init_5afe,n.KIND,1,i,null,null,s.clone(N))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},willChangeState:function(t){var e;if(d.FormaStyle.prototype.willChangeState.call(this,s.clone(t)),s.keys(t).includes(n.PROPERTY_CHARSTYLES)&&(e=this.cachedCharacterStyles_)){for(var i=s.iter(e);!i.done;i.next())i.value.colorLibrary=null;this.cachedCharacterStyles_=null}},didChangeState:function(t){d.FormaStyle.prototype.didChangeState.call(this,s.clone(t)),s.keys(t).includes(n.PROPERTY_CHARSTYLES)&&s.clone(this.characterStyles)},fixLegacyProperties:function(){var t,e,i,r=s.opt(this.getProperty(d.FormaStyle.PROPERTY_OPACITY),(function(t){return t.doubleValue})),u=null==r?1:r,c=s.opt(this.getProperty(n.PROPERTY_TEXT_OPACITY),(function(t){return t.doubleValue})),h=s.opt(this.getProperty(n.PROPERTY_BACKING_OPACITY),(function(t){return t.doubleValue}));if(null!=c?a.CoreAssert.isTrue(1==u,"for legacy ","LockupStyle.fixLegacyProperties","LockupStyle.swift",382):null!=r&&(this.textOpacity=u),this.set(d.FormaStyle.PROPERTY_OPACITY,1),this.backing==o.LockupBacking.None&&1!=this.backingOpacity&&1==this.textOpacity&&(this.textOpacity=this.backingOpacity),null==c&&this.textOpacity!=n.OPACITY_UNSET&&r==h&&(this.backingOpacity=u),this.backing==o.LockupBacking.LegacyShadow&&(this.backing=o.LockupBacking.None,this.textLook=o.LockupTextLook.Shadow,this.shadowOffset=this.padding+.48,this.shadowOffset>1&&(this.shadowOffset=1)),(t=s.opt(this.getProperty(n.PROPERTY_COLORS_DEPRECATED),(function(t){return t.arrayValue})))&&(t.length>=1&&(this.colors.fieldPrimary=s.as(l.Codecs.solidColorCodec.decode(t[0],this),P.SolidColor)),t.length>=2&&(this.colors.fieldSecondary=s.as(l.Codecs.solidColorCodec.decode(t[1],this),P.SolidColor))),null!=(e=s.opt(this.getProperty(n.PROPERTY_LAYOUT),(function(t){return t.intValue})))&&null!=(i=o.LockupLayout.toCaseValue(e)))switch(i){case 3:this.set(n.PROPERTY_LAYOUT,o.LockupLayout.Standard),this.set(n.PROPERTY_ALIGNMENT,o.LockupAlignment.Center);break;case 1:this.set(n.PROPERTY_LAYOUT,o.LockupLayout.Standard),this.set(n.PROPERTY_ALIGNMENT,o.LockupAlignment.Left);break;case 2:this.set(n.PROPERTY_LAYOUT,o.LockupLayout.Standard),this.set(n.PROPERTY_ALIGNMENT,o.LockupAlignment.Right)}},setEmptyStyle:function(){this.font=null,this.spacing=-1,this.tracking=n.UNSET_TRACKING,this.padding=0,this.backing=o.LockupBacking.None,this.backingArtworkID=null,this.shadowAngle=-1,this.layout=o.LockupLayout.UNSET,this.opacityRule=o.OpacityRule.UNSET,this.textOpacity=n.OPACITY_UNSET,this.backingOpacity=n.OPACITY_UNSET,this.textLook=o.LockupTextLook.UNSET,this.shadowOffset=-1,this.strokeWeight=-1;for(var t=[n.PROPERTY_SPACING,n.PROPERTY_TRACKING,n.PROPERTY_SHADOW_ANGLE,n.PROPERTY_SHADOW_OFFSET,n.PROPERTY_LAYOUT,n.PROPERTY_OPACITY_RULE,n.PROPERTY_TEXT_OPACITY,n.PROPERTY_BACKING_OPACITY,n.PROPERTY_KNOCKOUT,n.PROPERTY_STROKE_WEIGHT],e=s.iter(t);!e.done;e.next()){var i=e.value;s.opt(this.state.getProperty(i),(function(t){return t.shouldWrite=!1}))}},needsLayout:function(t){return t.backing!=this.backing||!s.eq(S._equality_TheoFont_TheoFont,t.font,this.font)||t.layout!=this.layout||t.alignment!=this.alignment||t.verticalAlignment!=this.verticalAlignment||t.pathID!=this.pathID||t.customPath!=this.customPath||t.padding!=this.padding||t.spacing!=this.spacing||t.tracking!=this.tracking||t.textLook!=this.textLook||t.strokeWeight!=this.strokeWeight||t.shadowOffset!=this.shadowOffset||t.lineBreakAtCharacterStyleSizeChange!=this.lineBreakAtCharacterStyleSizeChange},sameColors:function(t){if(!s.eq(P._equality_SolidColor_SolidColor,t.colors.fieldPrimary,this.colors.fieldPrimary)||!s.eq(P._equality_SolidColor_SolidColor,t.colors.fieldSecondary,this.colors.fieldSecondary))return!1;for(var e=s.iter(this.characterStyles);!e.done;e.next()){var i,n=e.key,r=e.value;if(!(i=t.characterStyles[n]))return!1;if(!s.eq(P._equality_SolidColor_SolidColor,i.colors.fieldPrimary,r.colors.fieldPrimary)||!s.eq(P._equality_SolidColor_SolidColor,i.colors.fieldSecondary,r.colors.fieldSecondary))return!1}return!0},colorLibrary:{get:function(){return d.FormaStyle._getters.colorLibrary.call(this)},set:function(t){d.FormaStyle._setters.colorLibrary.call(this,t);for(var e=s.iter(this.characterStyles);!e.done;e.next())e.value.colorLibrary=t}},ensureCachedCharacterStyles:function(){var t;if(null==this.cachedCharacterStyles_&&(this.cachedCharacterStyles_={},t=s.opt(this.getProperty(n.PROPERTY_CHARSTYLES),(function(t){return t.dictionaryValue}))))for(var e=s.iter(t);!e.done;e.next()){var i,r=e.key,o=e.value;(i=s.as(n.characterStyleCodec.decode(o,this),n))&&(i.colorLibrary=this.colorLibrary,this.cachedCharacterStyles_[r]=i)}},characterStyles:{get:function(){return this.ensureCachedCharacterStyles(),this.cachedCharacterStyles_}},setCharacterStyles:function(t){var e;if(e=this.cachedCharacterStyles_)for(var i=s.iter(e);!i.done;i.next())(l=i.value).colorLibrary=null;this.cachedCharacterStyles_=s.clone(t);for(var r={},o=s.iter(t);!o.done;o.next()){var l,a=o.key;(l=o.value).colorLibrary=this.colorLibrary,r[a]=n.characterStyleCodec.encode(h.DBNamePath.init_1346(n.PROPERTY_CHARSTYLES).append(a),l,this)}this.setProperty(n.PROPERTY_CHARSTYLES,h.DBProperty.dictProperty(h.DBNamePath.init_1346(n.PROPERTY_CHARSTYLES),s.clone(r)))},setCharacterStyle:function(t,e){this.ensureCachedCharacterStyles(),this.cachedCharacterStyles_[t]=e,e.colorLibrary=this.colorLibrary;for(var i={},r=s.iter(this.cachedCharacterStyles_);!r.done;r.next()){var o=r.key;e=r.value,i[o]=n.characterStyleCodec.encode(h.DBNamePath.init_1346(n.PROPERTY_CHARSTYLES).append(o),e,this)}this.setProperty(n.PROPERTY_CHARSTYLES,h.DBProperty.dictProperty(h.DBNamePath.init_1346(n.PROPERTY_CHARSTYLES),s.clone(i)))},spacing:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_SPACING),"Double"))||null!=t?t:n.DEFAULT_SPACING},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SPACING,t),this.notifyAfter()}},tracking:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_TRACKING),"Double"))||null!=t?t:n.UNSET_TRACKING},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_TRACKING,t),this.notifyAfter()}},textLook:{get:function(){var t,e;return(t=o.LockupTextLook.toCaseValue((e=s.as(this.get(n.PROPERTY_KNOCKOUT),"Int"))||null!=e?e:o.LockupTextLook.Fill))||null!=t?t:o.LockupTextLook.Fill},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_KNOCKOUT,t),this.notifyAfter()}},padding:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_PADDING),"Double"))||null!=t?t:n.DEFAULT_PADDING},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_PADDING,t),this.notifyAfter()}},backing:{get:function(){var t,e;return(t=o.LockupBacking.toCaseValue((e=s.as(this.get(n.PROPERTY_BACKING),"Int"))||null!=e?e:o.LockupBacking.None))||null!=t?t:o.LockupBacking.Box},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_BACKING,t),this.notifyAfter()}},opacityRule:{get:function(){var t,e;return(t=o.OpacityRule.toCaseValue((e=s.as(this.get(n.PROPERTY_OPACITY_RULE),"Int"))||null!=e?e:o.OpacityRule.UNSET))||null!=t?t:o.OpacityRule.Full},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_OPACITY_RULE,t),this.notifyAfter()}},opacity:{get:function(){return 1},set:function(t){a.CoreAssert.fail("opacity being set. use controller's applyOpacity instead","LockupStyle","LockupStyle.swift",641)}},textOpacity:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_TEXT_OPACITY),"Double"))||null!=t?t:n.UNSET_TEXT_OPACITY},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_TEXT_OPACITY,t),this.notifyAfter()}},backingOpacity:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_BACKING_OPACITY),"Double"))||null!=t?t:n.UNSET_BACKING_OPACITY},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_BACKING_OPACITY,t),this.notifyAfter()}},layout:{get:function(){var t,e;return(t=o.LockupLayout.toCaseValue((e=s.as(this.get(n.PROPERTY_LAYOUT),"Int"))||null!=e?e:o.LockupLayout.UNSET))||null!=t?t:o.LockupLayout.FitJustified},set:function(t){a.CoreAssert.isFalse(t==o.LockupLayout.SKIP||t==o.LockupLayout.LegacyLeft||t==o.LockupLayout.LegacyCenter||t==o.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+t,"LockupStyle","LockupStyle.swift",666),this.notifyBefore(),this.set(n.PROPERTY_LAYOUT,t),this.notifyAfter()}},alignment:{get:function(){var t,e;return(t=o.LockupAlignment.toCaseValue((e=s.as(this.get(n.PROPERTY_ALIGNMENT),"Int"))||null!=e?e:o.LockupAlignment.UNSET))||null!=t?t:o.LockupAlignment.UNSET},set:function(t){a.CoreAssert.isFalse(t==o.LockupAlignment.SKIP,"LockupAlignment.SKIP is not a settable value","LockupStyle","LockupStyle.swift",680),this.notifyBefore(),this.set(n.PROPERTY_ALIGNMENT,t),this.notifyAfter()}},verticalAlignment:{get:function(){var t,e;return(t=o.VerticalLockupAlignment.toCaseValue((e=s.as(this.get(n.PROPERTY_VERTICAL_ALIGNMENT),"Int"))||null!=e?e:o.VerticalLockupAlignment.UNSET))||null!=t?t:o.VerticalLockupAlignment.UNSET},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_VERTICAL_ALIGNMENT,t),this.notifyAfter()}},pathID:{get:function(){var t,e;return(t=E.TextPathID.toCaseValue((e=s.as(this.get(n.PROPERTY_PATH_ID),"Int"))||null!=e?e:E.TextPathID.UNSET))||null!=t?t:E.TextPathID.UNSET},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_PATH_ID,t),this.notifyAfter()}},customPath:{get:function(){return s.as(this.get(n.PROPERTY_CUSTOM_PATH),y.TextPath)},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_CUSTOM_PATH,t),this.notifyAfter()}},backingArtworkID:{get:function(){return s.as(this.get(n.PROPERTY_BACKING_ARTWORK_ID),"String")},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_BACKING_ARTWORK_ID,t),this.notifyAfter()}},shadowAngle:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_SHADOW_ANGLE),"Double"))||null!=t?t:n.UNSET_SHADOW_ANGLE},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SHADOW_ANGLE,t),this.notifyAfter()}},shadowOffset:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_SHADOW_OFFSET),"Double"))||null!=t?t:n.DEFAULT_SHADOWOFFSET},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SHADOW_OFFSET,t),this.notifyAfter()}},defaultStrokeWeight:{get:function(){return this.textLook==o.LockupTextLook.KnockoutAndOutline?0:n.DEFAULT_STROKEWEIGHT}},strokeWeight:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_STROKE_WEIGHT),"Double"))||null!=t?t:this.defaultStrokeWeight},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_STROKE_WEIGHT,t),this.notifyAfter()}},wheelUsed:{get:function(){var t;return(t=s.as(this.get(n.PROPERTY_WHEELUSED),"Bool"))||null!=t?t:n.DEFAULT_WHEELUSED},set:function(t){this.set(n.PROPERTY_WHEELUSED,t)}},font:{get:function(){var t,e=null;return(t=s.as(this.get(n.PROPERTY_FONTS),["Array",S.TheoFont]))&&(a.CoreAssert.isTrue(t.length<=1,"should only have 1 or 0 fonts","LockupStyle","LockupStyle.swift",761),t.forEach((function(t){e=t}))),e},set:function(t){this.notifyBefore(),null!=t?this.set(n.PROPERTY_FONTS,[t]):this.set(n.PROPERTY_FONTS,null),this.notifyAfter()}},lineBreakAtCharacterStyleSizeChange:{get:function(){var t;return!(t=s.as(this.get(n.PROPERTY_LINEBREAK),"Bool"))&&null==t||t},set:function(t){this.set(n.PROPERTY_LINEBREAK,t)}},setBacking:function(t,e){this.notifyBefore(),this.set(n.PROPERTY_BACKING,t),this.set(n.PROPERTY_BACKING_ARTWORK_ID,e),this.notifyAfter()},colorTableSupportsRole:function(t){return t==u.ColorRole.FieldPrimary||t==u.ColorRole.FieldSecondary},layoutType:{get:function(){if(this.layout==o.LockupLayout.FitJustified)return"justified";if(this.layout==o.LockupLayout.Standard)switch(this.alignment){case 0:return"left";case 2:return"center";case 1:return"right";default:return"error"}return this.layout==o.LockupLayout.Path?"path":this.layout==o.LockupLayout.LetterGrid?"letter-grid":"error"}},backingShapeID:{get:function(){return this.backing==o.LockupBacking.None?"none":this.backing==o.LockupBacking.Rows?"rows":this.backing==o.LockupBacking.BannerHorizontal||this.backing==o.LockupBacking.BannerVertical||this.backing==o.LockupBacking.Banner?"banner":this.backing==o.LockupBacking.SVGBackground?null!=this.backingArtworkID?this.backingArtworkID:"error":this.backing==o.LockupBacking.Knockout?"knockout":"error"}},textLookAsString:{get:function(){var t;switch(this.textLook){case 1:t="knockoutOnly";break;case 2:t="knockoutAndOutline";break;case 3:t="outlineOnly";break;case 4:t="fillAndOutline";break;case 5:t="fillAndOutline2";break;case 7:t="shadow";break;case 8:t="shadowAndOutline";break;case 9:t="knockoutAndShadow";break;case 0:t="fill";break;case-1:t="unset";break;case-2:t="skip";break;default:t="unknown value"}return t}},currentTextOpacity:{get:function(){return this.opacityRule==o.OpacityRule.UseLockupOpacities?this.textOpacity:this.opacityRule==o.OpacityRule.Faint?R.kOpacityRuleFaintAlpha:this.opacityRule==o.OpacityRule.Medium?R.kOpacityRuleMediumAlpha:1}},currentBackingOpacity:{get:function(){return this.opacityRule==o.OpacityRule.UseLockupOpacities?this.backingOpacity:this.opacityRule==o.OpacityRule.FaintBacking||this.opacityRule==o.OpacityRule.Faint?R.kOpacityRuleFaintAlpha:this.opacityRule==o.OpacityRule.MediumBacking||this.opacityRule==o.OpacityRule.Medium?R.kOpacityRuleMediumAlpha:1}},textBacked:{get:function(){return this.backing==o.LockupBacking.Box||this.backing==o.LockupBacking.Rows||this.backing==o.LockupBacking.BannerVertical||this.backing==o.LockupBacking.BannerHorizontal||this.textLook==o.LockupTextLook.ShadowAndOutline&&this.strokeWeight>.15||!(this.backing!=o.LockupBacking.SVGBackground||!g.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))}},shapeSupportsKnockout:{get:function(){return this.backing==o.LockupBacking.Box||this.backing==o.LockupBacking.Rows||this.backing==o.LockupBacking.BannerVertical||this.backing==o.LockupBacking.BannerHorizontal||this.backing==o.LockupBacking.Knockout||!(this.backing!=o.LockupBacking.SVGBackground||!g.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))}},secondaryColorVisible:{get:function(){return this.backing!=o.LockupBacking.None||n.isOutlineLook(this.textLook)||this.textLook==o.LockupTextLook.Shadow}},asString:{get:function(){var t="";return null!=this.font&&(t+="Font: "+this.font.fontData.postScriptName+"\n"),(t+=this.colors.asString)+" Spacing "+this.spacing+" \n Backing  "+this.backing+" \n Layout  "+this.layout+" \n OpacityRule  "+this.opacityRule+" "}},isEqual:function(t){return!1},getCompressedStringOfFeatures:function(){var t=s.clone(this.state.allProperties);return this.compressDictToString(s.clone(t),"{")},compressDictToString:function(t,e){for(var i=e,r=[d.FormaStyle.PROPERTY_ADJUSTMENTS,d.FormaStyle.PROPERTY_KIND],o=[n.PROPERTY_FONTS,d.FormaStyle.PROPERTY_COLORS],l=s.iter(s.keys(t));!l.done;l.next()){var a=l.value;if(!r.includes(a)){var u,c=this.getSmallKey(a);if(o.includes(a))i=this.handleSpecialCases(s.clone(t),a,c,i);else if(u=s.opt(t[a],(function(t){return t.dictionaryValue})))i+=c+"{|",i=this.compressDictToString(s.clone(u),i);else{if(s.opt(t[a],(function(t){return t.arrayValue})))continue;var h;if(null!=(h=s.opt(t[a],(function(t){return t.doubleValue})))){var f=p.MathUtils.roundDoubleToString(h,4);i+=c+":"+s.toString(f)+"|"}else null!=(f=s.opt(t[a],(function(t){return t.stringValue})))&&(i+=c+":"+f+"|")}}}return i+="}"},handleSpecialCases:function(t,e,i,r){var o,l,a=r;return e==n.PROPERTY_FONTS&&(o=s.as(this.get(n.PROPERTY_FONTS),["Array",S.TheoFont]))&&(a=this.compressFonts(s.clone(o),i,a)),e==d.FormaStyle.PROPERTY_COLORS&&(l=s.as(this.get(d.FormaStyle.PROPERTY_COLORS),u.ColorTable))&&(a=this.compressColorTable(l,i,a)),a},getSmallKey:function(t){var e=t.length;return e>4?t.substr(0,2)+t.substr(e-2,2):t},compressFonts:function(t,e,i){for(var n=i+e+":",r=s.iter(s.range(0,t.length,!1));!r.done;r.next()){var o=r.value,l=t[o].fontData.postScriptName;o<t.length-1?n+=l+",":n+=l+"|"}return n},compressColorTable:function(t,e,i){var n=this,r=i+e+":",o=!1;return t.forEachColor((function(t,e,i){var l;if(l=i||s.opt(n.colorLibrary.color(e),(function(t){return t.rgbColor}))){var a="";t==u.ColorRole.FieldPrimary?a="prim":t==u.ColorRole.FieldSecondary&&(a="seco"),o&&(r+=","),r+=a+"#"+l.rgbHex,o=!0}})),o&&(r+="|"),r}}}),n)},ftr0:function(t,e,i){var n,r=e,o=i("oAGj"),s=i("cZuM"),l=i("ascj"),a=i("QbzR"),u=i("Zifs"),c=i("35Q0");r.SeperatorStyle=o.defineEnum("SeperatorStyle",{None:0,Outer:1,Inner:2,BottomAll:3,FirstInner:4}),r.GroupLayoutMode=o.defineEnum("GroupLayoutMode",{None:0,Proportional:1,Flow:2}),r.AlignmentGroupStyle=(n=function(){this.scales_={}},o.defineClass({name:"AlignmentGroupStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"AlignmentGroupStyle"}},KIND:{get:function(){return"AlignmentGroupStyle"}},PROPERTY_LAYOUT_MODE:"layout-mode",PROPERTY_HORIZONTAL_ALIGNMENT:"horizontal-alignment",PROPERTY_VERTICAL_ALIGNMENT:"vertical-alignment",PROPERTY_SEPERATOR_STYLE:"seperator-style",PROPERTY_SEPERATOR_ARTWORK_ID:"seperator-artwork-id",PROPERTY_SEPERATOR_HEIGHT:"seperator-height",PROPERTY_BOTTOM_DISTANCES:"bottom-distances",PROPERTY_TOP_DISTANCES:"top-distances",PROPERTY_SPACING:"spacing",PROPERTY_PADDING:"padding",PROPERTY_MARGIN_LEFT:"margin-left",PROPERTY_MARGIN_RIGHT:"margin-right",PROPERTY_MARGIN_TOP:"margin-top",PROPERTY_MARGIN_BOTTOM:"margin-bottom",PROPERTY_BACKING_ARTWORK_ID:"backing-artwork-id",PROPERTY_NUM_COLUMNS:"num-columns",PROPERTY_ORDER:"order",factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_aeab()},getTestingStyles:function(){var t=[];return t.push(n.init_aeab(void 0,s.AlignmentType.CenterX,s.AlignmentType.CenterY,30,0,null,c.ShapeLibrary.Square,c.ShapeLibrary.Square,r.SeperatorStyle.Inner,5,null,null,null,null,new u.SolidColor(1,0,0,1),new u.SolidColor(1,1,1,1))),t.push(n.init_aeab(void 0,s.AlignmentType.Left,s.AlignmentType.Top,100,0,null,c.ShapeLibrary.Square,c.ShapeLibrary.Square,r.SeperatorStyle.BottomAll,25,30,null,30,null,new u.SolidColor(.25,.5,.25,1),new u.SolidColor(1,1,1,1))),t.push(n.init_aeab(void 0,s.AlignmentType.CenterX,s.AlignmentType.CenterY,50,0,null,"circle_001",c.ShapeLibrary.Square,r.SeperatorStyle.FirstInner,5,null,null,100,100,new u.SolidColor(0,0,1,1),new u.SolidColor(1,1,1,1))),t.push(n.init_aeab(void 0,s.AlignmentType.Right,s.AlignmentType.Top,50,0,null,"inline_006",c.ShapeLibrary.Square,r.SeperatorStyle.Outer,10,null,50,null,50,new u.SolidColor(1,0,1,1),new u.SolidColor(1,1,1,1))),t},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){o.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_866e,t,e)},init_aeab:function(t,e,i,u,c,h,f,d,_,T,R,p,P,g,S,y){void 0===t&&(t=r.GroupLayoutMode.Flow),void 0===e&&(e=s.AlignmentType.CenterX),void 0===i&&(i=s.AlignmentType.CenterY),void 0===u&&(u=null),void 0===c&&(c=null),void 0===h&&(h=null),void 0===f&&(f=null),void 0===d&&(d=null),void 0===_&&(_=r.SeperatorStyle.None),void 0===T&&(T=null),void 0===R&&(R=null),void 0===p&&(p=null),void 0===P&&(P=null),void 0===g&&(g=null),void 0===S&&(S=null),void 0===y&&(y=null);var E=null==S&&null==y?l.ColorTable.createDefault():l.ColorTable.init_2768(S,y),m={"layout-mode":t,"horizontal-alignment":e,"vertical-alignment":i,"seperator-style":_};null!=u&&(m[n.PROPERTY_SPACING]=u),null!=c&&(m[n.PROPERTY_PADDING]=c),null!=h&&(m[n.PROPERTY_NUM_COLUMNS]=h),null!=f&&(m[n.PROPERTY_BACKING_ARTWORK_ID]=f),null!=d&&(m[n.PROPERTY_SEPERATOR_ARTWORK_ID]=d),null!=T&&(m[n.PROPERTY_SEPERATOR_HEIGHT]=T),null!=R&&(m[n.PROPERTY_MARGIN_LEFT]=R),null!=p&&(m[n.PROPERTY_MARGIN_RIGHT]=p),null!=P&&(m[n.PROPERTY_MARGIN_TOP]=P),null!=g&&(m[n.PROPERTY_MARGIN_BOTTOM]=g),o.super_init(this,a.FormaStyle,a.FormaStyle.prototype.init_5afe,n.KIND,1,E,null,null,o.clone(m))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==l.ColorRole.FieldPrimary||t==l.ColorRole.FieldSecondary},layoutMode:{get:function(){return r.GroupLayoutMode.toCaseValue(this.get(n.PROPERTY_LAYOUT_MODE))},set:function(t){this.set(n.PROPERTY_LAYOUT_MODE,t)}},topDistances:{get:function(){var t;return(t=o.as(this.get(n.PROPERTY_TOP_DISTANCES),["Dictionary","String","Double"]))||null!=t?t:{}}},order:{get:function(){var t;return(t=o.as(this.get(n.PROPERTY_ORDER),["Array","String"]))||null!=t?t:[]}},setOrder:function(t){this.set(n.PROPERTY_ORDER,o.clone(t))},bottomDistances:{get:function(){var t;return(t=o.as(this.get(n.PROPERTY_BOTTOM_DISTANCES),["Dictionary","String","Double"]))||null!=t?t:{}}},scales:{get:function(){return this.scales_}},setTopDistance:function(t,e){var i=o.clone(this.topDistances);i[t]=e,this.set(n.PROPERTY_TOP_DISTANCES,o.clone(i))},setBottomDistance:function(t,e){var i=o.clone(this.bottomDistances);i[t]=e,this.set(n.PROPERTY_BOTTOM_DISTANCES,o.clone(i))},setScale:function(t,e){this.scales_[t]=e},horizontalAlignment:{get:function(){return s.AlignmentType.toCaseValue(this.get(n.PROPERTY_HORIZONTAL_ALIGNMENT))},set:function(t){this.set(n.PROPERTY_HORIZONTAL_ALIGNMENT,t)}},verticalAlignment:{get:function(){return s.AlignmentType.toCaseValue(this.get(n.PROPERTY_VERTICAL_ALIGNMENT))},set:function(t){this.set(n.PROPERTY_VERTICAL_ALIGNMENT,t)}},spacing:{get:function(){return o.as(this.get(n.PROPERTY_SPACING),"Double")},set:function(t){this.set(n.PROPERTY_SPACING,t)}},padding:{get:function(){return o.as(this.get(n.PROPERTY_PADDING),"Double")},set:function(t){this.set(n.PROPERTY_PADDING,t)}},marginTop:{get:function(){return o.as(this.get(n.PROPERTY_MARGIN_TOP),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_TOP,t)}},marginBottom:{get:function(){return o.as(this.get(n.PROPERTY_MARGIN_BOTTOM),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_BOTTOM,t)}},marginLeft:{get:function(){return o.as(this.get(n.PROPERTY_MARGIN_LEFT),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_LEFT,t)}},marginRight:{get:function(){return o.as(this.get(n.PROPERTY_MARGIN_RIGHT),"Double")},set:function(t){this.set(n.PROPERTY_MARGIN_RIGHT,t)}},backingArtworkID:{get:function(){return o.as(this.get(n.PROPERTY_BACKING_ARTWORK_ID),"String")},set:function(t){this.set(n.PROPERTY_BACKING_ARTWORK_ID,t)}},seperatorStyle:{get:function(){return r.SeperatorStyle.toCaseValue(this.get(n.PROPERTY_SEPERATOR_STYLE))},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_SEPERATOR_STYLE,t),this.notifyAfter()}},seperatorArtworkID:{get:function(){return o.as(this.get(n.PROPERTY_SEPERATOR_ARTWORK_ID),"String")},set:function(t){this.set(n.PROPERTY_SEPERATOR_ARTWORK_ID,t)}},seperatorHeight:{get:function(){return o.as(this.get(n.PROPERTY_SEPERATOR_HEIGHT),"Double")},set:function(t){this.set(n.PROPERTY_SEPERATOR_HEIGHT,t)}},numColumns:{get:function(){return o.as(this.get(n.PROPERTY_NUM_COLUMNS),"Int")},set:function(t){this.set(n.PROPERTY_NUM_COLUMNS,t)}},removeChild:function(t){var e=o.clone(this.bottomDistances),i=o.clone(this.topDistances),r=o.clone(this.order);o.removeKey(e,t),o.removeKey(i,t),o.remove(r,t),this.set(n.PROPERTY_BOTTOM_DISTANCES,o.clone(e)),this.set(n.PROPERTY_TOP_DISTANCES,o.clone(i)),this.set(n.PROPERTY_ORDER,o.clone(r))},match:function(t){var e;(e=o.as(t,n))&&this.matchProperties(o.clone(e.state.allProperties))}}}),n)},ly3x:function(t,e,i){var n,r=e,o=i("oAGj"),s=i("ascj"),l=i("QbzR"),a=i("Zifs"),u=i("35Q0");r.ShapeGroupStyle=(n=function(){},o.defineClass({name:"ShapeGroupStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ShapeGroupStyle"}},KIND:{get:function(){return"ShapeGroupStyle"}},DEFAULT_OPACITY:1,PROPERTY_ARTWORK_ID:"artwork-id",factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_c413(a.SolidColor.WHITE,u.ShapeLibrary.Square)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e)},init_c413:function(t,e){var i={};null!=e&&(i[n.PROPERTY_ARTWORK_ID]=e),o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,n.KIND,n.DEFAULT_OPACITY,s.ColorTable.createDefault(),null,null,o.clone(i))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary},backingArtworkID:{get:function(){return o.as(this.get(n.PROPERTY_ARTWORK_ID),"String")},set:function(t){this.notifyBefore(),this.set(n.PROPERTY_ARTWORK_ID,t),this.notifyAfter()}}}}),n)},tQF8:function(t,e,i){var n,r=e,o=i("oAGj"),s=i("SpAV"),l=i("gXiO"),a=i("3DEm"),u=i("oKlP"),c=i("sIWg");r.GridCellHandle=o.defineEnum("GridCellHandle",{Left:0,Right:1,Top:2,Bottom:3,TopLeft:4,TopRight:5,BottomLeft:6,BottomRight:7}),r.GridCell=(n=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1),this.region_=t,this.colorID_=e,this.opacity_=i,l.CoreObject.call(this)},o.defineClass({name:"GridCell",ctor:n,superName:"CoreObject",statics:{BOUNDS_ACCURACY:.001,positionForHandle:function(t){return t==r.GridCellHandle.Top?new u.TheoPoint(.5,0):t==r.GridCellHandle.Bottom?new u.TheoPoint(.5,1):t==r.GridCellHandle.Left?new u.TheoPoint(0,.5):t==r.GridCellHandle.Right?new u.TheoPoint(1,.5):t==r.GridCellHandle.TopLeft?new u.TheoPoint(0,0):t==r.GridCellHandle.TopRight?new u.TheoPoint(1,0):t==r.GridCellHandle.BottomLeft?new u.TheoPoint(0,1):t==r.GridCellHandle.BottomRight?new u.TheoPoint(1,1):(s.CoreAssert.fail("Incorrect handle type","GridCell.positionForHandle","GridCell.swift",170),new u.TheoPoint(.5,.5))},handlePositions:function(){return[n.positionForHandle(r.GridCellHandle.Top),n.positionForHandle(r.GridCellHandle.Bottom),n.positionForHandle(r.GridCellHandle.Left),n.positionForHandle(r.GridCellHandle.Right)]},handles:function(){return[r.GridCellHandle.Top,r.GridCellHandle.Bottom,r.GridCellHandle.Left,r.GridCellHandle.Right]},cornerHandles:function(){return[r.GridCellHandle.TopLeft,r.GridCellHandle.TopRight,r.GridCellHandle.BottomLeft,r.GridCellHandle.BottomRight]},handleForPosition:function(t){for(var e=o.iter(n.handles());!e.done;e.next()){var i=e.value;if(t.distanceTo(n.positionForHandle(i))<.001)return i}return s.CoreAssert.fail("Incorrect handle position","GridCell.handleForPosition","GridCell.swift",202),null},fromArray:function(t){if(0==t.length||t.length>3)return s.CoreAssert.fail("GridCell.fromArray: Array has incorrect # of elements","GridCell.fromArray","GridCell.swift",214),null;var e;if(e=c.TheoRect.decodeJson(o.as(t[0],"AnyObject"))){var i=t[1],r=null;return t.length>2&&(r=o.toString(t[2])),new n(e,r,i)}return null},decodeJson:function(t){return null==t?null:o.is(t,["Array","Any"])?n.fromArray(t):(s.CoreAssert.fail("GridCell: Not an array","GridCell.decodeJson","GridCell.swift",246),null)}},props:{bounds:{get:function(){return this.region_},set:function(t){this.region_=t}},colorID:{get:function(){return this.colorID_},set:function(t){this.colorID_=t}},opacity:{get:function(){return this.opacity_},set:function(t){this.opacity_=t}},clone:function(){return new n(this.region_,this.colorID_,this.opacity_)},flip:function(){return new n(new c.TheoRect(this.bounds.minY,this.bounds.minX,this.bounds.maxY,this.bounds.maxX),this.colorID_,this.opacity_)},copyTo:function(t,e,i){var r,o;return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),new n(t||this.region_,(r=e)||null!=r?r:this.colorID_,(o=i)||null!=o?o:this.opacity_)},symmetricWith:function(t){var e=this.region_,i=t.bounds;if(e.equal(i))return!1;var n=new u.TheoPoint(1-e.center.x,e.center.y),r=new u.TheoPoint(e.center.x,1-e.center.y);return n.distanceTo(i.center)<.01||r.distanceTo(i.center)<.01},mergeableWith:function(t){var e=this.region_.unionWith(t.bounds);return!(this.region_.L1Distance(t.bounds)>.001)&&a.MathUtils.absDouble(e.area-(this.bounds.area+t.bounds.area))<.01},mergeWith:function(t){return s.CoreAssert.isTrue(this.mergeableWith(t),"cell must be adjacent","GridCell.mergeWith","GridCell.swift",140),this.copyTo(this.region_.unionWith(t.bounds))},handlePosition:function(t){return this.region_.eval(n.positionForHandle(t))},encode:function(){return s.CoreAssert.fail("GridCell: Use encodeJson(), not encode()","GridCell.encode","GridCell.swift",251),[]},encodeJson:function(){var t=[];return t.push(this.region_.encodeJson()),s.CoreAssert.isFalse(isNaN(this.opacity),"Can't persist NaN opacity value","GridCell.encodeJson","GridCell.swift",259),t.push(o.as(this.opacity,"AnyObject")),null!=this.colorID_&&t.push(o.as(this.colorID_,"AnyObject")),o.as(t,"AnyObject")},isEqual:function(t){var e;return!!(e=o.as(t,n))&&this.bounds.equalWithAccuracy(e.bounds,n.BOUNDS_ACCURACY)&&this.colorID==e.colorID&&this.opacity==e.opacity}}}),n),r._equality_GridCell_GridCell=function(t,e){return t.isEqual(e)}},u2iI:function(t,e,i){var n,r=e,o=i("oAGj"),s=i("ascj"),l=i("QbzR"),a=i("Zifs");r.ShapeStyle=(n=function(){this.deprecatedPrimaryColor=null},o.defineClass({name:"ShapeStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ShapeStyle"}},KIND:{get:function(){return"ShapeStyle"}},PROPERTY_COLORS_DEPRECATED:"colors",factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},createDefault:function(){return n.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){var i;o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e),(i=o.as(this.get(n.PROPERTY_COLORS_DEPRECATED),["Array",a.SolidColor]))&&i.length>=1&&(this.deprecatedPrimaryColor=i[0])},init_d41d:function(){o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,n.KIND,1,s.ColorTable.createDefault())},willCommitState:function(){null!=this.deprecatedPrimaryColor&&(this.colors.fieldPrimary=this.deprecatedPrimaryColor,this.deprecatedPrimaryColor=null),l.FormaStyle.prototype.willCommitState.call(this)},className:{get:function(){return n.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary}}}),n)},uWOl:function(t,e,i){var n,r=e,o=i("oAGj"),s=i("ascj"),l=i("QbzR"),a=i("Qlvz"),u=i("SDdr"),c=i("Zifs");r.ImageStyle=(n=function(){this.firstCommit=!1},o.defineClass({name:"ImageStyle",ctor:n,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ImageStyle"}},KIND:{get:function(){return"ImageStyle"}},DEFAULT_NAME:"None",PROPERTY_NAME:"name",PROPERTY_COLORS_DEPRECATED:"colors",PROPERTY_FILTER_NAME_DEPRECATED:"filter-name",factory:{get:function(){return function(t,e,i,r){return n.init_866e(i,t)}}},makeSafeName:function(t){if(t.includes("Overlay")||t.includes("DuoTone")||t.includes("Multiply")){var e=t.substr(t.length-1);if(e>="0"&&e<="9")return t.substr(0,t.length-1)}return t},createDefault:function(){return n.init_1265(n.DEFAULT_NAME,s.ColorTable.createDefault())},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){this.firstCommit=!0,o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e)},init_a6fe:function(t,e,i,r){void 0===r&&(r=null);var s,a={name:n.makeSafeName(e)};if(s=r)for(var u=o.iter(s);!u.done;u.next()){var c=u.key,h=u.value;a[c]=h}o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,t,1,i,null,null,o.clone(a))},init_1265:function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var s,u={name:n.makeSafeName(t)};if(s=r)for(var c=o.iter(s);!c.done;c.next()){var h=c.key,f=c.value;u[h]=f}o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,n.KIND,1,e,i,a.ImageAdjustments.createDefault(),o.clone(u))},init_dd5d:function(t,e){o.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_dd5d,o.clone(t),o.clone(e))},colors_:{get:function(){var t=this,e=l.FormaStyle._getters.colors_.call(this);return o.opt(e,(function(t){return null==t.library}))&&o.opt(e,(function(e){return e.setColorLibraryWithoutSubscribing(t.colorLibrary)})),e},set:function(t){l.FormaStyle._setters.colors_.call(this,t)}},clone:function(){var t,e=this,i=l.FormaStyle.prototype.clone.call(this);return(t=o.as(o.opt(i,(function(t){return t.filter})),u.AlphaBlendFilter))&&(o.opt(t.filter1,(function(t){return t.style=o.opt(o.opt(o.as(e.filter,u.AlphaBlendFilter),(function(t){return t.filter1})),(function(t){return t.style}))})),o.opt(t.filter2,(function(t){return t.style=o.opt(o.opt(o.as(e.filter,u.AlphaBlendFilter),(function(t){return t.filter2})),(function(t){return t.style}))}))),i},willCommitState:function(){this.firstCommit&&(this.ensureStyleName(),this.updateDeprecatedColorTable(),this.firstCommit=!1),l.FormaStyle.prototype.willCommitState.call(this)},ensureStyleName:function(){var t,e;if(null!=(e=o.as(this.get(n.PROPERTY_NAME),"String"))){var i=e;if(e.includes("Overlay")||e.includes("DuoTone")||e.includes("Multiply")){var r=e.substr(e.length-1);r>="0"&&r<="9"&&(i=e.substr(0,e.length-1))}i!=e&&(this.name=i)}else{var s=o.opt(this.filter,(function(t){return t.name})),l=o.as(this.get(n.PROPERTY_FILTER_NAME_DEPRECATED),"String"),a=(t=l)||null!=t?t:s;if(null!=a)switch(a){case"Greyscale":this.name="Greyscale";break;case"GreyscaleDark":this.name="Darken";break;case"Monochrome":this.name="Greyscale";break;case"Duotone":this.name="DuoTone1";break;case"DesaturateMultiply":this.name="Multiply1";break;case"ReduceContrastOverlay":this.name="Overlay1";break;default:this.name=a}if(null!=l)switch(l){case"Greyscale":this.filter=u.CompositeFilter.init_514f(this,"Greyscale",1,"none",!0);break;case"GreyscaleDark":this.colors.fieldPrimary=c.SolidColor.BLACK,this.filter=u.CompositeFilter.init_514f(this,"Darken",.5,"normal",!1);break;case"Monochrome":this.filter=u.CompositeFilter.init_514f(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"Duotone":this.filter=u.CompositeFilter.init_514f(this,"Duotone",1,"normal",void 0,void 0,"duotone");break;case"DesaturateMultiply":this.filter=u.CompositeFilter.init_514f(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"ReduceContrastOverlay":this.filter=u.CompositeFilter.init_514f(this,"ReduceContrastOverlay",.5,"overlay",!1,.5,"offset",1,1);break;case"FillColor":this.filter=u.CompositeFilter.init_514f(this,"Normal",.5,"normal",!1);break;default:this.filter=null}}},updateDeprecatedColorTable:function(){var t;(t=o.as(this.get(n.PROPERTY_COLORS_DEPRECATED),["Array",c.SolidColor]))&&(t.length>=1&&(this.colors.fieldPrimary=t[0]),t.length>=2&&(this.colors.fieldSecondary=t[1]))},className:{get:function(){return n.SCHEMA_CLASS_NAME}},name:{get:function(){var t;return(t=o.as(this.get(n.PROPERTY_NAME),"String"))||null!=t?t:n.DEFAULT_NAME},set:function(t){this.set(n.PROPERTY_NAME,t)}},isColorizedFilter:{get:function(){return!["None","Greyscale","Blur","Darken"].includes(this.name)}},isMixableFilter:{get:function(){return["Darken"].includes(this.name)}},isShuffleable:{get:function(){return this.isColorizedFilter||this.isMixableFilter}},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary||t==s.ColorRole.FieldSecondary},equals:function(t){if(null==this.filter&&null!=t.filter||null!=this.filter&&null==t.filter)return!1;var e=null==this.filter&&null==t.filter,i=e||this.filter.equals(t.filter),n=e||this.colors.equalTo(t.colors),r=o.opt(this.adjustments,(function(e){return e.equals(t.adjustments)}));return i&&n&&r},description:{get:function(){if(null!=this.filter&&this.filter instanceof u.CompositeFilter){var t=this.filter,e="Style: "+this.name+", Op: "+t.colorOperation+", Filter: "+t.name,i=", params: (m="+o.toString(t.mix)+", c="+o.toString(t.contrast)+", b="+o.toString(t.blurRadius)+")";return null!=this.colors.fieldPrimary?e+i+this.colors.fieldPrimary.rgbHex:e+i}return this.name}}}}),n)},uZuM:function(t,e,i){var n,r,o=e,s=i("oAGj"),l=i("ftr0"),a=i("SpAV"),u=i("QbzR"),c=i("4mVB"),h=i("uWOl"),f=i("c+uM"),d=i("2ALn"),_=i("ly3x"),T=i("u2iI"),R=i("LCGV"),p=i("QTen");o.FormaStyleFactory=(n=function(){this.lookup_={},this.lookup_[u.FormaStyle.KIND]=function(){return u.FormaStyle.createDefault()},this.lookup_[h.ImageStyle.KIND]=function(){return h.ImageStyle.createDefault()},this.lookup_[R.TextStyle.KIND]=function(){return R.TextStyle.createDefault()},this.lookup_[T.ShapeStyle.KIND]=function(){return T.ShapeStyle.createDefault()},this.lookup_[d.RootStyle.KIND]=function(){return d.RootStyle.createDefault()},this.lookup_[f.LockupStyle.KIND]=function(){return f.LockupStyle.createDefault()},this.lookup_[p.VideoStyle.KIND]=function(){return p.VideoStyle.createDefault()},this.lookup_[c.GridStyle.KIND]=function(){return c.GridStyle.createDefault()},this.lookup_[l.AlignmentGroupStyle.KIND]=function(){return l.AlignmentGroupStyle.createDefault()},this.lookup_[_.ShapeGroupStyle.KIND]=function(){return _.ShapeGroupStyle.createDefault()}},r={},s.defineClass({name:"FormaStyleFactory",ctor:n,superName:"CoreObject",statics:{instance:{get:function(){return void 0===r.instance&&(r.instance=new n),r.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(a.CoreAssert.warning("no constructor for forma style kind = "+t),null)}}}),n)},yumk:function(t,e,i){var n,r,o=e,s=i("oAGj"),l=i("SpAV"),a=i("SDdr");o.ImageFilterFactory=(n=function(){this.lookup_={},this.lookup_[a.ImageFilter.KIND]=function(){return a.ImageFilter.createDefault()},this.lookup_[a.AlphaBlendFilter.KIND]=function(){return a.AlphaBlendFilter.createDefault()},this.lookup_[a.CompositeFilter.KIND]=function(){return a.CompositeFilter.createDefault()}},r={},s.defineClass({name:"ImageFilterFactory",ctor:n,superName:"CoreObject",statics:{instance:{get:function(){return void 0===r.instance&&(r.instance=new n),r.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(l.CoreAssert.warning("no constructor for filter kind = "+t),null)}}}),n)}}]);
//# sourceMappingURL=vendors_npm_spark_81f3a379-3d6ff258.js.map