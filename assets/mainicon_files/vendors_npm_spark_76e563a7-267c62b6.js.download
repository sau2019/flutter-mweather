(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[23],{"1bhb":function(t,e,o){var n,r=e,i=o("oAGj"),a=o("c9Jm"),s=o("SVjO"),u=o("iCxV"),l=o("K0Rh"),c=o("9YN4");r.ApplyTemplateTest=(n=function(){this.actionSequence_ApplyTemplate=[],this.testDoc_=null,this.rootForma_=null,a.ActionTestBase.call(this)},i.defineClass({name:"ApplyTemplateTest",ctor:n,superName:"ActionTestBase",props:{populateActionSequence:function(t,e,o){var n=this;return o.firstPage.root,XCTAssertNotNil(u.Host.actionTesting),u.Host.actionTesting.templateForDocument(o).then((function(e){var o;return(o=i.as(e,c.TheoDocument))?t.concat([function(){return s.ApplyTemplateAction.init_e1db(o,n.rootForma_,0,n.rootForma_)}]):(XCTFail("Could not get Design Template for ApplyTemplateTest"),[])}))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.rootForma_=i.as(o.firstPage.root,l.RootForma)},validateAfterActionSequence:function(t,e){},validateAfterUndo:function(t,e){},validateAfterRedo:function(t,e){}}}),n)},"1vuF":function(t,e,o){var n,r=e,i=o("oAGj"),a=o("c9Jm"),s=o("yGNn"),u=o("sTUO"),l=o("MYNe");r.LayerTest=(n=function(){this.actionSequence_LayerTest=[],this.testDoc_=null,this.initialFormaIndex_=0,this.finalFormaIndex_=0,a.ActionTestBase.call(this)},i.defineClass({name:"LayerTest",ctor:n,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){this.testDoc_=o;var n=this.getLayerItem();return null!=n&&(this.initialLayerItem_=n,l.LayerFacade.getReorderableLayerCount(this.initialLayerItem_)>1)},populateActionSequence:function(t,e,o){var n=this;this.initialFormaIndex_=l.LayerFacade.getZOrder(this.initialLayerItem_);var r=l.LayerFacade.getMinLayerIndex(this.initialLayerItem_),i=l.LayerFacade.getReorderableLayerCount(this.initialLayerItem_)+r-1;return this.initialFormaIndex_<i?this.finalFormaIndex_=this.initialFormaIndex_+1:this.initialFormaIndex_<r?this.finalFormaIndex_=this.initialFormaIndex_-1:XCTFail("Not enough items to change zorder"),s.CorePromise.resolve([function(){return new u.ChangeZOrderAction(n.finalFormaIndex_)}])},setUpActionSequence:function(t,e,o){o.controller.selection.replaceSelection(this.initialLayerItem_)},validateAfterActionSequence:function(t,e){var o=l.LayerFacade.getZOrder(this.initialLayerItem_);XCTAssertTrue(o==this.finalFormaIndex_)},validateAfterUndo:function(t,e){var o=l.LayerFacade.getZOrder(this.initialLayerItem_);XCTAssertTrue(o==this.initialFormaIndex_)},validateAfterRedo:function(t,e){var o=l.LayerFacade.getZOrder(this.initialLayerItem_);XCTAssertTrue(o==this.finalFormaIndex_)},getLayerItem:function(){var t=null,e=i.clone(this.allSelectableFormae(this.testDoc_,(function(t){return 1==t.controller.floating})));return e.length>0&&(t=i.first(e)),t}}}),n)},"2S5s":function(t,e,o){var n,r,i,a,s,u,l,c,f,p,h,m,T,_,A,g,C=e,d=o("oAGj"),F=o("Tq01"),S=o("4mEG"),k=o("c9Jm"),y=o("Aj/e"),I=o("yGNn"),v=o("ascj"),P=o("FNB+"),D=o("pnSN"),x=o("iCxV"),X=o("3lr5"),N=o("c+uM"),L=o("cRpU"),q=o("Vm85"),E=o("VJ9E"),w=o("8t9B"),B=o("oKlP"),R=o("h8Q5");C.SetTextTest=(n=function t(){this.actionSequence_SetText=[function(){return new S.AddTextContentAction(t.initialText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetTextTest",ctor:n,superName:"ActionTestBase",statics:{initialText_:"Some text",changedText_:"New text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var r=this;return I.CorePromise.resolve(t.concat([function(){return new L.SetTextAction(n.changedText_,r.textForma)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var r=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(r===this.textForma),XCTAssertEqual(d.opt(d.opt(r,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(r,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),n.changedText_)},validateAfterUndo:function(t,e){var o=this;XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,r=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(r),XCTAssertEqual(d.opt(d.opt(r,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(r,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),n.changedText_)}}}),n),C.SetFontTest=(r=function t(){this.actionSequence_SetFont=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldFont_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetFontTest",ctor:r,superName:"ActionTestBase",statics:{testText_:"Some text",testFont_:"Bellfort",getTheoFont:function(t){var e=E.TheoFont.init_9e5c(x.Host.fontProvider.getIncludedFonts(X.ANY_DOCUMENT).find((function(e){return e.postScriptName==t})));return XCTAssertEqual(e.fontData.postScriptName,t),e}},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldFont_=d.opt(d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.SetFontAction(r.getTheoFont(r.testFont_))}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),r.testText_),XCTAssertEqual(d.opt(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),r.testFont_)},validateAfterUndo:function(t,e){var o=this;XCTAssertEqual(d.opt(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),this.oldFont_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),r.testText_),XCTAssertEqual(d.opt(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),r.testFont_)}}}),r),C.ChangeTextAlignmentTest=(i=function t(){this.actionSequence_ChangeTextAlignment=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldLayout_=null,this.newLayout_=null,this.oldAlignment_=null,this.newAlignment_=null,k.ActionTestBase.call(this)},d.defineClass({name:"ChangeTextAlignmentTest",ctor:i,superName:"ActionTestBase",statics:{testText_:"Some text to align"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldLayout_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),n.newLayout_=n.oldLayout_==N.LockupLayout.Standard?N.LockupLayout.FitJustified:N.LockupLayout.Standard,n.oldAlignment_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.alignment})),n.newLayout_==N.LockupLayout.FitJustified?n.newAlignment_=N.LockupAlignment.UNSET:n.newAlignment_=n.oldAlignment_==N.LockupAlignment.Right?N.LockupAlignment.Left:N.LockupAlignment.Right,d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.ChangeTextLayoutAndAlignmentAction(n.newLayout_,n.newAlignment_)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),i.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),this.newLayout_)},validateAfterUndo:function(t,e){var o=this;XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),this.oldLayout_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),i.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),this.newLayout_)}}}),i),C.ChangeTextLineSpacingTest=(a=function t(){this.actionSequence_ChangeTextLineSpacing=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldSpacing_=null,this.newSpacing_=null,k.ActionTestBase.call(this)},d.defineClass({name:"ChangeTextLineSpacingTest",ctor:a,superName:"ActionTestBase",statics:{testText_:"Some text that should be long enough to have multiple lines"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldSpacing_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),n.newSpacing_=2*n.oldSpacing_,d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.ChangeTextLineSpacingAction(n.newSpacing_)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),a.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.newSpacing_)},validateAfterUndo:function(t,e){var o=this;XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.oldSpacing_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),a.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.newSpacing_)}}}),a),C.ChangeTextAttributesTest=(s=function t(){this.actionSequence_ChangeTextAttributes=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldSpacing_=null,this.newSpacing_=null,this.oldLayout_=null,this.newLayout_=null,this.oldAlignment_=null,this.newAlignment_=null,k.ActionTestBase.call(this)},d.defineClass({name:"ChangeTextAttributesTest",ctor:s,superName:"ActionTestBase",statics:{testText_:"Some text that should be long enough to have multiple lines"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldSpacing_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),n.newSpacing_=2*n.oldSpacing_,n.oldLayout_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),n.newLayout_=n.oldLayout_==N.LockupLayout.Standard?N.LockupLayout.FitJustified:N.LockupLayout.Standard,n.oldAlignment_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.alignment})),n.newLayout_==N.LockupLayout.FitJustified?n.newAlignment_=N.LockupAlignment.UNSET:n.newAlignment_=n.oldAlignment_==N.LockupAlignment.Right?N.LockupAlignment.Left:N.LockupAlignment.Right,d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.ChangeTextAttributesAction(n.newLayout_,n.newAlignment_,n.newSpacing_)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),s.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),this.newLayout_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.newSpacing_)},validateAfterUndo:function(t,e){var o=this;XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.oldSpacing_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),this.oldLayout_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),s.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.layout})),this.newLayout_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.newSpacing_)}}}),s),C.MatchSizeTest=(u=function t(){this.actionSequence_SetSize=[function(){return new S.AddTextContentAction(t.testText_)}],this.actionSequence_MatchSize=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.snapValues_=null,this.oldSize_=null,this.newSize_=null,k.ActionTestBase.call(this)},d.defineClass({name:"MatchSizeTest",ctor:u,superName:"ActionTestBase",statics:{testText_:"Some text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){var t;return(t=d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController))&&(n.snapValues_=d.clone(t.getFontSizeSnapValues()),n.oldSize_=t.getSizeSliderValue()),d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.MatchSizeAction("actionSequence_SetSize"==e?n.snapValues_[0]:NaN,d.clone(n.snapValues_),B.TheoPoint.ZERO)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),this.newSize_=d.opt(d.as(this.lastActionResult,F.DoubleActionResult),(function(t){return t.value})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_),XCTAssertNotNil(this.newSize_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),u.testText_),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.getSizeSliderValue()})),this.newSize_,.03)},validateAfterUndo:function(t,e){var o=this;XCTAssertEqual(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.getSizeSliderValue()})),this.oldSize_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),u.testText_),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.getSizeSliderValue()})),this.newSize_,.03)}}}),u),C.SetLineBreakTest=(l=function t(){this.actionSequence_SetLineBreak=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldLineBreak_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetLineBreakTest",ctor:l,superName:"ActionTestBase",statics:{testText_:"Some text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldLineBreak_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.lineBreakAtCharacterStyleSizeChange})),d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.SetLineBreakAction(!n.oldLineBreak_)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),l.testText_),XCTAssertNotEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.lineBreakAtCharacterStyleSizeChange})),this.oldLineBreak_)},validateAfterUndo:function(t,e){var o=this;XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.lineBreakAtCharacterStyleSizeChange})),this.oldLineBreak_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),l.testText_),XCTAssertNotEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.lineBreakAtCharacterStyleSizeChange})),this.oldLineBreak_)}}}),l),C.SetNextSpacingSequenceTest=(c=function t(){this.actionSequence_SetNextSpacingSequence=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetNextSpacingSequenceTest",ctor:c,superName:"ActionTestBase",statics:{testText_:"Some text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.SetNextSpacingSequenceAction(q.SpacingSequence.NextLetterTracking)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),c.testText_)},validateAfterUndo:function(t,e){var o=this;XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),c.testText_)}}}),c),C.SetTrackingTest=(f=function t(){this.actionSequence_SetTracking=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldTracking_=null,this.newTracking_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetTrackingTest",ctor:f,superName:"ActionTestBase",statics:{testText_:"Some text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldTracking_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.tracking})),n.newTracking_=2*n.oldTracking_,d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.SetTrackingAction(n.newTracking_,B.TheoPoint.ZERO)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),f.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.tracking})),this.newTracking_)},validateAfterUndo:function(t,e){var o=this;XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}))),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.tracking})),this.oldTracking_)},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),f.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.tracking})),this.newTracking_)}}}),f),C.SetLeadingTest=(p=function t(){this.actionSequence_SetLeading=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldLeading_=null,this.newLeading_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetLeadingTest",ctor:p,superName:"ActionTestBase",statics:{testText_:"Some text that should be long enough to have multiple lines"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldLeading_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),n.newLeading_=.5*n.oldLeading_,d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.SetLeadingAction(n.newLeading_,B.TheoPoint.ZERO)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),p.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.newLeading_)},validateAfterUndo:function(t,e){var o=this;XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}))),XCTAssertTrue(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing}))==this.oldLeading_)},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),p.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.spacing})),this.newLeading_)}}}),p),C.SetPaddingTest=(h=function t(){this.actionSequence_SetPadding=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldPadding_=null,this.newPadding_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetPaddingTest",ctor:h,superName:"ActionTestBase",statics:{testText_:"Some text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return new y.ChangeBackgroundShapeAction([n.textForma],N.LockupBacking.Box,"square_001",!1)},function(){return n.oldPadding_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.padding})),n.newPadding_=Math.min(2*n.oldPadding_,1),d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.SetPaddingAction(n.newPadding_)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),h.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.padding})),this.newPadding_)},validateAfterUndo:function(t,e){var o=this;XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}))),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.padding})),this.oldPadding_)},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),h.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.padding})),this.newPadding_)}}}),h),C.SetTextLookTest=(m=function t(){this.actionSequence_SetTextLook=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldTextLook_=null,this.newTextLook_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetTextLookTest",ctor:m,superName:"ActionTestBase",statics:{testText_:"Some text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n,r=this;return I.CorePromise.resolve(t.concat([function(){return r.oldTextLook_=d.opt(d.opt(d.as(d.opt(r.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.textLook})),r.newTextLook_=(n=N.LockupTextLook.toCaseValue(r.oldTextLook_+1))||null!=n?n:N.LockupTextLook.KnockoutAndShadow,d.opt(d.opt(r.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(r.textForma)})),new L.SetTextLookAction(r.newTextLook_)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),m.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.textLook})),this.newTextLook_)},validateAfterUndo:function(t,e){var o=this;XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}))),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.textLook})),this.oldTextLook_)},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),m.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.textLook})),this.newTextLook_)}}}),m),C.SetTextEffectsAttributesTest=(T=function t(){this.actionSequence_SetTextEffectsAttributes=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldStrokeWeight_=null,this.oldShadowOffset_=null,this.oldShadowAngle_=null,this.newStrokeWeight_=null,this.newShadowOffset_=null,this.newShadowAngle_=null,k.ActionTestBase.call(this)},d.defineClass({name:"SetTextEffectsAttributesTest",ctor:T,superName:"ActionTestBase",statics:{testText_:"Some text"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){return n.oldStrokeWeight_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.strokeWeight})),n.oldShadowOffset_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowOffset})),n.oldShadowAngle_=d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowAngle})),d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)})),new L.SetTextLookAction(N.LockupTextLook.ShadowAndOutline)},function(){return n.newStrokeWeight_=Math.min(2*n.oldStrokeWeight_,1),n.newShadowOffset_=Math.min(4*n.oldShadowOffset_,1),n.newShadowAngle_=n.oldShadowAngle_>315?n.oldShadowAngle_-315:n.oldShadowAngle_+45,new L.SetTextEffectsAttributesAction(n.newStrokeWeight_,n.newShadowOffset_,n.newShadowAngle_)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),T.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.strokeWeight})),this.newStrokeWeight_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowOffset})),this.newShadowOffset_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowAngle})),this.newShadowAngle_)},validateAfterUndo:function(t,e){var o=this;XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}))),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.strokeWeight})),this.oldStrokeWeight_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowOffset})),this.oldShadowOffset_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowAngle})),this.oldShadowAngle_)},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),T.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.strokeWeight})),this.newStrokeWeight_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowOffset})),this.newShadowOffset_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.shadowAngle})),this.newShadowAngle_)}}}),T),C.ApplyTextStyleSuggestionTest=(_=function t(){this.actionSequence_ApplyTextStyleSuggestion=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldFont_=null,this.firstAppliedFont_=null,k.ActionTestBase.call(this)},d.defineClass({name:"ApplyTextStyleSuggestionTest",ctor:_,superName:"ActionTestBase",statics:{testText_:"Some text",testFont_:"Bellfort",getTheoFont:function(t){var e=E.TheoFont.init_9e5c(x.Host.fontProvider.getIncludedFonts(X.ANY_DOCUMENT).find((function(e){return e.postScriptName==t})));return XCTAssertEqual(e.fontData.postScriptName,t),e}},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n=this;return I.CorePromise.resolve(t.concat([function(){n.oldFont_=d.opt(d.opt(d.opt(d.as(d.opt(n.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),d.opt(d.opt(n.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(n.textForma)}));var t=v.ColorTable.init_25f6([{key:v.ColorRole.FieldPrimary,value:"themeColor0"},{key:v.ColorRole.FieldSecondary,value:"themeColor1"}]),e=N.LockupStyle.init_a132(1,1,t,_.getTheoFont(_.testFont_),N.LockupStyle.DEFAULT_SPACING,N.LockupStyle.DEFAULT_TRACKING,N.LockupStyle.DEFAULT_PADDING,N.LockupBacking.BannerVertical,null,135,N.LockupLayout.FitJustified,N.LockupAlignment.UNSET,N.OpacityRule.Full,N.LockupTextLook.Shadow,N.LockupStyle.DEFAULT_SHADOWOFFSET,N.LockupStyle.DEFAULT_STROKEWEIGHT,void 0,void 0,!1);return new L.ApplyTextStyleSuggestionAction(e,n.textForma,new R.WheelSuggestionEvaluator(n.textForma),!1)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.as(this.lastActionResult,F.LockupStyleActionResult);this.firstAppliedFont_=d.opt(d.opt(d.opt(n,(function(t){return t.style})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName}));var r=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(r===this.textForma),XCTAssertEqual(d.opt(d.opt(r,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(r,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),_.testText_),d.opt(n,(function(t){return null!=t.style}))&&XCTAssertEqual(d.opt(d.opt(d.opt(d.as(d.opt(r,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),this.firstAppliedFont_)},validateAfterUndo:function(t,e){var o=this;XCTAssertEqual(d.opt(d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),this.oldFont_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertNotNil(n),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),_.testText_),null!=this.firstAppliedFont_&&XCTAssertEqual(d.opt(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.font})),(function(t){return t.fontData.postScriptName})),this.firstAppliedFont_)}}}),_),C.ChangeBackgroundShapeTest=(A=function t(){this.actionSequence_ChangeBackgroundShape=[function(){return new S.AddTextContentAction(t.testText_)}],this.testDoc_=null,this.testPage_=null,this.testFormaID_=null,this.oldBacking_=N.LockupBacking.None,this.oldBackingArtworkID_="",this.newBacking_=N.LockupBacking.None,this.newBackingArtworkID_="",k.ActionTestBase.call(this)},d.defineClass({name:"ChangeBackgroundShapeTest",ctor:A,superName:"ActionTestBase",statics:{testText_:"The quick brown fox"},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},populateActionSequence:function(t,e,o){var n,r,i,a,s=this;return I.CorePromise.resolve(t.concat([function(){return s.oldBacking_=(n=d.opt(d.opt(d.as(d.opt(s.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backing})))||null!=n?n:N.LockupBacking.None,s.oldBackingArtworkID_=(r=d.opt(d.opt(d.as(d.opt(s.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backingArtworkID})))||null!=r?r:"",s.oldBacking_=(i=d.opt(d.opt(d.as(d.opt(s.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backing})))||null!=i?i:N.LockupBacking.None,s.oldBackingArtworkID_=(a=d.opt(d.opt(d.as(d.opt(s.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backingArtworkID})))||null!=a?a:"",s.newBacking_=N.LockupBacking.SVGBackground,s.newBackingArtworkID_="button",d.opt(d.opt(s.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(s.textForma)})),new y.ChangeBackgroundShapeAction([s.textForma],s.newBacking_,s.newBackingArtworkID_,!1)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),A.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backing})),this.newBacking_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backingArtworkID})),this.newBackingArtworkID_)},validateAfterUndo:function(t,e){var o,n,r=this,i=(o=d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backing})))||null!=o?o:N.LockupBacking.None;XCTAssertEqual(i,this.oldBacking_);var a=(n=d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backingArtworkID})))||null!=n?n:"";XCTAssertEqual(i,this.oldBacking_),XCTAssertEqual(a,this.oldBackingArtworkID_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(r.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),A.testText_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backing})),this.newBacking_),XCTAssertEqual(d.opt(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backingArtworkID})),this.newBackingArtworkID_)}}}),A),C.ChangeBackgroundShapeCharStyleTest=(g=function t(){this.actionSequence_ChangeBackgroundShapeCharStyle=[function(){return new S.AddTextContentAction(t.testRangeText_)}],this.testDoc_=null,this.testPage_=null,this.rootForma_=null,this.testFormaID_=null,this.oldBacking_=N.LockupBacking.None,this.oldBackingArtworkID_="",this.newBacking_=N.LockupBacking.None,this.newBackingArtworkID_="",this.originalDocumentHasCharStyleAppliedToText_=!1,k.ActionTestBase.call(this)},d.defineClass({name:"ChangeBackgroundShapeCharStyleTest",ctor:g,superName:"ActionTestBase",statics:{testRangeText_:"The quick brown fox jumps over the lazy dog."},props:{textForma:{get:function(){return d.first(d.opt(d.as(this.getActionResult(0),F.FormaActionResult),(function(t){return t.formae})))}},hasTextWithCharStyle:function(){var t=!1;return d.opt(this.rootForma_,(function(e){return e.visitAll(P.FormaTraversal.PreOrder,(function(e){var o,n;(o=d.as(e,D.GroupForma))&&d.as(o.controller,w.TypeLockupController)&&(n=d.opt(d.opt(d.as(o.controller,w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.characterStyles[w.TypeLockupController.HIGHLIGHT_STYLE]})))&&n.description.length>0&&(t=!0)}))})),t},matchingLockupStyles:function(t){var e=0;return d.opt(this.rootForma_,(function(o){return o.visitAll(P.FormaTraversal.PreOrder,(function(o){var n,r;(n=d.as(o,D.GroupForma))&&d.as(n.controller,w.TypeLockupController)&&(r=d.opt(d.opt(d.as(n.controller,w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.characterStyles[w.TypeLockupController.HIGHLIGHT_STYLE]})))&&r.description==t.description&&(e+=1)}))})),e},populateActionSequence:function(t,e,o){var n,r,i,a=this;return I.CorePromise.resolve(t.concat([function(){a.oldBacking_=(n=d.opt(d.opt(d.as(d.opt(a.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backing})))||null!=n?n:N.LockupBacking.None,a.oldBackingArtworkID_=(r=d.opt(d.opt(d.as(d.opt(a.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backingArtworkID})))||null!=r?r:"",a.newBacking_=N.LockupBacking.SVGBackground,a.newBackingArtworkID_="button",d.opt(d.opt(a.testDoc_,(function(t){return t.controller})),(function(t){return t.selection.replaceSelection(a.textForma)}));var t=d.opt(d.opt(d.as(d.opt(a.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.characterStyles[w.TypeLockupController.HIGHLIGHT_STYLE]}));XCTAssertTrue(null==t||a.originalDocumentHasCharStyleAppliedToText_&&a.matchingLockupStyles(t)>1);var e=d.clone(d.opt(d.as(d.opt(a.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.charStyleRanges})));return XCTAssertTrue(!(i=0==e.length)&&null==i||i),new L.EnterCharStyleModeAction(a.textForma)},function(){return new y.ChangeBackgroundShapeAction([a.textForma],a.newBacking_,a.newBackingArtworkID_,!0)},function(){return new L.ExitCharStyleModeAction(a.textForma)}]))},setUpActionSequence:function(t,e,o){this.testDoc_=o,this.testPage_=o.firstPage,this.rootForma_=o.firstPage.root,this.originalDocumentHasCharStyleAppliedToText_=this.hasTextWithCharStyle()},validateAfterActionSequence:function(t,e){var o=this;this.testFormaID_=d.opt(this.textForma,(function(t){return t.formaID})),XCTAssertNotNil(this.testDoc_),XCTAssertNotNil(this.testPage_),XCTAssertNotNil(this.testFormaID_);var n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),g.testRangeText_);var r=d.opt(n,(function(t){return t.controller})),i=d.opt(r.lockupStyle,(function(t){return t.characterStyles[w.TypeLockupController.HIGHLIGHT_STYLE]}));XCTAssertNotEqual(i,null);var a=d.clone(r.charStyleRanges);XCTAssertFalse(0==a.length),XCTAssertTrue(a.length<g.testRangeText_.length);var s=r.getCharacterStyle(w.TypeLockupController.HIGHLIGHT_STYLE);XCTAssertEqual(s.backing,this.newBacking_),XCTAssertEqual(s.backingArtworkID,this.newBackingArtworkID_)},validateAfterUndo:function(t,e){var o,n,r,i=this,a=(o=d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backing})))||null!=o?o:N.LockupBacking.None;XCTAssertEqual(a,this.oldBacking_);var s=(n=d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.backingArtworkID})))||null!=n?n:"",u=d.opt(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.lockupStyle})),(function(t){return t.characterStyles[w.TypeLockupController.HIGHLIGHT_STYLE]}));XCTAssertTrue(null==u||this.originalDocumentHasCharStyleAppliedToText_&&this.matchingLockupStyles(u)>0);var l=d.clone(d.opt(d.as(d.opt(this.textForma,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.charStyleRanges})));XCTAssertTrue(!(r=0==l.length)&&null==r||r),XCTAssertEqual(a,this.oldBacking_),XCTAssertEqual(s,this.oldBackingArtworkID_),XCTAssertNil(d.opt(this.testPage_,(function(t){return t.formaByID(i.testFormaID_)})))},validateAfterRedo:function(t,e){var o=this,n=d.opt(this.testPage_,(function(t){return t.formaByID(o.testFormaID_)}));XCTAssertTrue(n===this.textForma),XCTAssertEqual(d.opt(d.opt(n,(function(t){return t.controller})),(function(t){return t.kind})),w.TypeLockupController.KIND),XCTAssertEqual(d.opt(d.as(d.opt(n,(function(t){return t.controller})),w.TypeLockupController),(function(t){return t.text})),g.testRangeText_);var r=d.opt(n,(function(t){return t.controller})),i=d.opt(r.lockupStyle,(function(t){return t.characterStyles[w.TypeLockupController.HIGHLIGHT_STYLE]}));XCTAssertNotEqual(i,null);var a=d.clone(r.charStyleRanges);XCTAssertFalse(0==a.length),XCTAssertTrue(a.length<g.testRangeText_.length);var s=r.getCharacterStyle(w.TypeLockupController.HIGHLIGHT_STYLE);XCTAssertEqual(s.backing,this.newBacking_),XCTAssertEqual(s.backingArtworkID,this.newBackingArtworkID_)}}}),g)},"4zuo":function(t,e,o){var n,r=e,i=o("oAGj"),a=o("c9Jm"),s=o("pnSN"),u=o("434x"),l=o("8t9B"),c=o("oKlP"),f=o("sIWg");r.NudgeTest=(n=function(){this.actionSequence_NudgeUpRight=[function(){return new u.NudgeAction(new c.TheoPoint(10,0),null)},function(){return new u.NudgeAction(new c.TheoPoint(0,-10),null)}],this.formaToNudge_=null,this.initialBounds_=f.TheoRect.Zero,this.postNudgeBounds_=f.TheoRect.Zero,a.ActionTestBase.call(this)},i.defineClass({name:"NudgeTest",ctor:n,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){this.formaToNudge_=i.last(this.allSelectableFormae(o,(function(t){return t instanceof s.GroupForma&&t.controller.kind==l.TypeLockupController.KIND}))),XCTAssertNotNil(this.formaToNudge_),null!=this.formaToNudge_&&(o.controller.selection.replaceSelection(this.formaToNudge_),this.initialBounds_=this.formaToNudge_.finalFrame)},validateAfterActionSequence:function(t,e){this.postNudgeBounds_=this.formaToNudge_.finalFrame,XCTAssertFalse(this.postNudgeBounds_.equal(this.initialBounds_))},validateAfterUndo:function(t,e){var o=this.formaToNudge_.finalFrame;XCTAssertTrue(this.initialBounds_.equal(o))},validateAfterRedo:function(t,e){var o=this.formaToNudge_.finalFrame;XCTAssertTrue(o.equal(this.postNudgeBounds_))}}}),n)},Jgdj:function(t,e,o){var n,r,i,a,s=e,u=o("oAGj"),l=o("c9Jm"),c=o("yGNn"),f=o("lqhW"),p=o("ylxa"),h=o("cEBg"),m=o("1NAc");s.PageSizeLetterTest=(n=function(){this.actionSequence_PageSizeLetter=[],this.testDoc_=null,this.testPage_=null,this.initialPageSizeID_="",this.initialPageSizePPI_=p.FormaPageExportData.DEFAULT_PPI,this.initialPageSizeFormat_=p.PageExportFormat.PIXELS,l.ActionTestBase.call(this)},u.defineClass({name:"PageSizeLetterTest",ctor:n,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){var n,r,i;this.testDoc_=o,this.testPage_=o.firstPage,this.initialPageSizeID_=(n=u.opt(this.testPage_,(function(t){return t.sizeID})))||null!=n?n:"",this.initialPageSizePPI_=(r=u.opt(this.testPage_,(function(t){return t.customSizePPI})))||null!=r?r:300,this.initialPageSizeFormat_=(i=u.opt(this.testPage_,(function(t){return t.customSizeFormat})))||null!=i?i:p.PageExportFormat.PIXELS},populateActionSequence:function(t,e,o){var n=this,r=f.DesignSizeLibrary.getById("Letter");return c.CorePromise.resolve([function(){return new h.ChangePageSizeAction(n.testPage_,r)}])},validateAfterActionSequence:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("Letter"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.INCHES),XCTAssertTrue(this.testPage_.getPageExportData().pointDimensions.equal(new m.TheoSize(8.5,11).multiply(p.FormaPageExportData.POINTS_PER_INCH)))},validateAfterUndo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue(o==this.initialPageSizeID_),XCTAssertTrue(n==this.initialPageSizePPI_),XCTAssertTrue(r==this.initialPageSizeFormat_)},validateAfterRedo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("Letter"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.INCHES),XCTAssertTrue(this.testPage_.getPageExportData().pointDimensions.equal(new m.TheoSize(8.5,11).multiply(p.FormaPageExportData.POINTS_PER_INCH)))}}}),n),s.PageSizeCustomTest=(r=function(){this.actionSequence_PageSizeCustom=[],this.testDoc_=null,this.testPage_=null,this.initialPageSizeID_="",this.initialPageSizePPI_=p.FormaPageExportData.DEFAULT_PPI,this.initialPageSizeFormat_=p.PageExportFormat.PIXELS,l.ActionTestBase.call(this)},u.defineClass({name:"PageSizeCustomTest",ctor:r,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){var n,r,i;this.testDoc_=o,this.testPage_=o.firstPage,this.initialPageSizeID_=(n=u.opt(this.testPage_,(function(t){return t.sizeID})))||null!=n?n:"",this.initialPageSizePPI_=(r=u.opt(this.testPage_,(function(t){return t.customSizePPI})))||null!=r?r:300,this.initialPageSizeFormat_=(i=u.opt(this.testPage_,(function(t){return t.customSizeFormat})))||null!=i?i:p.PageExportFormat.PIXELS},populateActionSequence:function(t,e,o){var n=this,r=f.DesignSizeLibrary.getCustomSize(1011,990,p.PageExportFormat.PIXELS,p.FormaPageExportData.DEFAULT_PPI);return c.CorePromise.resolve([function(){return new h.ChangePageSizeAction(n.testPage_,r)}])},validateAfterActionSequence:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("Custom"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.PIXELS),XCTAssertTrue(this.testPage_.getPageExportData().pixelDimensions.equal(new m.TheoSize(1011,990)))},validateAfterUndo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue(o==this.initialPageSizeID_),XCTAssertTrue(n==this.initialPageSizePPI_),XCTAssertTrue(r==this.initialPageSizeFormat_)},validateAfterRedo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("Custom"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.PIXELS),XCTAssertTrue(this.testPage_.getPageExportData().pixelDimensions.equal(new m.TheoSize(1011,990)))}}}),r),s.PageSizeA4Test=(i=function(){this.actionSequence_PageSizeA4=[],this.testDoc_=null,this.testPage_=null,this.initialPageSizeID_="",this.initialPageSizePPI_=p.FormaPageExportData.DEFAULT_PPI,this.initialPageSizeFormat_=p.PageExportFormat.PIXELS,l.ActionTestBase.call(this)},u.defineClass({name:"PageSizeA4Test",ctor:i,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){var n,r,i;this.testDoc_=o,this.testPage_=o.firstPage,this.initialPageSizeID_=(n=u.opt(this.testPage_,(function(t){return t.sizeID})))||null!=n?n:"",this.initialPageSizePPI_=(r=u.opt(this.testPage_,(function(t){return t.customSizePPI})))||null!=r?r:300,this.initialPageSizeFormat_=(i=u.opt(this.testPage_,(function(t){return t.customSizeFormat})))||null!=i?i:p.PageExportFormat.PIXELS},populateActionSequence:function(t,e,o){var n=this,r=f.DesignSizeLibrary.getById("A4");return c.CorePromise.resolve([function(){return new h.ChangePageSizeAction(n.testPage_,r)}])},validateAfterActionSequence:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("A4"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.MILLIMETERS),XCTAssertTrue(this.testPage_.getPageExportData().pointDimensions.equal(new m.TheoSize(210,297).multiply(p.FormaPageExportData.POINTS_PER_INCH*p.FormaPageExportData.MM_TO_INCHES)))},validateAfterUndo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue(o==this.initialPageSizeID_),XCTAssertTrue(n==this.initialPageSizePPI_),XCTAssertTrue(r==this.initialPageSizeFormat_)},validateAfterRedo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("A4"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.MILLIMETERS),XCTAssertTrue(this.testPage_.getPageExportData().pointDimensions.equal(new m.TheoSize(210,297).multiply(p.FormaPageExportData.POINTS_PER_INCH*p.FormaPageExportData.MM_TO_INCHES)))}}}),i),s.PageSizePhoneTest=(a=function(){this.actionSequence_PageSizePhone=[],this.testDoc_=null,this.testPage_=null,this.initialPageSizeID_="",this.initialPageSizePPI_=p.FormaPageExportData.DEFAULT_PPI,this.initialPageSizeFormat_=p.PageExportFormat.PIXELS,l.ActionTestBase.call(this)},u.defineClass({name:"PageSizePhoneTest",ctor:a,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){var n,r,i;this.testDoc_=o,this.testPage_=o.firstPage,this.initialPageSizeID_=(n=u.opt(this.testPage_,(function(t){return t.sizeID})))||null!=n?n:"",this.initialPageSizePPI_=(r=u.opt(this.testPage_,(function(t){return t.customSizePPI})))||null!=r?r:300,this.initialPageSizeFormat_=(i=u.opt(this.testPage_,(function(t){return t.customSizeFormat})))||null!=i?i:p.PageExportFormat.PIXELS},populateActionSequence:function(t,e,o){var n=this,r=f.DesignSizeLibrary.getById("iPhone");return c.CorePromise.resolve([function(){return new h.ChangePageSizeAction(n.testPage_,r)}])},validateAfterActionSequence:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("iPhone"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.PIXELS),XCTAssertTrue(this.testPage_.getPageExportData().pixelDimensions.equal(new m.TheoSize(1080,1920)))},validateAfterUndo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue(o==this.initialPageSizeID_),XCTAssertTrue(n==this.initialPageSizePPI_),XCTAssertTrue(r==this.initialPageSizeFormat_)},validateAfterRedo:function(t,e){var o=u.opt(this.testPage_,(function(t){return t.sizeID})),n=u.opt(this.testPage_,(function(t){return t.customSizePPI})),r=u.opt(this.testPage_,(function(t){return t.customSizeFormat}));XCTAssertTrue("iPhone"==o),XCTAssertTrue(300==n),XCTAssertTrue(r==p.PageExportFormat.PIXELS),XCTAssertTrue(this.testPage_.getPageExportData().pixelDimensions.equal(new m.TheoSize(1080,1920)))}}}),a)},KyAS:function(t,e,o){var n,r,i=e,a=o("oAGj"),s=o("c9Jm"),u=o("9tXS");i.EnableWatermarkTest=(n=function(){this.actionSequence_TurnOnWatermark=[function(){return new u.SetWatermarkAction(!0)}],this.testDoc_=null,this.wasEnabled_=!1,s.ActionTestBase.call(this)},a.defineClass({name:"EnableWatermarkTest",ctor:n,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){this.testDoc_=o,this.wasEnabled_=o.watermarkEnabled},validateAfterActionSequence:function(t,e){XCTAssertNotNil(this.testDoc_),XCTAssertTrue(this.testDoc_.watermarkEnabled)},validateAfterUndo:function(t,e){XCTAssertTrue(this.testDoc_.watermarkEnabled==this.wasEnabled_)},validateAfterRedo:function(t,e){XCTAssertTrue(this.testDoc_.watermarkEnabled)}}}),n),i.DisableWatermarkTest=(r=function(){this.actionSequence_TurnOffWatermark=[function(){return new u.SetWatermarkAction(!1)}],this.testDoc_=null,this.wasEnabled_=!1,s.ActionTestBase.call(this)},a.defineClass({name:"DisableWatermarkTest",ctor:r,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){this.testDoc_=o,this.wasEnabled_=o.watermarkEnabled},validateAfterActionSequence:function(t,e){XCTAssertNotNil(this.testDoc_),XCTAssertFalse(this.testDoc_.watermarkEnabled)},validateAfterUndo:function(t,e){XCTAssertTrue(this.testDoc_.watermarkEnabled==this.wasEnabled_)},validateAfterRedo:function(t,e){XCTAssertFalse(this.testDoc_.watermarkEnabled)}}}),r)},"W5+J":function(t,e,o){var n,r=e,i=o("oAGj"),a=o("c9Jm"),s=o("yGNn"),u=o("FNB+"),l=o("9Lk3"),c=o("fdtz"),f=o("nELi");r.ScaleTest=(n=function(){this.actionSequence_Scale=[],this.formaeToScale_=[],this.formaeToTest_=[],this.initialTransforms_=[],a.ActionTestBase.call(this)},i.defineClass({name:"ScaleTest",ctor:n,superName:"ActionTestBase",statics:{scale_:2},props:{populateActionSequence:function(t,e,o){var r,a=this;this.formaeToScale_=i.clone(this.allSelectableFormae(o,(function(t){return!(t.controller instanceof l.GridController)&&!(!(r=i.opt(t.controller,(function(t){return t.scalable})))&&null==r)&&r}))),XCTAssertFalse(0==this.formaeToScale_.length);for(var p=i.iter(this.formaeToScale_);!p.done;p.next()){var h=p.value,m=i.clone(h.filterByKind(c.ImageForma.KIND,u.FormaTraversal.JustChildren));m.length>0&&!m[0].controller.floating?this.formaeToTest_=this.formaeToTest_.concat(m):this.formaeToTest_.push(h)}return this.initialTransforms_=this.formaeToTest_.map((function(t){return t.totalPlacement}),this),s.CorePromise.resolve([function(){return new f.ScaleAction(n.scale_,i.clone(a.formaeToScale_))}])},validateAfterActionSequence:function(t,e){for(var o=i.iter(i.range(0,this.formaeToTest_.length,!1));!o.done;o.next()){var r=o.value;XCTAssertEqual(this.formaeToTest_[r].totalPlacement.extractedScale.scale,this.initialTransforms_[r].scaleXY(n.scale_,n.scale_).extractedScale.scale)}},validateAfterUndo:function(t,e){for(var o=i.iter(i.range(0,this.formaeToTest_.length,!1));!o.done;o.next()){var n=o.value;XCTAssertEqual(this.formaeToTest_[n].totalPlacement.extractedScale.scale,this.initialTransforms_[n].extractedScale.scale)}},validateAfterRedo:function(t,e){for(var o=i.iter(i.range(0,this.formaeToTest_.length,!1));!o.done;o.next()){var r=o.value;XCTAssertEqual(this.formaeToTest_[r].totalPlacement.extractedScale.scale,this.initialTransforms_[r].scaleXY(n.scale_,n.scale_).extractedScale.scale)}},tearDown:function(){this.formaeToScale_=[],a.ActionTestBase.prototype.tearDown.call(this)}}}),n)},Ztps:function(t,e,o){var n,r,i=e,a=o("oAGj"),s=o("c9Jm"),u=o("yGNn"),l=o("9Lk3"),c=o("j89o"),f=o("T8w7"),p=o("uxH+");i.OpacityTest=(n=function(){this.actionSequence_SetOpacity=[function(){return new c.SetOpacityAction(.55)}],this.formaeToChangeOpacity_=[],this.initialOpacities_=[],s.ActionTestBase.call(this)},a.defineClass({name:"OpacityTest",ctor:n,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){var n;this.formaeToChangeOpacity_=a.clone(this.allSelectableFormae(o,(function(t){return!(!(n=a.opt(t.controller,(function(t){return t.opacityChangeable})))&&null==n)&&n}))),this.initialOpacities_=this.formaeToChangeOpacity_.map((function(t){return f.OpacityFacade.getOpacityForForma(t)}),this),o.controller.selection.replaceSelectionWithFormae(a.clone(this.formaeToChangeOpacity_))},validateAfterActionSequence:function(t,e){for(var o=a.iter(this.formaeToChangeOpacity_);!o.done;o.next()){var n=o.value,r=f.OpacityFacade.getOpacityForForma(n);XCTAssertEqual(r,.55)}},validateAfterUndo:function(t,e){for(var o=a.iter(a.range(0,this.formaeToChangeOpacity_.length,!1));!o.done;o.next()){var n=o.value,r=this.formaeToChangeOpacity_[n],i=f.OpacityFacade.getOpacityForForma(r),s=this.initialOpacities_[n];XCTAssertEqual(i,s)}},validateAfterRedo:function(t,e){for(var o=a.iter(this.formaeToChangeOpacity_);!o.done;o.next()){var n=o.value,r=f.OpacityFacade.getOpacityForForma(n);XCTAssertEqual(r,.55)}}}}),n),i.BackgroundOpacityTest=(r=function(){this.testDoc_=null,this.rootForma_=null,this.actionSequence_SetBackgroundOpacity=[],s.ActionTestBase.call(this)},a.defineClass({name:"BackgroundOpacityTest",ctor:r,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){var n;return this.rootForma_=o.firstPage.root,this.testDoc_=o,!!(n=a.as(a.opt(this.rootForma_,(function(t){return t.controller})),p.RootController))&&n.suggestTransparentBackground()},populateActionSequence:function(t,e,o){return u.CorePromise.resolve([function(){return new c.SetBackgroundOpacityAction(0,o.firstPage)}])},setUpActionSequence:function(t,e,o){var n;if(n=a.as(a.opt(this.rootForma_,(function(t){return t.controller})),p.RootController)){XCTAssertTrue(n.suggestTransparentBackground());var r=f.OpacityFacade.getBackgroundOpacity(o.firstPage);XCTAssertTrue(1==r);for(var i=a.iter(this.rootForma_.filterWithCallback((function(t){return l.GridController.isBackgroundColoredCell(t)})));!i.done;i.next()){var s=i.value;XCTAssertTrue(1==s.style.opacity)}}else XCTFail("no root controller?")},validateAfterActionSequence:function(t,e){var o;if(o=a.as(a.opt(this.rootForma_,(function(t){return t.controller})),p.RootController)){XCTAssertTrue(o.suggestTransparentBackground());var n=f.OpacityFacade.getBackgroundOpacity(this.testDoc_.firstPage);XCTAssertTrue(0==n);for(var r=a.iter(this.rootForma_.filterWithCallback((function(t){return l.GridController.isBackgroundColoredCell(t)})));!r.done;r.next()){var i=r.value;XCTAssertTrue(0==i.style.opacity)}}else XCTFail("no root controller?")},validateAfterUndo:function(t,e){var o;if(o=a.as(a.opt(this.rootForma_,(function(t){return t.controller})),p.RootController)){XCTAssertTrue(o.suggestTransparentBackground());var n=f.OpacityFacade.getBackgroundOpacity(this.testDoc_.firstPage);XCTAssertTrue(1==n);for(var r=a.iter(this.rootForma_.filterWithCallback((function(t){return l.GridController.isBackgroundColoredCell(t)})));!r.done;r.next()){var i=r.value;XCTAssertTrue(1==i.style.opacity)}}else XCTFail("no root controller?")},validateAfterRedo:function(t,e){var o;if(o=a.as(a.opt(this.rootForma_,(function(t){return t.controller})),p.RootController)){XCTAssertTrue(o.suggestTransparentBackground());var n=f.OpacityFacade.getBackgroundOpacity(this.testDoc_.firstPage);XCTAssertTrue(0==n);for(var r=a.iter(this.rootForma_.filterWithCallback((function(t){return l.GridController.isBackgroundColoredCell(t)})));!r.done;r.next()){var i=r.value;XCTAssertTrue(0==i.style.opacity)}}else XCTFail("no root controller?")}}}),r)},bpSr:function(t,e,o){var n,r,i,a,s,u,l,c,f,p,h,m,T,_,A=e,g=o("oAGj"),C=o("Tq01"),d=o("c9Jm"),F=o("yGNn"),S=o("FNB+"),k=o("6ZWm"),y=o("cmoc"),I=o("bqbo"),v=o("q5zr"),P=o("fdtz"),D=o("lmwz"),x=o("uWOl"),X=o("j89o"),N=o("Zifs"),L=o("djAF"),q=o("umUn");A.ReplaceImagesWithColorsTest=(n=function t(){this.actionSequence_ReplaceImagesWithColors=[function(){return new I.ReplaceImagesWithColorsAction(null,[t.green_])}],this.formaToReplace_=null,d.ActionTestBase.call(this)},r={},g.defineClass({name:"ReplaceImagesWithColorsTest",ctor:n,superName:"ActionTestBase",statics:{green_:{get:function(){return void 0===r.green_&&(r.green_=q.TheoColor.init_5344(new N.SolidColor(0,1,0,1))),r.green_}}},props:{replacementForma:{get:function(){return g.first(g.opt(g.as(this.getActionResult(0),C.FormaActionResult),(function(t){return t.formae})))}},canRunActionSequence:function(t,e,o){return this.formaToReplace_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t instanceof y.FrameForma&&g.opt(g.as(t,y.FrameForma),(function(t){return t.childAt(0)instanceof P.ImageForma}))}))),y.FrameForma),null!=this.formaToReplace_},setUpActionSequence:function(t,e,o){XCTAssertNotNil(this.formaToReplace_),null!=this.formaToReplace_&&o.controller.selection.replaceSelection(this.formaToReplace_)},validateAfterActionSequence:function(t,e){var o;if(XCTAssertNotNil(this.replacementForma),XCTAssertTrue(this.replacementForma instanceof L.ShapeForma),XCTAssertNil(g.opt(this.formaToReplace_,(function(t){return t.parent}))),o=g.as(this.replacementForma,L.ShapeForma)){var r=o.style.colors.fieldPrimary;XCTAssertNotNil(r),XCTAssertEqual(r,n.green_.rgbColor)}},validateAfterUndo:function(t,e){XCTAssertNil(g.opt(this.replacementForma,(function(t){return t.parent}))),XCTAssertNotNil(g.opt(this.formaToReplace_,(function(t){return t.parent})))},validateAfterRedo:function(t,e){var o;if(XCTAssertNotNil(this.replacementForma),XCTAssertTrue(this.replacementForma instanceof L.ShapeForma),XCTAssertNil(g.opt(this.formaToReplace_,(function(t){return t.parent}))),o=g.as(this.replacementForma,L.ShapeForma)){var r=o.style.colors.fieldPrimary;XCTAssertNotNil(r),XCTAssertEqual(r,n.green_.rgbColor)}this.formaToReplace_=null}}}),n),A.SetImageFilterTest=(i=function(){this.actionSequence_SetImageFilter=[],this.formaToChange_=null,this.originalStyleName_=null,d.ActionTestBase.call(this)},g.defineClass({name:"SetImageFilterTest",ctor:i,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.formaToChange_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t instanceof y.FrameForma&&g.opt(g.as(t,y.FrameForma),(function(t){return t.childAt(0)instanceof P.ImageForma}))}))),y.FrameForma),null!=this.formaToChange_},populateActionSequence:function(t,e,o){return F.CorePromise.resolve([function(){return new I.SetImageFilterAction(o.firstPage.imageFilterLibrary.getImageStyle("Greyscale"))}])},setUpActionSequence:function(t,e,o){XCTAssertNotNil(this.formaToChange_),null!=this.formaToChange_&&(this.originalStyleName_=g.opt(g.as(g.opt(g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma),(function(t){return t.style})),x.ImageStyle),(function(t){return t.name})),o.controller.selection.replaceSelection(this.formaToChange_))},validateAfterActionSequence:function(t,e){if(null!=this.formaToChange_){var o=g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(o);var n=g.as(g.opt(o,(function(t){return t.style})),x.ImageStyle);XCTAssertNotNil(n),XCTAssertTrue(g.opt(n,(function(t){return"Greyscale"==t.name})))}},validateAfterUndo:function(t,e){if(null!=this.formaToChange_){var o=g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(o),XCTAssertEqual(this.originalStyleName_,g.opt(g.as(g.opt(o,(function(t){return t.style})),x.ImageStyle),(function(t){return t.name})))}},validateAfterRedo:function(t,e){if(null!=this.formaToChange_){var o=g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(o);var n=g.as(g.opt(o,(function(t){return t.style})),x.ImageStyle);XCTAssertNotNil(n),XCTAssertTrue(g.opt(n,(function(t){return"Greyscale"==t.name}))),this.formaToChange_=null}}}}),i),A.ShuffleImageFilterTest=(a=function(){this.actionSequence_ShuffleImageFilter=[],this.page_=null,this.formaToChange_=null,this.styleToShuffle_=null,this.originalStyleName_=null,d.ActionTestBase.call(this)},g.defineClass({name:"ShuffleImageFilterTest",ctor:a,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.formaToChange_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t instanceof y.FrameForma&&g.opt(g.as(t,y.FrameForma),(function(t){return t.childAt(0)instanceof P.ImageForma}))}))),y.FrameForma),null!=this.formaToChange_},prepareDocument:function(t,e){var o=this;return this.page_=t.firstPage,this.styleToShuffle_=this.page_.imageFilterLibrary.getImageStyle("Multiply"),null!=this.formaToChange_&&t.controller.selection.replaceSelection(this.formaToChange_),F.CorePromise.resolve([function(){return new I.SetImageFilterAction(o.styleToShuffle_)}])},populateActionSequence:function(t,e,o){var n=this;return F.CorePromise.resolve([function(){return new I.ShuffleImageFilterAction(n.styleToShuffle_,n.page_)}])},setUpActionSequence:function(t,e,o){XCTAssertNotNil(this.formaToChange_),null!=this.formaToChange_&&(this.originalStyleName_=g.opt(g.as(g.opt(g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma),(function(t){return t.style})),x.ImageStyle),(function(t){return t.name})),o.controller.selection.replaceSelection(this.formaToChange_))},validateAfterActionSequence:function(t,e){if(null!=this.formaToChange_){var o=g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(o);var n=g.as(g.opt(o,(function(t){return t.style})),x.ImageStyle);XCTAssertNotNil(n),XCTAssertTrue(g.opt(n,(function(t){return"Multiply"==t.name})))}},validateAfterUndo:function(t,e){if(null!=this.formaToChange_){var o=g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(o),XCTAssertEqual(this.originalStyleName_,g.opt(g.as(g.opt(o,(function(t){return t.style})),x.ImageStyle),(function(t){return t.name})))}},validateAfterRedo:function(t,e){if(null!=this.formaToChange_){var o=g.as(g.opt(this.formaToChange_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(o);var n=g.as(g.opt(o,(function(t){return t.style})),x.ImageStyle);XCTAssertNotNil(n),XCTAssertTrue(g.opt(n,(function(t){return"Multiply"==t.name}))),this.formaToChange_=null}}}}),a),A.ChangeImageAdjustmentsTest=(s=function(){this.actionSequence_ChangeImageAdjustments=[function(){return I.ChangeImageAdjustmentsAction.init_dd66("saturation",100)}],this.formaToAdjust_=null,this.oldValue_=null,d.ActionTestBase.call(this)},g.defineClass({name:"ChangeImageAdjustmentsTest",ctor:s,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.formaToAdjust_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t instanceof y.FrameForma&&g.opt(g.as(t,y.FrameForma),(function(t){return t.childAt(0)instanceof P.ImageForma}))}))),y.FrameForma),null!=this.formaToAdjust_},setUpActionSequence:function(t,e,o){if(XCTAssertNotNil(this.formaToAdjust_),null!=this.formaToAdjust_){var n=g.as(g.opt(this.formaToAdjust_,(function(t){return t.childAt(0)})),P.ImageForma);this.oldValue_=g.opt(g.opt(n,(function(t){return t.style.adjustments})),(function(t){return t.saturation})),o.controller.selection.replaceSelection(this.formaToAdjust_)}},validateAfterActionSequence:function(t,e){var o;if(null!=this.formaToAdjust_){var n=g.as(g.opt(this.formaToAdjust_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(n);var r=g.as(g.opt(n,(function(t){return t.style})),x.ImageStyle);XCTAssertNotNil(r),XCTAssertEqual(100,(o=g.opt(g.opt(r,(function(t){return t.adjustments})),(function(t){return t.saturation})))||null!=o?o:0)}},validateAfterUndo:function(t,e){var o,n;if(null!=this.formaToAdjust_){var r=g.as(g.opt(this.formaToAdjust_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(r);var i=g.as(g.opt(r,(function(t){return t.style})),x.ImageStyle);XCTAssertNotNil(i),XCTAssertEqual((o=this.oldValue_)||null!=o?o:0,(n=g.opt(g.opt(i,(function(t){return t.adjustments})),(function(t){return t.saturation})))||null!=n?n:0)}},validateAfterRedo:function(t,e){var o;if(null!=this.formaToAdjust_){var n=g.as(g.opt(this.formaToAdjust_,(function(t){return t.childAt(0)})),P.ImageForma);XCTAssertNotNil(n);var r=g.as(g.opt(n,(function(t){return t.style})),x.ImageStyle);XCTAssertNotNil(r),XCTAssertEqual(100,(o=g.opt(g.opt(r,(function(t){return t.adjustments})),(function(t){return t.saturation})))||null!=o?o:0),this.formaToAdjust_=null}}}}),s),A.SetImageAsFloatingTest=(u=function(){this.actionSequence_SetAsFloating=[function(){return new I.SetImageAsFloatingAction}],this.frameForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"SetImageAsFloatingTest",ctor:u,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.frameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isBackgroundImage()}))),y.FrameForma),null!=this.frameForma_},setUpActionSequence:function(t,e,o){XCTAssertFalse(this.frameForma_.controller.floating),o.controller.selection.replaceSelection(this.frameForma_)},validateAfterActionSequence:function(t,e){XCTAssertTrue(this.frameForma_.controller.floating)},validateAfterUndo:function(t,e){XCTAssertFalse(this.frameForma_.controller.floating)},validateAfterRedo:function(t,e){XCTAssertTrue(this.frameForma_.controller.floating)}}}),u),A.SetImageAsBackgroundTest=(l=function(){this.actionSequence_SetAsBackground=[function(){return new I.SetImageAsBackgroundAction}],this.oneFrameForma_=null,this.frameForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"SetImageAsBackgroundTest",ctor:l,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},prepareDocument:function(t,e){var o=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),o.push((function(){return new I.SetImageAsFloatingAction}))),F.CorePromise.resolve(g.clone(o))},setUpActionSequence:function(t,e,o){XCTAssertTrue(this.frameForma_.controller.floating),o.controller.selection.replaceSelection(this.frameForma_)},validateAfterActionSequence:function(t,e){XCTAssertFalse(this.frameForma_.controller.floating)},validateAfterUndo:function(t,e){XCTAssertTrue(this.frameForma_.controller.floating)},validateAfterRedo:function(t,e){XCTAssertFalse(this.frameForma_.controller.floating)}}}),l),A.CropToRatioTest=(c=function(){this.actionSequence_CropToRatio=[],this.oneFrameForma_=null,this.frameForma_=null,this.imageForma_=null,this.initialRatio_=1,this.cropRatio_=1,d.ActionTestBase.call(this)},g.defineClass({name:"CropToRatioTest",ctor:c,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},populateActionSequence:function(t,e,o){var n=this;return F.CorePromise.resolve([function(){return n.initialRatio_=n.frameForma_.bounds.aspectRatio,n.cropRatio_=n.initialRatio_<1?4/3:.75,new I.CropImageToRatioAction(n.imageForma_,n.cropRatio_,null)}])},prepareDocument:function(t,e){var o=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),o.push((function(){return new I.SetImageAsFloatingAction}))),this.imageForma_=D.ImageFacade.getImageFormaForForma(this.frameForma_),F.CorePromise.resolve(g.clone(o))},validateAfterActionSequence:function(t,e){var o=this.frameForma_.bounds.aspectRatio;XCTAssertEqual(o,this.cropRatio_,.001)},validateAfterUndo:function(t,e){var o=this.frameForma_.bounds.aspectRatio;XCTAssertEqual(o,this.initialRatio_,.001)},validateAfterRedo:function(t,e){var o=this.frameForma_.bounds.aspectRatio;XCTAssertEqual(o,this.cropRatio_,.001)}}}),c),A.ApplyShapeMaskTest=(f=function(){this.actionSequence_ApplyShapeMask=[],this.oneFrameForma_=null,this.frameForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"ApplyShapeMaskTest",ctor:f,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},populateActionSequence:function(t,e,o){var n=this;return F.CorePromise.resolve([function(){return new I.ApplyShapeMaskToImageAction(n.frameForma_,"diamond")}])},prepareDocument:function(t,e){var o=this,n=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),n.push((function(){return new I.SetImageAsFloatingAction}))),D.ImageFacade.formaHasMask(this.frameForma_)&&n.push((function(){return new I.ApplyShapeMaskToImageAction(o.frameForma_)})),F.CorePromise.resolve(g.clone(n))},validateAfterActionSequence:function(t,e){var o;if(o=g.as(g.opt(this.frameForma_,(function(t){return t.controller})),k.FrameController)){var n=g.as(o.mask,L.ShapeForma);XCTAssertNotNil(n),XCTAssertEqual(n.shapeLibraryID,"diamond")}},validateAfterUndo:function(t,e){var o;(o=g.as(g.opt(this.frameForma_,(function(t){return t.controller})),k.FrameController))&&XCTAssertNil(o.mask)},validateAfterRedo:function(t,e){var o;if(o=g.as(g.opt(this.frameForma_,(function(t){return t.controller})),k.FrameController)){var n=g.as(o.mask,L.ShapeForma);XCTAssertNotNil(n),XCTAssertEqual(n.shapeLibraryID,"diamond")}}}}),f),A.ApplyRasterMaskTest=(p=function(){this.actionSequence_ApplyRasterMask=[],this.oneFrameForma_=null,this.frameForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"ApplyRasterMaskTest",ctor:p,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},populateActionSequence:function(t,e,o){var n=this;return F.CorePromise.resolve([function(){return new I.ApplyRasterMaskToImageAction(n.frameForma_,"raster-01")}])},prepareDocument:function(t,e){var o=this,n=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),n.push((function(){return new I.SetImageAsFloatingAction}))),D.ImageFacade.formaHasMask(this.frameForma_)&&!D.ImageFacade.formaHasShapeMask(this.frameForma_)&&n.push((function(){return new I.ApplyRasterMaskToImageAction(o.frameForma_)})),F.CorePromise.resolve(g.clone(n))},validateAfterActionSequence:function(t,e){var o;if(o=g.as(g.opt(this.frameForma_,(function(t){return t.controller})),k.FrameController)){var n=g.as(o.mask,P.ImageForma);XCTAssertNotNil(n),XCTAssertEqual(n.contentNode.getTag(v.ImageContentNode.ASSET_ID_TAG),"raster-01")}},validateAfterUndo:function(t,e){var o;(o=g.as(g.opt(this.frameForma_,(function(t){return t.controller})),k.FrameController))&&XCTAssertNil(o.mask)},validateAfterRedo:function(t,e){var o;if(o=g.as(g.opt(this.frameForma_,(function(t){return t.controller})),k.FrameController)){var n=g.as(o.mask,P.ImageForma);XCTAssertNotNil(n),XCTAssertEqual(n.contentNode.getTag(v.ImageContentNode.ASSET_ID_TAG),"raster-01")}}}}),p),A.AllowFreeformCropTest=(h=function(){this.actionSequence_AllowFreeformCrop=[],this.oneFrameForma_=null,this.frameForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"AllowFreeformCropTest",ctor:h,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},populateActionSequence:function(t,e,o){var n=this;return F.CorePromise.resolve([function(){return new I.SetImageCropToFreeformAction(n.frameForma_)}])},prepareDocument:function(t,e){var o=this,n=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),n.push((function(){return new I.SetImageAsFloatingAction}))),D.ImageFacade.formaHasMask(this.frameForma_)||n.push((function(){return new I.ApplyShapeMaskToImageAction(o.frameForma_,"diamond")})),F.CorePromise.resolve(g.clone(n))},validateAfterActionSequence:function(t,e){XCTAssertTrue(D.ImageFacade.usesFreeformCropPreset(this.frameForma_)),XCTAssertFalse(D.ImageFacade.formaHasShapeMask(this.frameForma_))},validateAfterUndo:function(t,e){XCTAssertFalse(D.ImageFacade.usesFreeformCropPreset(this.frameForma_)),XCTAssertTrue(D.ImageFacade.formaHasShapeMask(this.frameForma_))},validateAfterRedo:function(t,e){XCTAssertTrue(D.ImageFacade.usesFreeformCropPreset(this.frameForma_)),XCTAssertFalse(D.ImageFacade.formaHasShapeMask(this.frameForma_))}}}),h),A.EnterCropModeTest=(m=function(){this.actionSequence_EnterCropMode=[],this.oneFrameForma_=null,this.frameForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"EnterCropModeTest",ctor:m,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},populateActionSequence:function(t,e,o){var n=this;return F.CorePromise.resolve([function(){return new I.EnterCropModeAction(n.frameForma_)}])},prepareDocument:function(t,e){var o=this,n=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),n.push((function(){return new I.SetImageAsFloatingAction})),n.push((function(){var t=o.frameForma_.bounds.aspectRatio<1?4/3:.75;return new I.CropImageToRatioAction(o.frameForma_,t,null)}))),F.CorePromise.resolve(g.clone(n))},validateAfterActionSequence:function(t,e){var o,n=null;if(o=g.opt(this.frameForma_,(function(t){return t.parent})))for(var r=g.iter(o.visitAsArray(S.FormaTraversal.JustChildren));!r.done;r.next()){var i=r.value;i.hasIntent(S.Forma.INTENT_TEMP_IMAGE_CROP)&&(n=i)}XCTAssertNotNil(n)},validateAfterUndo:function(t,e){var o,n=null;if(o=g.opt(this.frameForma_,(function(t){return t.parent})))for(var r=g.iter(o.visitAsArray(S.FormaTraversal.JustChildren));!r.done;r.next()){var i=r.value;i.hasIntent(S.Forma.INTENT_TEMP_IMAGE_CROP)&&(n=i)}XCTAssertNil(n)},validateAfterRedo:function(t,e){var o,n=null;if(o=g.opt(this.frameForma_,(function(t){return t.parent})))for(var r=g.iter(o.visitAsArray(S.FormaTraversal.JustChildren));!r.done;r.next()){var i=r.value;i.hasIntent(S.Forma.INTENT_TEMP_IMAGE_CROP)&&(n=i)}XCTAssertNotNil(n)}}}),m),A.ExitCropModeTest=(T=function(){this.actionSequence_ExitCropMode=[],this.oneFrameForma_=null,this.frameForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"ExitCropModeTest",ctor:T,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},populateActionSequence:function(t,e,o){return F.CorePromise.resolve([function(){return new I.ExitCropModeAction}])},prepareDocument:function(t,e){var o=this,n=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),n.push((function(){return new I.SetImageAsFloatingAction})),n.push((function(){var t=o.frameForma_.bounds.aspectRatio<1?4/3:.75;return new I.CropImageToRatioAction(o.frameForma_,t,null)})),n.push((function(){return new I.EnterCropModeAction(o.frameForma_)}))),F.CorePromise.resolve(g.clone(n))}}}),T),A.AddHiddenImageToGridTest=(_=function(){this.actionSequence_AddHidden=[],this.oneFrameForma_=null,this.frameForma_=null,this.imageForma_=null,d.ActionTestBase.call(this)},g.defineClass({name:"AddHiddenImageToGridTest",ctor:_,superName:"ActionTestBase",props:{canRunActionSequence:function(t,e,o){return this.oneFrameForma_=g.as(g.last(this.allSelectableFormae(o,(function(t){return t.isImage()}))),y.FrameForma),null!=this.oneFrameForma_},populateActionSequence:function(t,e,o){var n=this;return F.CorePromise.resolve([function(){return new I.AddHiddenImageToGridAction([n.imageForma_])}])},prepareDocument:function(t,e){var o=this,n=[];return this.frameForma_=g.as(g.last(this.allSelectableFormae(t,(function(t){return t.isImage()&&!t.isBackgroundImage()}))),y.FrameForma),null==this.frameForma_&&(this.frameForma_=this.oneFrameForma_,t.controller.selection.replaceSelection(this.frameForma_),n.push((function(){return new I.SetImageAsFloatingAction}))),this.imageForma_=D.ImageFacade.getImageFormaForForma(this.frameForma_),n.push((function(){return new X.SetOpacityAction(0,[o.imageForma_])})),F.CorePromise.resolve(g.clone(n))},validateAfterActionSequence:function(t,e){XCTAssertFalse(this.frameForma_.controller.floating),XCTAssertEqual(this.imageForma_.style.opacity,1)},validateAfterUndo:function(t,e){XCTAssertTrue(this.frameForma_.controller.floating),XCTAssertEqual(this.imageForma_.style.opacity,0)},validateAfterRedo:function(t,e){XCTAssertFalse(this.frameForma_.controller.floating),XCTAssertEqual(this.imageForma_.style.opacity,1)}}}),_)},jE7t:function(t,e,o){var n,r=e,i=o("oAGj"),a=o("c9Jm"),s=o("FNB+"),u=o("fdtz"),l=o("o+xL");r.RotateTest=(n=function(){this.actionSequence_Rotate=[function(){return l.RotateAction.init_5d34(Math.PI/2,null,null)}],this.formaeToRotate_=[],this.formaeToTest_=[],this.initialTransforms_=[],a.ActionTestBase.call(this)},i.defineClass({name:"RotateTest",ctor:n,superName:"ActionTestBase",props:{setUpActionSequence:function(t,e,o){var n;this.formaeToRotate_=i.clone(this.allSelectableFormae(o,(function(t){return!(!(n=i.opt(t.controller,(function(t){return t.rotateable})))&&null==n)&&n})));for(var r=i.iter(this.formaeToRotate_);!r.done;r.next()){var a=r.value,l=i.clone(a.filterByKind(u.ImageForma.KIND,s.FormaTraversal.JustChildren));l.length>0&&!l[0].controller.floating?this.formaeToTest_=this.formaeToTest_.concat(l):this.formaeToTest_.push(a)}this.initialTransforms_=this.formaeToTest_.map((function(t){return t.placement}),this),o.controller.selection.replaceSelectionWithFormae(i.clone(this.formaeToRotate_))},validateAfterActionSequence:function(t,e){for(var o=i.iter(i.range(0,this.formaeToTest_.length,!1));!o.done;o.next()){var n=o.value,r=this.initialTransforms_[n].rotate(0,1);XCTAssertEqual(this.formaeToTest_[n].placement.transformValues.rotSine,r.transformValues.rotSine,.001),XCTAssertEqual(this.formaeToTest_[n].placement.transformValues.rotCosine,r.transformValues.rotCosine,.001)}},validateAfterUndo:function(t,e){for(var o=i.iter(i.range(0,this.formaeToTest_.length,!1));!o.done;o.next()){var n=o.value;XCTAssertEqual(this.formaeToTest_[n].placement.transformValues.rotSine,this.initialTransforms_[n].transformValues.rotSine),XCTAssertEqual(this.formaeToTest_[n].placement.transformValues.rotCosine,this.initialTransforms_[n].transformValues.rotCosine)}},validateAfterRedo:function(t,e){for(var o=i.iter(i.range(0,this.formaeToTest_.length,!1));!o.done;o.next()){var n=o.value,r=this.initialTransforms_[n].rotate(0,1);XCTAssertEqual(this.formaeToTest_[n].placement.transformValues.rotSine,r.transformValues.rotSine,.001),XCTAssertEqual(this.formaeToTest_[n].placement.transformValues.rotCosine,r.transformValues.rotCosine,.001)}},tearDown:function(){this.formaeToRotate_=[],this.formaeToTest_=[],a.ActionTestBase.prototype.tearDown.call(this)}}}),n)},sRQj:function(t,e,o){var n,r,i,a,s,u=e,l=o("oAGj"),c=o("iCxV");u.MockAuthoringContextManager=(n=function(t){this.mockAuthoringContexts=l.clone(t)},l.defineClass({name:"MockAuthoringContextManager",ctor:n,statics:{_implements:function(t){return"IAuthoringContextManager"==t}},props:{authoringContexts:{get:function(){return this.mockAuthoringContexts}},authoringContext:function(t){var e=l.clone(this.mockAuthoringContexts.filter((function(e){return e.id==t}),this));return 0==e.length?null:e[0]},getOwnedAuthoringContextIDs:function(){return this.mockAuthoringContexts.filter((function(t){return t.ownedByCurrentUser}),this).map((function(t){return t.id}),this)},createAuthoringContext:function(t,e){return e&&0!=this.mockAuthoringContexts.length?null:u.MockAuthoringContext.init_44fd(t,"id-"+t,[],[],[])}}}),n),u.MockAuthoringContext=(r=function(){this._id="",this._name="",this._isDefault=!1,this._activated=!1,this._isMinimal=!1,this._isValidVersion=!0},l.defineClass({name:"MockAuthoringContext",ctor:r,statics:{_implements:function(t){return"IAuthoringContext"==t}},props:{init_d41d:function(){this._activated=!1,this._colors=[],this._fonts=[],this._logos=[],this._ownedByCurrentUser=!0},init_44fd:function(t,e,o,n,r,i){void 0===i&&(i=!0),this._name=t,this._id=e,this._colors=l.clone(o),this._fonts=l.clone(n),this._logos=l.clone(r),this._ownedByCurrentUser=i,this._activated=r.length>0},id:{get:function(){return this._id}},contextID:{get:function(){return this._id}},name:{get:function(){return this._name},set:function(t){this._name=t}},activated:{get:function(){return this._activated},set:function(t){this._activated=t}},isDefault:{get:function(){return this._isDefault},set:function(t){this._isDefault=t}},isMinimal:{get:function(){return this._isMinimal}},isValidVersion:{get:function(){return this._isValidVersion}},ownedByCurrentUser:{get:function(){return this._ownedByCurrentUser},set:function(t){this._ownedByCurrentUser=t}},colors:{get:function(){return this._colors}},fonts:{get:function(){return this._fonts}},logos:{get:function(){return this._logos},set:function(t){this._logos=l.clone(t)}},isBrandkitComplete:function(){return 1!=c.Host.brandkitManager.shouldForceIncompleteBrand&&this.colors.length>0&&this.fonts.length>0&&this.logos.length>0}}}),r),u.MockAuthoringContextColor=(i=function(t,e,o,n,r,i){this._id="",this._r=0,this._g=0,this._b=0,this._a=0,this._id=t,this._roles=l.clone(e),this._r=o,this._g=n,this._b=r,this._a=i},l.defineClass({name:"MockAuthoringContextColor",ctor:i,statics:{_implements:function(t){return"IAuthoringContextColor"==t}},props:{id:{get:function(){return this._id}},acRoles:{get:function(){return this._roles}},red:{get:function(){return this._r}},green:{get:function(){return this._g}},blue:{get:function(){return this._b}},alpha:{get:function(){return this._a}}}}),i),u.MockAuthoringContextFont=(a=function(t,e,o){this._id="UNKNOWN",this._roles=[],this._source="",this._id=t,this._roles.push(e),this._desc=o,this._source="mock-font"},l.defineClass({name:"MockAuthoringContextFont",ctor:a,statics:{_implements:function(t){return"IAuthoringContextFont"==t}},props:{id:{get:function(){return this._id}},acRoles:{get:function(){return this._roles}},sourceType:{get:function(){return this._source},set:function(t){this._source=t}},descriptor:{get:function(){return this._desc}}}}),a),u.MockAuthoringContextLogo=(s=function(t,e,o,n,r){this._id="",this._url="",this._roles=[],this._width=0,this._height=0,this._id=t,this._url=e,this._roles.push(o),this._width=n,this._height=r},l.defineClass({name:"MockAuthoringContextLogo",ctor:s,statics:{_implements:function(t){return"IAuthoringContextLogo"==t}},props:{id:{get:function(){return this._id}},acRoles:{get:function(){return this._roles}},acName:{get:function(){return"Mock logo"}},url:{get:function(){return this._url}},pixelWidth:{get:function(){return this._width}},pixelHeight:{get:function(){return this._height}},mimeType:{get:function(){return"image/png"}}}}),s)}}]);
//# sourceMappingURL=vendors_npm_spark_76e563a7-267c62b6.js.map