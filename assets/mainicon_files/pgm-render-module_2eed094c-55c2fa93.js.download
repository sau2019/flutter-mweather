(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[54],{OI2j:function(e,t,n){var i,r;i=[n("UFvF"),n("YLtl"),n("UzQk"),n("2Fsf"),n("gTDX"),n("SdaB")],void 0===(r=function(e,t,n,i,r,o){var a="post-editing-surface";return function(n){var u,s,d,c=(n=n||{}).baseObject||new i(n),h={width:100,height:100},g=1,l=null,p=c.update,f=[],m=!1;function b(){if(!l||!u)return;let e=(h=l.documentSize()).width,t=h.height;const n=h.width;c.parent&&c.parent.getHeight&&(e=c.parent.getWidth(),t=c.parent.getHeight()),g=e/n,u.setDimensions(e,t)}var w=t.debounce((function(){s.setDimensions(200,200)}),200);function v(){m=!0,c.events.publish("rendered")}function A(){c.events.publish("image-loading-end")}c.getAspect=function(){return h.width/h.height},c.handleParentResize=function(e){b()},c.getViewScale=function(){return g},c.disable=function(){c.$el.addClass("disabled"),c.events.publish("disabled")},c.enable=function(){c.$el.removeClass("disabled"),c.events.publish("enabled")},c.isRendered=function(){return m};return c.getWatermarkFootprint=function(){return{width:190/h.width*100,height:40/h.height*100}},c.getRendition=function(t){if(!s)return e.resolve();let n=t.height,i=t.width;const r=t.longestSide;if("number"==typeof r){const e=c.getAspect();e<1?(n=r,i=e*n):(i=r,n=i/e)}const o=d.getCurrentState(),a=t.outputFormat||"image/jpeg",u=t.imageQuality||.75;return s.asyncRender(o,i,n).then((function(){const e=s.getRenditionBlob(a,u);return r>500&&e.then(w),e}))},c.getRenditionDataUrl=function(t){if(!s)return e.resolve();let n=t.height,i=t.width;const r=t.longestSide;if("number"==typeof r){const e=c.getAspect();e<1?(n=r,i=e*n):(i=r,n=i/e)}const o=d.getCurrentState(),a=t.outputFormat||"image/jpeg",u=t.imageQuality||.75;return s.asyncRender(o,h.width,h.height,i,n).then((function(){const e=s.getRenditionDataUrl(a,u);return r>500&&e.then(w),e}))},c.getColorAtPoint=function(t){const n=u.currentGraphTimestamp!==s.currentGraphTimestamp;var i=e.defer();return n?s.asyncRender(d.getCurrentState(),h.width,h.height,500,500).then((function(){i.resolve(s.getColorAtPoint(t))})):(i.resolve(s.getColorAtPoint(t)),i.promise)},c.getImageColorAtPoint=function(e){return u?u.getColorAtPoint(e):{r:0,g:0,b:0,a:255}},c.update=function(e){p(e),(e=e||{}).core?(!0,u||(u=o.default(window.devicePixelRatio,!1,!0),s=o.default(1,!0),u.headless.pixiApp.stage.on("loading-images-end",A),c.$el[0].appendChild(u.getCanvas())),l=e.core,b(),d=new r(l,u.render.bind(u)),u.render(d.getCurrentState()).then(v)):(!1,m=!1,d&&(d.destroy(),d=null),u&&(u.destroy(),u=null,s.destroy(),s=null),f.forEach((function(e){e.remove()})),f=[])},c.setWatermark=function(e){u&&(u.setWatermark(e),s.setWatermark(e))},c.el.className+=" "+a,c}}.apply(t,i))||(e.exports=r)},gTDX:function(e,t,n){var i,r;i=[n("UzQk")],void 0===(r=function(e){return function(t,n){const i={};var r=0;let o,a,u=t.getGraph(),s=0,d=!1,c=!1,h=[],g=!1;function l(){o=new e.PGMGraphEvaluator(t.getGraph(!0)),c=!0,r=1e3*o.graph.duration,d||(d=!0,window.requestAnimationFrame(m))}function p(){g=!1,a=t.getGraph(),u=a,n(a)}function f(){g||(g=!0,window.requestAnimationFrame(p))}function m(e){c&&(s=e,c=!1);const t=0===r?1:Math.min(1,(e-s)/r);t<1?(u=o.evaluateAtTime(t*o.graph.duration),n(u),window.requestAnimationFrame(m)):(d=!1,n(a),u=a)}return i.getCurrentState=function(){return u},i.getTargetState=function(){return a},i.destroy=function(){h.forEach((function(e){e.remove()})),h=[]},h.push(t.events.subscribe("document-in-new-renderable-state",f)),h.push(t.events.subscribe("design-updated",f)),h.push(t.events.subscribe("animate",l)),i}}.apply(t,i))||(e.exports=r)}}]);
//# sourceMappingURL=pgm-render-module_2eed094c-55c2fa93.js.map