(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[12],{"/ZoO":function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("bJ8p");r.PGMResourceProviderList=(n=function(t){this.providers=s.clone(t)},o={},s.defineClass({name:"PGMResourceProviderList",ctor:n,statics:{EMPTY:{get:function(){return void 0===o.EMPTY&&(o.EMPTY=new n({})),o.EMPTY}},decode:function(t){var e,i={};if(e=s.as(t,["Dictionary","String",["Dictionary","String","Any"]]))for(var o=s.iter(e);!o.done;o.next()){var r,h=o.key,c=o.value;(r=a.PGMResourceProvider.decode(c))&&(i[h]=r)}return new n(s.clone(i))}},props:{byContentID:function(t){return this.providers[t]},encode:function(){for(var t={},e=s.iter(this.providers);!e.done;e.next()){var i=e.key,n=e.value;t[i]=n.encode()}return t},combine:function(t){for(var e=s.clone(this.providers),i=s.iter(t.providers);!i.done;i.next()){var o=i.key,r=i.value;null==e[o]&&(e[o]=r)}return new n(s.clone(e))}}}),n)},"0PP3":function(t,e,i){var n=e,o=i("oAGj");n.IPGMMimicClient=o.defineProtocol("IPGMMimicClient",{bindDocument:"(PGMMimicDocument) -> IPGMMimicDocumentBinding",bindNode:"(PGMMimicNode) -> IPGMMimicNodeBinding"})},"0lVD":function(t,e,i){var n,o,r,s=e,a=i("oAGj"),h=i("SpAV"),c=i("jLWG"),u=i("rKjb"),l=i("dmHI"),p=i("tlHl"),d=i("a/9s"),m=i("n8f2"),f=i("V93b"),P=i("kEiY"),T=i("rtbu"),M=i("FR4n"),v=i("qEGv"),y=i("Ucb9"),g=i("g6aL"),_=i("bAjp");s.PGMMimicConformerOptions=(n=function(t){void 0===t&&(t=!1),this.provideEndConformSummary=t},o={},a.defineClass({name:"PGMMimicConformerOptions",ctor:n,statics:{DEFAULT:{get:function(){return void 0===o.DEFAULT&&(o.DEFAULT=new n),o.DEFAULT}}}}),n),s.PGMMimicConformer=(r=function(t,e,i,n){this.document=t,this.fromState=e,this.state=i,this.options=n},a.defineClass({name:"PGMMimicConformer",ctor:r,statics:{conform:function(t,e,i,n){new r(t,e,i,n).conform()}},props:{conform:function(){var t=this;this.document.beginConform(this.fromState,this.state),a.opt(this.document.root,(function(e){return e.visit((function(e){return e.newConform(t.options),!1}))})),this.conformRecursive(this.state.graph.rootRef,null,0,this.document.root),this.state.graph.duration>0&&(this.state.time!=this.fromState.time||this.state.graph!==this.fromState.graph)&&this.document.nodesWithAnimations.forEach((function(e){return e.applyAnimations(t.fromState.time,t.state.time)})),this.document.dirtyLocalCTMNodes.filter((function(t){return!t.hasCTMLocalDirtyAncestor}),this).forEach((function(t){return t.updateCTM()})),this.options.provideEndConformSummary&&a.opt(this.document.root,(function(t){return t.endConformSummary(!1)})),this.document.endConform(this.fromState,this.state)},isNodeValidForRef:function(t,e){return e.ref===t||e.ref.child===t.child||e.ref.child.entity==t.child.entity&&e.ref.child.type==t.child.type},conformRecursive:function(t,e,i,n){var o;if(o=n)if(this.isNodeValidForRef(t,o))o.ref===t||(o.ref.child===t.child?(o.ref=t,o.compositing=t.compositing):o.ref.child.entity==t.child.entity?(o.ref=t,this.conformSameEntity(t,o)):h.CoreAssert.fail("discrepancy in logic between conformRecursive and isNodeValidForRef","PGMMimicConformer.conformRecursive","PGMMimicConformer.swift",159));else{var r;if(r=e)for(var s=a.iter(a.range(i+1,r.children.length,!1));!s.done;s.next()){var c=s.value,u=r.children[c];if(this.isNodeValidForRef(t,u))return r.insertChild(i,u),void this.conformRecursive(t,r,i,u)}this.conformMissing(t,e,i)}else this.conformMissing(t,e,i)},conformSameEntity:function(t,e){var i,n;if(i=a.as(t.child,u.PGMComposite))if(n=a.as(e,f.PGMMimicGroupNode)){for(var o=0;o<i.children.length;){var r=o<n.children.length?n.children[o]:null;this.conformRecursive(i.children[o],n,o,r),o+=1}for(h.CoreAssert.isTrue(n.children.length>=i.children.length,"somehow we failed to create corresponding mimic nodes?","PGMMimicConformer.conformSameEntity","PGMMimicConformer.swift",217);n.children.length>i.children.length;){var s=n.children[i.children.length];n.removeChild(s),s.destroy()}}else h.CoreAssert.fail("how did we end up with a non-group mimic node bound to a composite PGM node?","PGMMimicConformer.conformSameEntity","PGMMimicConformer.swift",226);e.importProperties(),e.compositing=t.compositing},conformMissing:function(t,e,i){var n,o,r,s=this;if(o=a.as(t.child,u.PGMComposite)){var A,G;null==(x=this.document.binding.createNode(this.document,t,this.options))||x instanceof f.PGMMimicGroupNode||(h.CoreAssert.fail("group node required for a composite reference; ignoring","PGMMimicConformer.conformMissing","PGMMimicConformer.swift",251),x=null),(G=a.as(x,f.PGMMimicGroupNode))?A=G:t.child instanceof g.PGMSimpleGroup?A=new f.PGMMimicGroupNode(this.document,t,this.options):t.child instanceof l.PGMFilter?A=new m.PGMMimicFilterNode(this.document,t,this.options):t.child instanceof c.PGMClip?A=new d.PGMMimicClipNode(this.document,t,this.options):(h.CoreAssert.fail("looks like we have a new composite type?","PGMMimicConformer.conformMissing","PGMMimicConformer.swift",266),A=new f.PGMMimicGroupNode(this.document,t,this.options));var w=0;o.children.forEach((function(t){s.conformMissing(t,A,w),w+=1})),n=A}else{var x;(x=this.document.binding.createNode(this.document,t,this.options))?n=x:t.child instanceof _.PGMText?n=new v.PGMMimicTextNode(this.document,t,this.options):t.child instanceof y.PGMShape?n=new M.PGMMimicShapeNode(this.document,t,this.options):t.child instanceof p.PGMMedia?n=new P.PGMMimicMediaNode(this.document,t,this.options):(h.CoreAssert.fail("looks like we have a new leaf type?","PGMMimicConformer.conformMissing","PGMMimicConformer.swift",287),n=new T.PGMMimicNode(this.document,t,this.options))}(r=e)?r.insertChild(i,n):this.document.root=n}}}),r)},"1NAc":function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("SpAV"),h=i("gXiO"),c=i("oKlP"),u=i("sIWg");r.TheoSize=(n=function(t,e){a.CoreAssert.isFalse(isNaN(t)||isNaN(e),void 0,"TheoSize.init","TheoSize.swift",19),this.width=t,this.height=e,h.CoreObject.call(this)},o={},s.defineClass({name:"TheoSize",ctor:n,superName:"CoreObject",statics:{Zero:{get:function(){return void 0===o.Zero&&(o.Zero=new n(0,0)),o.Zero}},decodeJson:function(t){return null==t?null:(e=s.as(t,["Array","Double"]))?2!=e.length?(a.CoreAssert.fail("TheoSize.decodeJson: data is not an array with 2 elements","TheoSize.decodeJson","TheoSize.swift",106),null):new n(e[0],e[1]):(i=s.as(t,["Array","Int"]))?2!=i.length?(a.CoreAssert.fail("TheoSize.decodeJson: data is not an array with 2 elements","TheoSize.decodeJson","TheoSize.swift",115),null):new n(s.toDouble(i[0]),s.toDouble(i[1])):(a.CoreAssert.fail("TheoSize.decodeJson: data is not an array","TheoSize.decodeJson","TheoSize.swift",121),null);var e,i},difference:function(t,e){return new n(t.width-e.width,t.height-e.height)}},props:{multiply:function(t){return new n(this.width*t,this.height*t)},hypotenuse:{get:function(){return Math.sqrt(this.width*this.width+this.height*this.height)}},area:{get:function(){return this.width*this.height}},myAspectRatioClosestCorner:function(t){var e=this.width*this.width+this.height*this.height,i=(this.width*t.width+this.height*t.height)/e;return new n(i*this.width,i*this.height)},myAspectRatioMatchArea:function(t){var e=Math.sqrt(t.width*this.width*(t.height/this.height)),i=Math.sqrt(t.height*this.height*(t.width/this.width));return new n(e,i)},myAspectRatioMatchPerimeter:function(t){var e=(t.width+t.height)/(this.width+this.height);return new n(e*this.width,e*this.height)},myAspectRatioFitWithin:function(t){return t.fitAspectRatioWithin(this.aspectRatio)},fitAspectRatioWithin:function(t){return this.aspectRatio<t?new n(this.width,this.width/t):new n(t*this.height,this.height)},equal:function(t){return this.width==t.width&&this.height==t.height},equalWithAccuracy:function(t,e){return Math.abs(this.width-t.width)<e&&Math.abs(this.height-t.height)<e},aspectRatio:{get:function(){return 0==this.height?1:this.width/this.height}},angle:{get:function(){return Math.atan(this.aspectRatio)/Math.PI}},similarity:function(t){return u.TheoRect.fromSize(this).similarity(u.TheoRect.fromSize(t))},encode:function(){return a.CoreAssert.fail("TheoSize: Use encodeJson(), not encode()","TheoSize.encode","TheoSize.swift",126),[]},encodeJson:function(){return s.as([this.width,this.height],"AnyObject")},print:function(){return this.asString},description:{get:function(){return this.asString}},asString:{get:function(){return s.toString("width: %g height %g",this.width,this.height)}},asPoint:{get:function(){return new c.TheoPoint(this.width,this.height)}}}}),n)},"7hc0":function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("tGKA");o.PGMAnimationUtils=(n=function(){},r.defineClass({name:"PGMAnimationUtils",ctor:n,statics:{interp:function(t,e,i){return t+(e-t)*i},bound01:function(t){return t<=0?0:t>=1?1:t},transformValuesToMatrix:function(t){return t.ordering==a.TransformValuesOrdering.SKRT?a.Matrix2D.Identity.scaleXY(t.xscale,t.yscale).skewTo(t.skew).rotate(t.rotCosine,t.rotSine).translateXY(t.tx,t.ty):a.Matrix2D.Identity.rotate(t.rotCosine,t.rotSine).skewTo(t.skew).scaleXY(t.xscale,t.yscale).translateXY(t.tx,t.ty)},interpolateBetweenXFormedBounds:function(t,e,i){var o;if(i<=0)o=t.placement;else if(i>=1)o=e.placement;else{var r=t.placement.transformValues,h=e.placement.transformValues,c=Math.atan2(r.rotSine,r.rotCosine),u=Math.atan2(h.rotSine,h.rotCosine)-c;u>Math.PI?u-=Math.PI:u<-Math.PI&&(u+=Math.PI);var l=c+i*u;s.CoreAssert.isTrue(r.ordering==h.ordering,"can't interpolate between different orderings","PGMAnimationUtils.interpolateBetweenXFormedBounds","PGMAnimationUtils.swift",80);var p=new a.TransformValues(r.ordering,n.interp(r.xscale,h.xscale,i),n.interp(r.yscale,h.yscale,i),n.interp(r.skew,h.skew,i),Math.cos(l),Math.sin(l),0,0),d=n.transformValuesToMatrix(p),m=t.bounds.interpolate(e.bounds,i),f=t.placement.transformPoint(t.bounds.center),P=e.placement.transformPoint(e.bounds.center),T=d.transformPoint(m.center),M=f.interpolate(P,i);o=d.translate(M.subtract(T))}return o}}}),n)},FR4n:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("rtbu"),h=i("Ucb9"),c=i("9K9k"),u=i("Zifs"),l=i("sIWg");o.PGMMimicShapeNode=(n=function(t,e,i){var n;(n=r.as(e.child,h.PGMShape))?(this._paths=r.clone(n.paths),this._color=n.color,this._bounds=n.bounds):(s.CoreAssert.fail("wrong pgm node type","PGMMimicShapeNode.init","PGMMimicShapeNode.swift",28),this._paths=[],this._color=u.SolidColor.BLACK,this._bounds=l.TheoRect.Zero),a.PGMMimicNode.call(this,t,e,i)},r.defineClass({name:"PGMMimicShapeNode",ctor:n,superName:"PGMMimicNode",statics:{PROP_PATHS:"paths",PROP_COLOR:"color",PROP_BOUNDS:"bounds"},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=r.as(this.ref.child,h.PGMShape))?(this.paths=r.clone(t.paths),this.color=t.color,this.bounds=t.bounds):s.CoreAssert.fail("wrong pgm node type","PGMMimicShapeNode.importProperties","PGMMimicShapeNode.swift",44),this.endPropertyMutation()},applyAnimation:function(t,e){var i;if(a.PGMMimicNode.prototype.applyAnimation.call(this,t,e),i=r.as(t,c.PGMShapeAnimation)){var n=i.interpolate(e);this.color=n.color,this.bounds=n.bounds}},paths:{get:function(){return this._paths},set:function(t){t!=this._paths&&(this._paths=r.clone(t),this.mutateProperty(n.PROP_PATHS))}},bounds:{get:function(){return this._bounds},set:function(t){t.equal(this._bounds)||(this._bounds=t,this.mutateProperty(n.PROP_BOUNDS))}},color:{get:function(){return this._color},set:function(t){t!==this._color&&(this._color=t,this.mutateProperty(n.PROP_COLOR))}}}}),n)},MnRR:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("gXiO"),h=i("oKlP");o.TheoLine=(n=function(t,e){void 0===e&&(e=null),this.p1=t,this.p2=e||t,a.CoreObject.call(this)},r.defineClass({name:"TheoLine",ctor:n,superName:"CoreObject",props:{midpoint:function(){return this.eval(.5)},angleWith:function(t){var e=this.p2.subtract(this.p1),i=t.p2.subtract(t.p1),n=Math.atan2(e.crossProduct(i),e.dotProduct(i));return s.CoreAssert.isFalse(isNaN(n),void 0,"TheoLine.angleWith","TheoLine.swift",30),n},length:{get:function(){return this.p2.subtract(this.p1).length()}},distanceToPoint:function(t){return this.projectionOffset(t).length()},projectionOffset:function(t){return this.projectedPoint(t).subtract(t)},projectedPoint:function(t){return this.eval(this.locate(t))},transform:function(t){var e=r.clone(t.transformPoints([this.p1,this.p2]));return new n(e[0],e[1])},reverse:function(){return new n(this.p2,this.p1)},projectedPosition:function(t){var e=this.projectedPoint(t);return Math.max((e.x-this.p2.x)/(this.p1.x-this.p2.x+1e-4),(e.y-this.p2.y)/(this.p1.y-this.p2.y+1e-4))},unionWith:function(t){var e=this.locate(t.p1),i=this.locate(t.p2),o=Math.min(0,e,i),r=Math.max(1,e,i);return new n(this.eval(o),this.eval(r))},intersection:function(t){var e=(this.p1.x-this.p2.x)*(t.p1.y-t.p2.y)-(this.p1.y-this.p2.y)*(t.p1.x-t.p2.x);if(0!=e){var i=(this.p1.x*this.p2.y-this.p1.y*this.p2.x)*(t.p1.x-t.p2.x)-(this.p1.x-this.p2.x)*(t.p1.x*t.p2.y-t.p1.y*t.p2.x),n=(this.p1.x*this.p2.y-this.p1.y*this.p2.x)*(t.p1.y-t.p2.y)-(this.p1.y-this.p2.y)*(t.p1.x*t.p2.y-t.p1.y*t.p2.x);return new h.TheoPoint(i/e,n/e)}return null},extendByFactor:function(t){return new n(this.eval(-t),this.eval(1+t))},extendByFixedLength:function(t){var e=t/this.length;return new n(this.eval(-e),this.eval(1+e))},extendRayByFixedLength:function(t){var e=t/this.length;return new n(this.p1,this.eval(1+e))},eval:function(t){return new h.TheoPoint(this.p1.x*(1-t)+this.p2.x*t,this.p1.y*(1-t)+this.p2.y*t)},locate:function(t){var e=this.p2.subtract(this.p1),i=t.subtract(this.p1);return e.dotProduct(i)/e.dotProduct(e)},asString:{get:function(){return r.toString("p1:%g %g, p2:%g %g",this.p1.x,this.p1.y,this.p2.x,this.p2.y)}},description:{get:function(){return r.toString("(%g,%g)..(%g,%g)",this.p1.x,this.p1.y,this.p2.x,this.p2.y)}},equalTo:function(t){return this.p1.equal(t.p1)&&this.p2.equal(t.p2)}}}),n),o._equality_TheoLine_TheoLine=function(t,e){return t.equalTo(e)}},PCN2:function(t,e,i){var n,o=e,r=i("oAGj");o.IPGMMimicNodeBinding=r.defineProtocol("IPGMMimicNodeBinding",{destroy:"(PGMMimicNode) -> Void",insertChild:"(PGMMimicGroupNode, Integer, PGMMimicNode) -> Void",reinsertChild:"(PGMMimicGroupNode, Integer, PGMMimicNode) -> Void",removeChild:"(PGMMimicGroupNode, Integer, PGMMimicNode) -> Void",changeAppearance:"(PGMMimicNode, Boolean) -> Void",changeCompositing:"(PGMMimicNode, PGMCompositingParams, PGMCompositingParams) -> Void",changePlacement:"(PGMMimicNode, Matrix2D, Matrix2D) -> Void",changeBlendMode:"(PGMMimicNode, PGMBlendModeEnum, PGMBlendModeEnum) -> Void",changeOpacity:"(PGMMimicNode, Double, Double) -> Void",changeCTM:"(PGMMimicNode, Matrix2D, Matrix2D) -> Void",changeProperties:"(PGMMimicNode, Array<String>) -> Void",endConformSummary:"(PGMMimicNode, Array<String>, Boolean) -> Void"}),o.PGMNullMimicNodeBinding=(n=function(){},r.defineClass({name:"PGMNullMimicNodeBinding",ctor:n,statics:{_implements:function(t){return"IPGMMimicNodeBinding"==t}},props:{destroy:function(t){},insertChild:function(t,e,i){},reinsertChild:function(t,e,i){},removeChild:function(t,e,i){},changeAppearance:function(t,e){},changeCompositing:function(t,e,i){},changePlacement:function(t,e,i){},changeBlendMode:function(t,e,i){},changeOpacity:function(t,e,i){},changeCTM:function(t,e,i){},changeProperties:function(t,e){},endConformSummary:function(t,e,i){}}}),n)},"Q0b+":function(t,e,i){var n,o=e,r=i("oAGj");o.IPGMMimicDocumentBinding=r.defineProtocol("IPGMMimicDocumentBinding",{createNode:"(PGMMimicDocument, PGMReference, PGMMimicConformerOptions) -> PGMMimicNode",beginConform:"(PGMMimicDocument, PGMMimicDisplayState, PGMMimicDisplayState) -> Void",endConform:"(PGMMimicDocument, PGMMimicDisplayState, PGMMimicDisplayState) -> Void",setRoot:"(PGMMimicDocument, PGMMimicNode) -> Void"}),o.PGMNullDocumentMimicBinding=(n=function(){},r.defineClass({name:"PGMNullDocumentMimicBinding",ctor:n,statics:{_implements:function(t){return"IPGMMimicDocumentBinding"==t}},props:{createNode:function(t,e,i){return null},beginConform:function(t,e,i){},endConform:function(t,e,i){},setRoot:function(t,e){}}}),n)},R7T4:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("gXiO"),a=i("0lVD"),h=i("zbBQ"),c=i("sHEF");o.PGMMimicEngine=(n=function(t,e){this._current=c.PGMMimicDisplayState.EMPTY,this._next=c.PGMMimicDisplayState.EMPTY,void 0===e&&(e=a.PGMMimicConformerOptions.DEFAULT),this.client=t,this.document=new h.PGMMimicDocument(t),this.conformOptions=e,s.CoreObject.call(this)},r.defineClass({name:"PGMMimicEngine",ctor:n,superName:"CoreObject",props:{graph:{get:function(){return this._next.graph},set:function(t){this._next=new c.PGMMimicDisplayState(t,this._next.time)}},time:{get:function(){return this._next.time},set:function(t){this._next=new c.PGMMimicDisplayState(this._next.graph,t)}},conform:function(){a.PGMMimicConformer.conform(this.document,this._current,this._next,this.conformOptions),this._current=this._next}}}),n)},RSS6:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("SpAV"),h=i("ZhwN"),c=i("tGKA"),u=i("5D0C"),l=i("WjWV"),p=i("jLWG"),d=i("rKjb"),m=i("dmHI"),f=i("9MJV"),P=i("sq5L"),T=i("WGnI"),M=i("yjxF"),v=i("WUDy"),y=i("Aj79"),g=i("sJQG"),_=i("Ucb9"),A=i("9K9k"),G=i("g6aL"),w=i("bAjp"),x=i("f/aw"),C=i("zW52"),R=i("mj5y"),E=i("sWrh"),O=i("sIWg");r.EntityMap=(n=function(t){this.node=t;var e={};!function t(i){var n;null==e[i.entity]&&(e[i.entity]=i,(n=s.as(i,d.PGMComposite))&&n.children.forEach((function(e){return t(e.child)})))}(t),this.entityMap=s.clone(e)},s.defineClass({name:"EntityMap",ctor:n,props:{findEntity:function(t){return this.entityMap[t]}}}),n),r.PGMGraphDiffer=(o=function(t,e,i,n){void 0===n&&(n=null),this.graphA=t,this.graphB=e,this.duration=i,this.timeFn=n||new E.PGMUnaryFunction(new g.PGMRange(0,i),g.PGMRange.UNIT);var o=new r.EntityMap(t.root),h={};!function t(e){var i,n,r;if(n=h[e.entity])i=n;else if(r=o.findEntity(e.entity)){var c;if(r.appearanceHash==e.appearanceHash)i=r;else if(c=s.as(e,T.PGMLeaf))i=c.withEntity(c.entity+"-after");else if(m=s.as(e,d.PGMComposite)){for(var u=[],l=s.iter(m.children);!l.done;l.next()){var p=t((M=l.value).child);u.push(M.withChild(p))}i=m.withEntityAndChildren(e.entity+"-after",s.clone(u))}else a.CoreAssert.fail("not a leaf or composite? huh?","PGMGraphDiffer.init","PGMGraphDiffer.swift",110),i=e}else{var m;if(e instanceof T.PGMLeaf)i=e;else if(m=s.as(e,d.PGMComposite)){u=[];for(var f=!1,P=s.iter(m.children);!P.done;P.next()){var M;(p=t((M=P.value).child))===M.child?u.push(M):(f=!0,u.push(M.withChild(p)))}i=f?m.withEntityAndChildren(e.entity,s.clone(u)):e}else a.CoreAssert.fail("not a leaf or composite, huh?","PGMGraphDiffer.init","PGMGraphDiffer.swift",142),i=e}return h[e.entity]=i,i}(e.root),this.safeB=s.clone(h)},s.defineClass({name:"PGMGraphDiffer",ctor:o,statics:{sameClipPaths:function(t,e){if(t.clipPaths.length==e.clipPaths.length){for(var i=s.iter(s.range(0,t.clipPaths.length,!1));!i.done;i.next()){var n=i.value;if(t.clipPaths[n].appearanceHash!=e.clipPaths[n].appearanceHash)return!1}return!0}return!1}},props:{getTransitionGraph:function(){var t=this.combineRecursive(new y.PGMReference(this.graphA.root),new y.PGMReference(this.graphB.root));return new P.PGMGraph(t.child,this.graphA.bounds,R.PGMUtils.calculateDuration(t),this.graphA.resources.combine(this.graphB.resources))},combineRecursive:function(t,e){var i,n;if(t.child.entity==e.child.entity)if((i=s.as(t.child,d.PGMComposite))&&(n=s.as(e.child,d.PGMComposite))){var o,r,a,h,c,u,l=null,f=s.clone(this.combineSameEntityCompositeChildren(i,n));if((o=s.as(i,G.PGMSimpleGroup))&&(r=s.as(n,G.PGMSimpleGroup))?l=this.combineSameEntitySimpleGroups(o,r,s.clone(f)):(a=s.as(i,m.PGMFilter))&&(h=s.as(n,m.PGMFilter))?l=this.combineSameEntityFilters(a,h,s.clone(f)):(c=s.as(i,p.PGMClip))&&(u=s.as(n,p.PGMClip))&&(l=this.combineSameEntityClips(c,u,s.clone(f))),null!=l)return this.combineTransforms(t,e,l)}else if(t.child instanceof T.PGMLeaf&&e.child instanceof T.PGMLeaf)return this.combineSameEntityLeaves(t,e);return this.createCrossFade(t,e)},combineSameEntityFilters:function(t,e,i){return t.spec.appearanceHash==e.spec.appearanceHash?null==i?t:t.withEntityAndChildren(t.entity,s.clone(i)):null},combineSameEntityClips:function(t,e,i){return t.appearanceHash==e.appearanceHash||o.sameClipPaths(t,e)?null==i?t:t.withEntityAndChildren(t.entity,s.clone(i)):null},combineSameEntitySimpleGroups:function(t,e,i){return null==i?t:t.withEntityAndChildren(t.entity,s.clone(i))},combineTransforms:function(t,e,i){return t.compositing.equal(e.compositing)?i===t.child?t:t.withChild(i):new y.PGMReference(i,t.compositing,t.animations.append(new C.PGMTransformAnimation(this.timeFn,R.PGMUtils.calcXBoundsForRef(t),R.PGMUtils.calcXBoundsForRef(e))))},combineSameEntityCompositeChildren:function(t,e){for(var i=0,n=0,o=[],r=0;;)if(i<t.children.length&&n<e.children.length){var s=t.children[i],h=e.children[n];if(s.child.entity==h.child.entity){var c=this.combineRecursive(s,h);o.push(c),c===s&&(r+=1),i+=1,n+=1}else{var u=e.indexOfChild(s.child.entity),l=t.indexOfChild(h.child.entity);if(null!=l&&null!=u){var p=l-i,d=u-n;p<0?(o.push(this.createFade(this.safeBRef(h),!1)),n+=1):d<0?(o.push(this.createFade(s,!1)),i+=1):d>p?(o.push(this.createFade(s,!0)),i+=1):(o.push(this.createFade(this.safeBRef(h),!0)),n+=1)}else null==l&&(this.safeB[h.child.entity]?o.push(this.createFade(this.safeBRef(h),!1)):a.CoreAssert.fail("did not find a safe "+h.child.entity,"PGMGraphDiffer.combineSameEntityCompositeChildren","PGMGraphDiffer.swift",430),n+=1),null==u&&(o.push(this.createFade(s,!0)),i+=1)}}else if(i<t.children.length)s=t.children[i],o.push(this.createFade(s,!0)),i+=1;else{if(!(n<e.children.length))break;h=e.children[n],o.push(this.createFade(this.safeBRef(h),!1)),n+=1}return r==o.length?null:o},safeBRef:function(t){var e;return(e=this.safeB[t.child.entity])?e===t.child?t:new y.PGMReference(e,t.compositing):(a.CoreAssert.fail("should always have a safe reference!","PGMGraphDiffer.safeBRef","PGMGraphDiffer.swift",484),t)},combineSameEntityLeaves:function(t,e){var i,n,o,r;if(t.child.appearanceHash==e.child.appearanceHash)return this.combineTransforms(t,e,t.child);if((i=s.as(t.child,w.PGMText))&&(n=s.as(e.child,w.PGMText))){if(i.canInterpolate(n))return this.combineTransforms(t,e,i.withAnimations(new u.PGMAnimationList([new x.PGMTextAnimation(this.timeFn,i.bounds,i.style,n.bounds,n.style)]).merge(i.animations)))}else if((o=s.as(t.child,_.PGMShape))&&(r=s.as(e.child,_.PGMShape))){var a=o.paths.length==r.paths.length;if(a)for(var h=s.iter(s.range(0,o.paths.length,!1));!h.done;h.next()){var c=h.value;if(o.paths[c]!=r.paths[c]){a=!1;break}}if(a)return this.combineTransforms(t,e,o.withAnimations(new u.PGMAnimationList([new A.PGMShapeAnimation(this.timeFn,o.color,o.bounds,r.color,r.bounds)]).merge(o.animations)))}return this.createCrossFade(t,e)},createFade:function(t,e){return new y.PGMReference(t.child,t.compositing,t.animations.append(new v.PGMOpacityAnimation(this.timeFn,e?1:0,e?0:1)))},createCrossFade:function(t,e){var i,n,o=this.safeB[e.child.entity];if(t.child.entity==e.child.entity){var r=R.PGMUtils.calcBounds(t.child,c.Matrix2D.Identity),s=R.PGMUtils.calcBounds(e.child,c.Matrix2D.Identity);function a(t,e,i){if(e.width==t.width&&e.height==t.height)return new C.PGMTransformedBounds(i,e);var n=e.evalXY(0,0),o=c.Matrix2D.scalingXYfromPoint(n,e.width/t.width,e.height/t.height);return new C.PGMTransformedBounds(o.concat(i),O.TheoRect.fromXYWH(n.x,n.y,t.width,t.height))}i=new y.PGMReference(t.child,t.compositing,t.animations.append(new C.PGMTransformAnimation(this.timeFn,R.PGMUtils.calcXBoundsForRef(t),a(r,s,e.compositing.placement)))),n=new y.PGMReference(o,e.compositing,e.animations.append(new C.PGMTransformAnimation(this.timeFn,a(s,r,t.compositing.placement),R.PGMUtils.calcXBoundsForRef(e))))}else i=t,n=e;return new y.PGMReference(new m.PGMFilter("crossfade-"+h.GUIDUtils.makeGUID(),M.PGMNodeMetadata.EMPTY,new u.PGMAnimationList([new f.PGMFilterAnimation(this.timeFn,new l.PGMBlendFilterSpec([1,0]),new l.PGMBlendFilterSpec([0,1]))]),[i,n],new l.PGMBlendFilterSpec([1,0])))}}}),o)},RkYL:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("SpAV"),h=i("gXiO");r.TheoTime=(n=function(t,e){this.value=t,a.CoreAssert.isTrue(0!=e,"TheoTime 0 timescale is invalid!","TheoTime.init","TheoTime.swift",26),this.timescale=e,h.CoreObject.call(this)},o={},s.defineClass({name:"TheoTime",ctor:n,superName:"CoreObject",statics:{Zero:{get:function(){return void 0===o.Zero&&(o.Zero=new n(0,30)),o.Zero}},One:{get:function(){return void 0===o.One&&(o.One=new n(1,30)),o.One}},kSecondsEpsilon:.01,fromSecondsAsMs:function(t){return n.fromSeconds(t,1e3)},fromSeconds:function(t,e){return void 0===e&&(e=n.Zero.timescale),new n(s.toInt(t*s.toDouble(e)),e)},fromTimeInTimescale:function(t,e){return t.timescale==e?t.clone():n.fromSeconds(t.seconds,t.timescale)},earlier:function(t,e){return t.earlierThan(e)?t:e},later:function(t,e){return t.laterThan(e)?t:e},decodeJson:function(t){return null==t?null:(e=s.as(t,["Array","Int"]))?2!=e.length?(a.CoreAssert.fail("TheoTime: data is not an array with 2 elements","TheoTime.decodeJson","TheoTime.swift",227),null):new n(e[0],e[1]):(a.CoreAssert.fail("TheoTime: data is not an array","TheoTime.decodeJson","TheoTime.swift",234),null);var e}},props:{clone:function(){return new n(this.value,this.timescale)},seconds:{get:function(){return a.CoreAssert.isTrue(0!=this.timescale,"TheoTime 0 timescale is invalid when trying to get seconds!","TheoTime","TheoTime.swift",65),0==this.timescale?0:s.toDouble(this.value)/s.toDouble(this.timescale)}},isZero:{get:function(){return 0==this.value}},equals:function(t){return this.value==t.value&&this.timescale==t.timescale},secondsEqual:function(t){return this.timescale==t.timescale?this.value==t.value:Math.abs(this.seconds-t.seconds)<n.kSecondsEpsilon},laterThan:function(t){return this.timescale==t.timescale?this.value>t.value:this.seconds-t.seconds>=n.kSecondsEpsilon},laterThanOrEqual:function(t){return this.timescale==t.timescale?this.value>=t.value:this.laterThan(t)||this.secondsEqual(t)},earlierThan:function(t){return this.timescale==t.timescale?this.value<t.value:t.seconds-this.seconds>=n.kSecondsEpsilon},earlierThanOrEqual:function(t){return this.timescale==t.timescale?this.value<=t.value:this.earlierThan(t)||this.secondsEqual(t)},add:function(t){return t.timescale==this.timescale?new n(this.value+t.value,this.timescale):new n(this.value+s.toInt(s.toDouble(this.timescale)*t.seconds),this.timescale)},addSeconds:function(t){return new n(this.value+s.toInt(s.toDouble(this.timescale)*t),this.timescale)},addVal:function(t){return new n(this.value+t,this.timescale)},subtract:function(t){if(t.timescale==this.timescale)return a.CoreAssert.isTrue(this.value>=t.value,"current time is greater","TheoTime.subtract","TheoTime.swift",168),new n(this.value-t.value,this.timescale);var e=s.toInt(s.toDouble(this.timescale)*t.seconds);return a.CoreAssert.isTrue(this.value>=e,"current time is greater","TheoTime.subtract","TheoTime.swift",174),new n(this.value-e,this.timescale)},safeSubtract:function(t){if(t.timescale==this.timescale)return new n(Math.max(this.value-t.value,0),this.timescale);var e=s.toInt(s.toDouble(this.timescale)*t.seconds);return new n(Math.max(this.value-e,0),this.timescale)},unsafeSubtract:function(t){return t.timescale==this.timescale?new n(this.value-t.value,this.timescale):new n(this.value-s.toInt(s.toDouble(this.timescale)*t.seconds),this.timescale)},multiply:function(t){return new n(s.toInt(s.toDouble(this.value)*t),this.timescale)},encodeJson:function(){return s.as([this.value,this.timescale],"AnyObject")}}}),n)},ThKb:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("gXiO"),h=i("1NAc");o.TheoMatrix=(n=function(t){if(this.m=r.clone(t),t.length>0){0==t[0].length?(this.cols=0,this.rows=0):(this.cols=t[0].length,this.rows=t.length);for(var e=r.iter(t);!e.done;e.next()){var i=e.value;s.CoreAssert.isTrue(this.cols==i.length,"row lengths do not match","TheoMatrix.init","TheoMatrix.swift",32)}}else this.rows=0,this.cols=0;a.CoreObject.call(this)},r.defineClass({name:"TheoMatrix",ctor:n,superName:"CoreObject",statics:{E_DOUBLE:2.718281828459045,empty:function(){return new n([[]])},zeros:function(t,e){for(var i=[],o=r.iter(r.range(0,t,!1));!o.done;o.next()){for(var s=[],a=r.iter(r.range(0,e,!1));!a.done;a.next())s.push(0);i.push(r.clone(s))}return new n(r.clone(i))},ones:function(t,e){for(var i=[],o=r.iter(r.range(0,t,!1));!o.done;o.next()){for(var s=[],a=r.iter(r.range(0,e,!1));!a.done;a.next())s.push(1);i.push(r.clone(s))}return new n(r.clone(i))},decodeJson:function(t){return null==t?null:(e=r.as(t,["Array","Any"]))?new n(r.clone(e)):null;var e},createMatrixFromList:function(t,e,i){s.CoreAssert.isTrue(t.length==e*i,void 0,"TheoMatrix.createMatrixFromList","TheoMatrix.swift",404);for(var o=[],a=r.iter(r.range(0,i,!1));!a.done;a.next()){for(var h=a.value,c=[],u=r.iter(r.range(0,e,!1));!u.done;u.next()){var l=u.value;c.push(t[h*e+l])}o.push(r.clone(c))}return new n(r.clone(o))}},props:{value:function(t,e){return t<this.rows&&e<this.cols?this.m[t][e]:(s.CoreAssert.fail("out of bounds","TheoMatrix.value","TheoMatrix.swift",51),0)},setValue:function(t,e,i){t<this.rows&&e<this.cols?this.m[t][e]=i:s.CoreAssert.fail("out of bounds","TheoMatrix.setValue","TheoMatrix.swift",61)},setRowValue:function(t,e){if(t<this.rows)for(var i=r.iter(r.range(0,this.cols,!1));!i.done;i.next()){var n=i.value;this.m[t][n]=e}else s.CoreAssert.fail("out of bounds","TheoMatrix.setRowValue","TheoMatrix.swift",72)},setColValue:function(t,e){if(t<this.cols)for(var i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){var n=i.value;this.m[n][t]=e}else s.CoreAssert.fail("out of bounds","TheoMatrix.setColValue","TheoMatrix.swift",82)},sum:function(){return this.isEmpty()?null:this.sumDim(1).sumDim(0).value(0,0)},maxElement:function(){return this.isEmpty()?null:r.max(this.asFlatArray)},minElement:function(){return this.isEmpty()?null:r.min(this.asFlatArray)},sumRows:function(){return this.sumDim(0)},sumColumns:function(){return this.sumDim(1)},size:{get:function(){return new h.TheoSize(r.toDouble(this.cols),r.toDouble(this.rows))}},width:{get:function(){return this.cols}},height:{get:function(){return this.rows}},numElements:{get:function(){return this.cols*this.rows}},sumRegion:function(t){if(!(t.minX>=0&&t.minY>=0&&r.toInt(t.maxX)<=this.cols&&r.toInt(t.maxY)<=this.rows))return s.CoreAssert.warning("out of bounds"),0;var e=r.toInt(t.minX),i=r.toInt(t.minY),n=r.toInt(t.maxX),o=r.toInt(t.maxY),a=0;if(e>=n||i>=o)return 0;for(var h=r.iter(r.range(e,n,!1));!h.done;h.next())for(var c=h.value,u=r.iter(r.range(i,o,!1));!u.done;u.next()){var l=u.value;a+=this.m[l][c]}return a},sumDim:function(t){if(void 0===t&&(t=null),null==t)return this.sumRows().sumColumns();if(1==t){for(var e=[],i=r.iter(this.m);!i.done;i.next()){var o=i.value;e.push([o.reduce((function(t,e){return t+e}),0)])}return new n(r.clone(e))}if(0==t){e=[];for(var a=r.iter(r.range(0,this.cols,!1));!a.done;a.next()){for(var h=a.value,c=0,u=r.iter(r.range(0,this.rows,!1));!u.done;u.next()){var l=u.value;c+=this.m[l][h]}e.push(c)}return new n([e])}return s.CoreAssert.fail("Only 2 dimensional matrices are supported at the moment","TheoMatrix.sumDim","TheoMatrix.swift",193),n.empty()},isEmpty:function(){return 0==this.rows&&0==this.cols},matrixMultiply:function(t){var e=[];if(this.cols!=t.rows)return s.CoreAssert.fail("matrices do not have correct dimensions","TheoMatrix.matrixMultiply","TheoMatrix.swift",209),n.empty();for(var i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){for(var o=i.value,a=[],h=r.iter(r.range(0,t.cols,!1));!h.done;h.next()){for(var c=h.value,u=0,l=r.iter(r.range(0,t.rows,!1));!l.done;l.next()){var p=l.value;u+=this.m[o][p]*t.value(p,c)}a.push(u)}e.push(r.clone(a))}var d=new n(r.clone(e));return s.CoreAssert.isTrue(d.rows==this.rows,"rows do not match","TheoMatrix.matrixMultiply","TheoMatrix.swift",228),s.CoreAssert.isTrue(d.cols==t.cols,"cols do not match","TheoMatrix.matrixMultiply","TheoMatrix.swift",229),d},multiply:function(t){for(var e=[],i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){for(var o=i.value,s=this.m[o].concat(),a=r.iter(r.range(0,this.cols,!1));!a.done;a.next()){var h=a.value;s[h]=s[h]*t.value(1==t.rows?0:o,h)}e.push(r.clone(s))}return new n(r.clone(e))},multiplyConstant:function(t){var e=this,i=this.m.map((function(i){return i.map((function(e){return e*t}),e)}),this);return new n(r.clone(i))},divide:function(t){var e=this,i=t.m.map((function(t){return t.map((function(t){return 1/t}),e)}),this);return this.multiply(new n(r.clone(i)))},exp:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.pow(n.E_DOUBLE,t)}),t)}),this);return new n(r.clone(e))},squared:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return t*t}),t)}),this);return new n(r.clone(e))},squareRoot:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.sqrt(t)}),t)}),this);return new n(r.clone(e))},matrixLog:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.log(t)}),t)}),this);return new n(r.clone(e))},sigmoid:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return 1/(1+Math.pow(n.E_DOUBLE,-1*t))}),t)}),this);return new n(r.clone(e))},relu:function(){var t=this,e=this.m.map((function(e){return e.map((function(t){return Math.max(0,t)}),t)}),this);return new n(r.clone(e))},add:function(t){for(var e=[],i=r.iter(r.range(0,this.rows,!1));!i.done;i.next()){for(var o=i.value,s=this.m[o].concat(),a=r.iter(r.range(0,this.cols,!1));!a.done;a.next()){var h=a.value;s[h]+=t.value(1==t.rows?0:o,h)}e.push(r.clone(s))}return new n(r.clone(e))},addConstant:function(t){var e=this,i=this.m.map((function(i){return i.map((function(e){return e+t}),e)}),this);return new n(r.clone(i))},subtract:function(t){return this.add(t.multiplyConstant(-1))},transpose:function(){for(var t=[],e=r.iter(r.range(0,this.cols,!1));!e.done;e.next()){for(var i=e.value,o=[],s=r.iter(r.range(0,this.rows,!1));!s.done;s.next()){var a=s.value;o.push(this.m[a][i])}t.push(r.clone(o))}return new n(r.clone(t))},concatenateRows:function(t){return s.CoreAssert.fail("not implemented yet","TheoMatrix.concatenateRows","TheoMatrix.swift",337),n.empty()},concatenateColumns:function(t){return s.CoreAssert.fail("not implemented yet","TheoMatrix.concatenateColumns","TheoMatrix.swift",342),n.empty()},asArray:{get:function(){return this.m}},asFlatArray:{get:function(){return this.m.reduce((function(t,e){return t.concat(e)}),[])}},encodeJson:function(){return r.as(this.m,"AnyObject")}}}),n)},Ucb9:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("WGnI"),h=i("Zifs"),c=i("hgLm");o.PGMShape=(n=function t(e,i,n,o,h,c){this.paths=r.clone(h),this.color=c;var u="";if(1==h.length)u=h[0].appearanceHash;else{s.CoreAssert.isTrue(h.length>1,"Why are you creating a shape without a path?","PGMShape.init","PGMShape.swift",46);for(var l=r.iter(h);!l.done;l.next()){var p=l.value;r.isEmpty(u)||(u+=":"),u+=p.appearanceHash}}a.PGMLeaf.call(this,t.TYPE,e,"PGMShape(paths:"+u+";color:"+c.asString+")",i,n,o)},r.defineClass({name:"PGMShape",ctor:n,superName:"PGMLeaf",statics:{TYPE:"pgm-shape",decodeLeaf:function(t,e,i,o,s){var a,u;if((a=r.as(t.paths,["Array","Any"]))&&(u=h.SolidColor.decodeJson(r.as(t.color,"AnyObject")))){for(var l=[],p=r.iter(a);!p.done;p.next()){var d,m=p.value;(d=c.TheoPath.decodeJson(r.as(m,"AnyObject")))&&l.push(d)}return new n(e,i,o,s,r.clone(l),u)}return null}},props:{encode:function(){for(var t=a.PGMLeaf.prototype.encode.call(this),e=[],i=r.iter(this.paths);!i.done;i.next()){var n=i.value;e.push(n.encodeJson())}return t.paths=e,t.color=this.color.encodeJson(),t},withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,r.clone(this.paths),this.color)},withAnimations:function(t){return t===this.animations?this:new n(this.entity,this.meta,t,this.bounds,r.clone(this.paths),this.color)}}}),n)},V93b:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("rtbu");o.PGMMimicGroupNode=(n=function(t,e,i){this.children=[],a.PGMMimicNode.call(this,t,e,i)},r.defineClass({name:"PGMMimicGroupNode",ctor:n,superName:"PGMMimicNode",props:{insertChild:function(t,e){if(t<0||t>this.children.length)s.CoreAssert.fail("invalid index for insertChild","PGMMimicGroupNode.insertChild","PGMMimicGroupNode.swift",27);else{if(e.parent===this){var i;if(null==(i=r.indexOf(this.children,e)))return void s.CoreAssert.fail("internal inconsistency","PGMMimicGroupNode.insertChild","PGMMimicGroupNode.swift",44);if(i==t)return;this.binding.reinsertChild(this,t,e),this.children.splice(i,1),this.children.splice(t>i?t-1:t,0,e)}else e.removeFromTree(),this.binding.insertChild(this,t,e),e.setAsChildOf(this),this.children.splice(t,0,e);this.recordMutation(a.PGMMimicMutation.HIERARCHY_CHILDREN)}},removeChild:function(t){var e;null!=(e=r.indexOf(this.children,t))?(this.binding.removeChild(this,e,t),this.children.splice(e,1),t.setAsDetached(),this.recordMutation(a.PGMMimicMutation.HIERARCHY_CHILDREN)):s.CoreAssert.fail("can't remove a child that isn't a child","PGMMimicGroupNode.removeChild","PGMMimicGroupNode.swift",65)},updateCTM:function(){a.PGMMimicNode.prototype.updateCTM.call(this),this.children.forEach((function(t){return t.updateCTM()}))},destroy:function(){for(;this.children.length>0;)this.children[0].destroy();a.PGMMimicNode.prototype.destroy.call(this)},visit:function(t){var e=a.PGMMimicNode.prototype.visit.call(this,t);if(null!=e)return e;for(var i=r.iter(this.children);!i.done;i.next())if(null!=(e=i.value.visit(t)))return e;return null},endConformSummary:function(t){for(var e=!1,i=r.iter(this.children);!i.done;i.next())i.value.endConformSummary(!1)&&(e=!0);return a.PGMMimicNode.prototype.endConformSummary.call(this,e)}}}),n)},WGnI:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("bauG"),a=i("hauK"),h=i("Ucb9"),c=i("ZA1K"),u=i("bAjp"),l=i("s3Tu"),p=i("sIWg");o.PGMLeaf=(n=function(t,e,i,n,o,r){this.bounds=r,a.PGMNode.call(this,t,e,i,n,o)},r.defineClass({name:"PGMLeaf",ctor:n,superName:"PGMNode",statics:{PROP_BOUNDS:"bounds",decodeNode:function(t,e,i,o,a,d){var m;if(m=p.TheoRect.decodeJson(r.as(t[n.PROP_BOUNDS],"AnyObject")))switch(e){case"pgm-image":return s.PGMImage.decodeLeaf(t,i,o,a,m);case"pgm-video":case"pgm-audio":return l.PGMVideo.decodeLeaf(t,i,o,a,m);case"pgm-svg":return c.PGMSVG.decodeLeaf(t,i,o,a,m);case"pgm-text":return u.PGMText.decodeLeaf(t,i,o,a,m,d);case"pgm-shape":return h.PGMShape.decodeLeaf(t,i,o,a,m);default:return null}return null}},props:{encode:function(){var t=a.PGMNode.prototype.encode.call(this);return t[n.PROP_BOUNDS]=this.bounds.encodeJson(),t}}}),n)},YFY8:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("rKjb"),a=i("sq5L");o.PGMGraphEncoder=(n=function(){},r.defineClass({name:"PGMGraphEncoder",ctor:n,statics:{kotlin_workaround:null,encode:function(t){var e={},i={};!function t(n){var o,a;if(e[n.entity]=n.encode(),o=r.as(n,s.PGMComposite))for(var h=r.iter(o.children);!h.done;h.next()){var c=h.value;null==e[c.child.entity]&&t(c.child)}if(a=n.getTextStylesReferenced())for(var u=r.iter(a);!u.done;u.next()){var l=u.value;null==i[l.key]&&(i[l.key]=l.encode())}}(t.root);var n={};return n[a.PGMGraph.PROP_ROOT_ENTITY]=t.root.entity,n[a.PGMGraph.PROP_ENTITIES]=e,n[a.PGMGraph.PROP_TEXT_STYLES]=i,n[a.PGMGraph.PROP_DURATION]=t.duration,n[a.PGMGraph.PROP_BOUNDS]=t.bounds.encodeJson(),n[a.PGMGraph.PROP_RESOURCES]=t.resources.encode(),n}}}),n)},Yspk:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("RkYL");r.TheoTimeRange=(n=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=t||h.TheoTime.Zero;this.start=i,this.end=e||i,a.CoreObject.call(this)},o={},s.defineClass({name:"TheoTimeRange",ctor:n,superName:"CoreObject",statics:{Empty:{get:function(){return void 0===o.Empty&&(o.Empty=new n),o.Empty}},makeFromSeconds:function(t,e){return new n(h.TheoTime.fromSecondsAsMs(t),h.TheoTime.fromSecondsAsMs(e))},makeFromStartSeconds:function(t){return new n(h.TheoTime.fromSecondsAsMs(t))},makeFromStartAndDuration:function(t,e){return new n(t,t.add(e))},makeFromStartAndDurationSeconds:function(t,e){return n.makeFromSeconds(t,t+e)},makeFromDuration:function(t){return new n(h.TheoTime.Zero,t)},makeFromDurationSeconds:function(t){return n.makeFromDuration(h.TheoTime.fromSecondsAsMs(t))}},props:{isValid:{get:function(){return this.end.laterThan(this.start)||this.isEmpty}},isEmpty:{get:function(){return this.start.secondsEqual(this.end)}},isZero:{get:function(){return this.start.isZero&&this.end.isZero}},duration:{get:function(){return this.end.unsafeSubtract(this.start)}},durationInSeconds:{get:function(){return this.duration.seconds}},equals:function(t){return this.start.secondsEqual(t.start)&&this.end.secondsEqual(t.end)},containsTime:function(t){return t.laterThanOrEqual(this.start)&&t.earlierThanOrEqual(this.end)},overlaps:function(t){return this.containsTime(t.start)||this.containsTime(t.end)||t.containsTime(this.start)||t.containsTime(this.end)},contains:function(t){return this.intersect(t).equals(t)},intersect:function(t){return new n(h.TheoTime.later(this.start,t.start),h.TheoTime.earlier(this.end,t.end))},union:function(t){return new n(h.TheoTime.earlier(this.start,t.start),h.TheoTime.later(this.end,t.end))},offset:function(t){return new n(this.start.addSeconds(t),this.end.addSeconds(t))},padBy:function(t,e){void 0===e&&(e=null);var i,o=new n(this.start.addSeconds(-t),this.end.addSeconds(t));return(i=e)?o.intersect(i):o}}}),n)},ZA1K:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl");o.PGMSVG=(n=function t(e,i,n,o,r){s.PGMMedia.call(this,t.TYPE,e,null,i,n,o,r)},r.defineClass({name:"PGMSVG",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-svg",decodeLeaf:function(t,e,i,o,s){var a;return null!=(a=r.as(t["content-id"],"String"))?new n(e,i,o,s,a):null}},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.contentID)}}}),n)},"a/9s":function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("jLWG"),h=i("n8f2"),c=i("V93b"),u=i("hgLm");o.PGMMimicClipNode=(n=function(t,e,i){var n;(n=r.as(e.child,a.PGMClip))?this._paths=r.clone(n.clipPaths):(s.CoreAssert.fail("wrong pgm node type","PGMMimicClipNode.init","PGMMimicClipNode.swift",23),this._paths=[]),c.PGMMimicGroupNode.call(this,t,e,i)},r.defineClass({name:"PGMMimicClipNode",ctor:n,superName:"PGMMimicGroupNode",statics:{PROP_PATHS:"paths"},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=r.as(this.ref.child,a.PGMClip))?this.paths=r.clone(t.clipPaths):s.CoreAssert.fail("wrong pgm node type","PGMMimicClipNode.importProperties","PGMMimicClipNode.swift",35),this.endPropertyMutation()},paths:{get:function(){return this._paths},set:function(t){u.TheoPath.arraysEqual(r.clone(t),r.clone(this._paths))||(this._paths=r.clone(t),this.mutateProperty(h.PGMMimicFilterNode.PROP_SPEC))}}}}),n)},b1vF:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("gXiO"),h=i("Zifs");r.XYZColor=(n=function(t,e,i,n){this.x=t,this.y=e,this.z=i,this.alpha=n,a.CoreObject.call(this)},o={},s.defineClass({name:"XYZColor",ctor:n,superName:"CoreObject",statics:{D50XYZ:{get:function(){return void 0===o.D50XYZ&&(o.D50XYZ=new n(.964212,1,.825188,1)),o.D50XYZ}},D65XYZ:{get:function(){return void 0===o.D65XYZ&&(o.D65XYZ=new n(.950429,1,1.0889,1)),o.D65XYZ}},fromRGB:function(t){function e(t){return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}var i=e(t.red),o=e(t.green),r=e(t.blue);return new n(.4124*i+.3576*o+.1805*r,.2126*i+.7152*o+.0722*r,.0193*i+.1192*o+.9505*r,t.alpha)}},props:{asRGB:{get:function(){return null==this.rgb_&&(this.rgb_=this.toRGB()),this.rgb_}},toRGB:function(){function t(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}var e=t(3.2406*this.x+-1.5372*this.y+-.4986*this.z),i=t(-.9689*this.x+1.8758*this.y+.0415*this.z),n=t(.0557*this.x+-.204*this.y+1.067*this.z);return new h.SolidColor(Math.min(Math.max(e,0),1),Math.min(Math.max(i,0),1),Math.min(Math.max(n,0),1),this.alpha)}}}),n)},bAjp:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("WGnI"),h=i("hauK");o.PGMText=(n=function t(e,i,n,o,r,s){this.text=r,this.style=s;var h=[];h.push("bounds:"+o.asString),h.push("text:"+r),h.push("style:"+s.key),a.PGMLeaf.call(this,t.TYPE,e,"PGMText("+h.join(";")+")",i,n,o)},r.defineClass({name:"PGMText",ctor:n,superName:"PGMLeaf",statics:{TYPE:"pgm-text",PROP_TEXT:"text",PROP_STYLE_KEY:"style-key",decodeLeaf:function(t,e,i,o,a,h){var c,u,l;return null!=(c=r.as(t[n.PROP_TEXT],"String"))&&null!=(u=r.as(t[n.PROP_STYLE_KEY],"String"))&&(l=h.constructTextStyle(u))?new n(e,i,o,a,c,l):(s.CoreAssert.fail("PGMText.decodeLeaf: didn't get a required input.","PGMText.decodeLeaf","PGMText.swift",108),null)}},props:{encode:function(){var t=a.PGMLeaf.prototype.encode.call(this);return t[h.PGMNode.PROP_TYPE]=n.TYPE,t[n.PROP_TEXT]=this.text,t[n.PROP_STYLE_KEY]=this.style.key,t},getTextStylesReferenced:function(){return[this.style]},withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.text,this.style)},withAnimations:function(t){return t===this.animations?this:new n(this.entity,this.meta,t,this.bounds,this.text,this.style)},canInterpolate:function(t){return this.text==t.text&&this.style.canInterpolate(t.style)}}}),n)},bJ8p:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("p41/"),h=i("hTIq"),c=i("tOe2"),u=i("wlKr");o.PGMResourceProvider=(n=function(t){this.type=t},r.defineClass({name:"PGMResourceProvider",ctor:n,statics:{PROP_TYPE:"type",decode:function(t){var e,i;if(!(e=t))return null;if(null==(i=r.as(e[n.PROP_TYPE],"String")))return s.CoreAssert.fail("PGMResourceProvider.decode: missing required type property","PGMResourceProvider.decode","PGMResourceProvider.swift",66),null;switch(i){case"pgm-cc-storage-provider":return a.PGMCCStorageProvider.decodeProvider(e);case"pgm-cp-provider":return h.PGMCPProvider.decodeProvider(e);case"pgm-local-file-provider":return u.PGMLocalFileProvider.decodeProvider(e);case"pgm-data-url-provider":return c.PGMDataURLProvider.decodeProvider(e);default:return s.CoreAssert.fail("PGMResourceProvider.decode: unrecognized type: "+i,"PGMResourceProvider.decode","PGMResourceProvider.swift",62),null}}},props:{encode:function(){var t={};return t[n.PROP_TYPE]=this.type,t}}}),n)},bJhu:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("iCxV"),h=i("djwB"),c=i("Zifs");o.interp=function(t,e,i){return t+(e-t)*i},o.PGMTextStyle=(n=function(t,e,i,n,o,r){this.key_=null,this.font=t,this.size=e,this.fillColor=i,this.strokeColor=n,this.strokeWidth=o,this.tracking=r},r.defineClass({name:"PGMTextStyle",ctor:n,statics:{decode:function(t){var e,i,o,a,u;return(o=t)?(a=h.PGMFont.decode(r.as(o.font,["Dictionary","String","Any"])))&&null!=(u=r.as(o.size,"Double"))?new n(a,u,c.SolidColor.decodeJson(r.as(o["fill-color"],"AnyObject")),c.SolidColor.decodeJson(r.as(o["stroke-color"],"AnyObject")),(e=r.as(o["stroke-width"],"Double"))||null!=e?e:0,(i=r.as(o.tracking,"Double"))||null!=i?i:0):(s.CoreAssert.fail("PGMTextStyle.decode: missing required property","PGMTextStyle.decode","PGMTextStyle.swift",82),null):null}},props:{key:{get:function(){var t;if(null==this.key_){var e,i,n=[];n.push("size:"+r.toString(this.size)),n.push("font:"+this.font.asString),(e=this.fillColor)&&n.push("fill:"+e.asString),(i=this.fillColor)&&n.push("stroke:"+i.asString),this.strokeWidth>0&&n.push("stroke-width:"+r.toString(this.strokeWidth)),0!=this.tracking&&n.push("tracking:"+r.toString(this.tracking));var o="PGMTextStyle("+n.join(";")+")";this.key_=(t=r.opt(a.Host.crypto,(function(t){return t.md5(o)})))||null!=t?t:o}return this.key_}},encode:function(){var t={};return t.font=this.font.encode(),t.size=this.size,null!=this.fillColor&&(t["fill-color"]=this.fillColor.encodeJson()),null!=this.strokeColor&&(t["stroke-color"]=this.strokeColor.encodeJson()),this.strokeWidth>0&&(t["stroke-width"]=r.toString(this.strokeWidth)),0!=this.tracking&&(t.tracking=r.toString(this.tracking)),t},interpOptionalColors:function(t,e,i){return null==t&&null==e?null:null==t?this.interpOptionalColors(new c.SolidColor(0,0,0,0),e,i):null==e?this.interpOptionalColors(t,new c.SolidColor(0,0,0,0),i):t.interpolate(e,i)},interpolate:function(t,e){return new n(e>.5?t.font:this.font,o.interp(this.size,t.size,e),this.interpOptionalColors(this.fillColor,t.fillColor,e),this.interpOptionalColors(this.strokeColor,t.strokeColor,e),o.interp(this.strokeWidth,t.strokeWidth,e),o.interp(this.tracking,t.tracking,e))},canInterpolate:function(t){return this.font.isEqualTo(t.font)}}}),n)},bauG:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl");o.PGMImage=(n=function t(e,i,n,o,r){s.PGMMedia.call(this,t.TYPE,e,null,i,n,o,r)},r.defineClass({name:"PGMImage",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-image",decodeLeaf:function(t,e,i,o,s){var a;return null!=(a=r.as(t["content-id"],"String"))?new n(e,i,o,s,a):null}},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.contentID)}}}),n)},"djS+":function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("SpAV"),h=i("sq5L"),c=i("WGnI"),u=i("hauK"),l=i("/ZoO"),p=i("bJhu"),d=i("sIWg");r.PGMGraphDecoderNodeEntry=(n=function(){this.constructing=!1,this.node=null},s.defineClass({name:"PGMGraphDecoderNodeEntry",ctor:n}),n),r.PGMGraphDecoder=(o=function(t){var e,i,n,o,r,a;this.dummy=null,this.constructedNodes={},this.constructedTextStyles={},this.dict=t,this.rootEntity=(e=s.as(t[h.PGMGraph.PROP_ROOT_ENTITY],"String"))||null!=e?e:"",(n=s.as(t[h.PGMGraph.PROP_ENTITIES],["Dictionary","String","Any"]))?this.entityMap=n:this.entityMap={},(o=s.as(t[h.PGMGraph.PROP_TEXT_STYLES],["Dictionary","String","Any"]))?this.styleMap=o:this.styleMap={},(r=d.TheoRect.decodeJson(s.as(t[c.PGMLeaf.PROP_BOUNDS],"AnyObject")))?this.bounds=r:this.bounds=d.TheoRect.Zero,(a=s.as(t[h.PGMGraph.PROP_RESOURCES],["Dictionary","String","Any"]))?this.resources=l.PGMResourceProviderList.decode(a):this.resources=new l.PGMResourceProviderList({}),this.duration=(i=s.as(t[h.PGMGraph.PROP_DURATION],"Double"))||null!=i?i:0},s.defineClass({name:"PGMGraphDecoder",ctor:o,statics:{_implements:function(t){return"IPGMDecoderFactory"==t}},props:{decode:function(){var t;return s.isEmpty(this.rootEntity)?null:(t=this.constructNode(this.rootEntity))?new h.PGMGraph(t,this.bounds,this.duration,this.resources):null},constructNode:function(t){var e,i;if(e=this.constructedNodes[t])return e.constructing?(a.CoreAssert.fail("You have a cycle in your graph!","PGMGraphDecoder.constructNode","PGMGraphDecoder.swift",110),null):e.node;if(i=s.as(this.entityMap[t],["Dictionary","String","Any"])){var n=new r.PGMGraphDecoderNodeEntry;return this.constructedNodes[t]=n,n.constructing=!0,n.node=u.PGMNode.decode(i,this),n.constructing=!1,n.node}return a.CoreAssert.fail("Entity "+t+" is referenced but does not exist","PGMGraphDecoder.constructNode","PGMGraphDecoder.swift",123),null},constructTextStyle:function(t){var e,i,n;return(i=this.constructedTextStyles[t])?e=i:(n=s.as(this.styleMap[t],["Dictionary","String","Any"]))?e=p.PGMTextStyle.decode(n):(a.CoreAssert.fail("Text style with hash "+t+" is referenced but does not exist","PGMGraphDecoder.constructTextStyle","PGMGraphDecoder.swift",140),e=null),e}}}),o)},djwB:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV");o.PGMFont=(n=function(t,e,i,n,o,r){this.cssName=t,this.postscriptName=e,this.style=i,this.weight=n,this.family=o,this.capRatio=r},r.defineClass({name:"PGMFont",ctor:n,statics:{PROP_CSS_NAME:"cssName",PROP_POSTSCRIPT_NAME:"postscriptName",PROP_STYLE:"style",PROP_WEIGHT:"weight",PROP_FAMILY:"family",PROP_CAP_RATIO:"capRatio",decode:function(t){var e,i,o,a,h,c,u;return(e=t)?null!=(i=r.as(e[n.PROP_CSS_NAME],"String"))&&null!=(o=r.as(e[n.PROP_POSTSCRIPT_NAME],"String"))&&null!=(a=r.as(e[n.PROP_STYLE],"String"))&&null!=(h=r.as(e[n.PROP_WEIGHT],"Int"))&&null!=(c=r.as(e[n.PROP_FAMILY],"String"))&&null!=(u=r.as(e[n.PROP_CAP_RATIO],"Double"))?new n(i,o,a,h,c,u):(s.CoreAssert.fail("PGMFont.decode: missing required parameter","PGMFont.decode","PGMFont.swift",113),null):null}},props:{encode:function(){var t={};return t[n.PROP_CSS_NAME]=this.cssName,t[n.PROP_POSTSCRIPT_NAME]=this.postscriptName,t[n.PROP_STYLE]=this.style,t[n.PROP_WEIGHT]=this.weight,t[n.PROP_FAMILY]=this.family,t[n.PROP_CAP_RATIO]=this.capRatio,t},asString:{get:function(){return"PGMFont(cssName:"+this.cssName+"postscriptName:"+this.postscriptName+"style:"+this.style+"weight:"+r.toString(this.weight)+";family:"+this.family+";capRatio:"+r.toString(this.capRatio)+")"}},isEqualTo:function(t){return this.cssName==t.cssName&&this.postscriptName==t.postscriptName&&this.style==t.style&&this.weight==t.weight&&this.family==t.family&&this.capRatio==t.capRatio}}}),n)},h8iP:function(t,e,i){i("oAGj")},hTIq:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("p41/"),h=i("bJ8p");o.PGMCPProvider=(n=function t(e){this.url=e,h.PGMResourceProvider.call(this,t.TYPE)},r.defineClass({name:"PGMCPProvider",ctor:n,superName:"PGMResourceProvider",statics:{TYPE:"pgm-cp-provider",PROP_URL:"url",decodeProvider:function(t){var e;return null!=(e=r.as(t[n.PROP_URL],"String"))?new n(e):(s.CoreAssert.fail("PGMCPProvider.decode: missing required url parameter","PGMCPProvider.decodeProvider","PGMCPProvider.swift",50),null)}},props:{encode:function(){var t=h.PGMResourceProvider.prototype.encode.call(this);return t[a.PGMCCStorageProvider.PROP_URL]=this.url,t}}}),n)},hgLm:function(t,e,i){var n,o,r,s,a,h,c,u,l,p,d,m,f,P,T,M,v=e,y=i("oAGj"),g=i("SpAV"),_=i("gXiO"),A=i("dJuF"),G=i("iCxV"),w=i("tGKA"),x=i("oKlP"),C=i("sIWg");v.TheoPathRenderer=y.defineProtocol("TheoPathRenderer",{rectangle:"(Double, Double, Double, Double) -> Void",ellipse:"(Double, Double, Double, Double) -> Void",newPath:"(String, String, String, Double, Double) -> Void",moveTo:"(Double, Double) -> Void",lineTo:"(Double, Double) -> Void",cubicBezier:"(Double, Double, Double, Double, Double, Double) -> Void",quadraticBezier:"(Double, Double, Double, Double) -> Void",closePath:"() -> Void"}),v.PROPERTY_TYPE="type",v.PROPERTY_FILLRULE="fillRule",v.PROPERTY_STROKEWEIGHT="strokeWeight",v.PROPERTY_JOINTYPE="joinType",v.PROPERTY_ENDTYPE="endType",v.PROPERTY_MITERLIMIT="miterLimit",v.PROPERTY_COORDS="coords",v.TheoPath=(n=function t(e,i,n,o,r,s){this.appearanceHash_=null,void 0===i&&(i=t.PATHFILL_DEFAULT),void 0===n&&(n=t.PATHEND_DEFAULT),void 0===o&&(o=t.PATHJOIN_DEFAULT),void 0===r&&(r=t.PATHSTROKE_DEFAULT),void 0===s&&(s=t.PATHMITERLIMIT_DEFFAULT),this.type=e,this.pathFillType=i,this.pathEndcapType=n,this.pathJoinType=o,this.pathStrokeWeight=r,this.pathMiterLimit=s,_.CoreObject.call(this)},o={},y.defineClass({name:"TheoPath",ctor:n,superName:"CoreObject",statics:{emptyPath:function(){return new v.TheoEmptyPath},PATHFILL_NONE:"none",PATHFILL_NONZERO:"nonzero",PATHFILL_EVENODD:"evenodd",PATHEND_BUTT:"butt",PATHEND_ROUND:"round",PATHEND_SQUARE:"square",PATHJOIN_MITER:"miter",PATHJOIN_ROUND:"round",PATHJOIN_BEVEL:"bevel",PATHFILL_DEFAULT:{get:function(){return void 0===o.PATHFILL_DEFAULT&&(o.PATHFILL_DEFAULT=n.PATHFILL_NONZERO),o.PATHFILL_DEFAULT}},PATHEND_DEFAULT:{get:function(){return void 0===o.PATHEND_DEFAULT&&(o.PATHEND_DEFAULT=n.PATHEND_BUTT),o.PATHEND_DEFAULT}},PATHJOIN_DEFAULT:{get:function(){return void 0===o.PATHJOIN_DEFAULT&&(o.PATHJOIN_DEFAULT=n.PATHJOIN_MITER),o.PATHJOIN_DEFAULT}},PATHSTROKE_DEFAULT:0,PATHMITERLIMIT_DEFFAULT:4,decodeJson:function(t){var e,i,o,r,s,a,h;if(null==t);else if(h=y.as(t,["Dictionary","String","Any"])){var c;if(null!=(c=y.as(h[v.PROPERTY_TYPE],"String"))){var u=(e=y.as(h[v.PROPERTY_FILLRULE],"String"))||null!=e?e:n.PATHFILL_DEFAULT,l=(i=y.as(h[v.PROPERTY_ENDTYPE],"String"))||null!=i?i:n.PATHEND_DEFAULT,p=(o=y.as(h[v.PROPERTY_JOINTYPE],"String"))||null!=o?o:n.PATHJOIN_DEFAULT,d=(r=y.as(h[v.PROPERTY_STROKEWEIGHT],"Double"))||null!=r?r:n.PATHSTROKE_DEFAULT,m=(s=y.as(h[v.PROPERTY_MITERLIMIT],"Double"))||null!=s?s:n.PATHMITERLIMIT_DEFFAULT;c==v.TheoEmptyPath.TYPE?a=n.emptyPath():c==v.TheoRectanglePath.TYPE?a=v.TheoRectanglePath.decodeJsonDict(h,u,l,p,d,m):c==v.TheoEllipsePath.TYPE?a=v.TheoEllipsePath.decodeJsonDict(h,u,l,p,d,m):c==v.TheoArbitraryPath.TYPE?a=v.TheoPathBuilder.decodeJsonDict(h,u,l,p,d,m):g.CoreAssert.fail("Unrecognized type "+c,"TheoPath.decodeJson","TheoPath.swift",126)}else g.CoreAssert.fail("No type field","TheoPath.decodeJson","TheoPath.swift",129)}else g.CoreAssert.fail("Not a dictionary","TheoPath.decodeJson","TheoPath.swift",132);return a},arraysEqual:function(t,e){if(t.length!=e.length)return!1;for(var i=y.iter(y.range(0,t.length,!1));!i.done;i.next()){var n=i.value;if(t[n]!==e[n]&&t[n].appearanceHash!=e[n].appearanceHash)return!1}return!0}},props:{bounds:{get:function(){return null}},render:function(t){},encodeJson:function(){var t={};return t[v.PROPERTY_TYPE]=this.type,t[v.PROPERTY_FILLRULE]=this.pathFillType,t[v.PROPERTY_JOINTYPE]=this.pathJoinType,t[v.PROPERTY_ENDTYPE]=this.pathEndcapType,g.CoreAssert.isFalse(isNaN(this.pathStrokeWeight),"Can't persist NaN pathStrokeWeight value","TheoPath.encodeJson","TheoPath.swift",144),t[v.PROPERTY_STROKEWEIGHT]=this.pathStrokeWeight,g.CoreAssert.isFalse(isNaN(this.pathMiterLimit),"Can't persist NaN pathMiterLimit value","TheoPath.encodeJson","TheoPath.swift",147),t[v.PROPERTY_MITERLIMIT]=this.pathMiterLimit,t},appearanceHash:{get:function(){var t;if(null!=(t=this.appearanceHash_))return t;var e=this.calculateAppearanceHash();return this.appearanceHash_=e,e}},calculateAppearanceHash:function(){return g.CoreAssert.fail("subclass must implement","TheoPath.calculateAppearanceHash","TheoPath.swift",167),"not impl"}}}),n),v.TheoEmptyPath=(r=function t(){v.TheoPath.call(this,t.TYPE)},y.defineClass({name:"TheoEmptyPath",ctor:r,superName:"TheoPath",statics:{TYPE:{get:function(){return"empty"}}},props:{render:function(t){},calculateAppearanceHash:function(){var t;return(t=y.opt(G.Host.crypto,(function(t){return t.md5("(empty)")})))||null!=t?t:"(empty)"}}}),r),v.TheoRectanglePath=(s=function t(e,i,n,o,r,s){void 0===i&&(i=v.TheoPath.PATHFILL_DEFAULT),void 0===n&&(n=v.TheoPath.PATHEND_DEFAULT),void 0===o&&(o=v.TheoPath.PATHJOIN_DEFAULT),void 0===r&&(r=v.TheoPath.PATHSTROKE_DEFAULT),void 0===s&&(s=v.TheoPath.PATHMITERLIMIT_DEFFAULT),this.rect=e,v.TheoPath.call(this,t.TYPE,i,n,o,r,s)},y.defineClass({name:"TheoRectanglePath",ctor:s,superName:"TheoPath",statics:{TYPE:{get:function(){return"rect"}},oneByOne:function(){return new s(C.TheoRect.ONE_BY_ONE)},decodeJsonDict:function(t,e,i,n,o,r){var a;return(a=C.TheoRect.decodeJson(y.as(t[v.PROPERTY_COORDS],"AnyObject")))?new s(a,e,i,n,o,r):null}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.rectangle(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeJson:function(){var t=v.TheoPath.prototype.encodeJson.call(this);return t[v.PROPERTY_COORDS]=this.rect.encodeJson(),t},calculateAppearanceHash:function(){var t,e="(rect:"+this.rect.asString+")";return(t=y.opt(G.Host.crypto,(function(t){return t.md5(e)})))||null!=t?t:e}}}),s),v.TheoEllipsePath=(a=function t(e,i,n,o,r,s){void 0===i&&(i=v.TheoPath.PATHFILL_DEFAULT),void 0===n&&(n=v.TheoPath.PATHEND_DEFAULT),void 0===o&&(o=v.TheoPath.PATHJOIN_DEFAULT),void 0===r&&(r=v.TheoPath.PATHSTROKE_DEFAULT),void 0===s&&(s=v.TheoPath.PATHMITERLIMIT_DEFFAULT),this.rect=e,v.TheoPath.call(this,t.TYPE,i,n,o,r,s)},y.defineClass({name:"TheoEllipsePath",ctor:a,superName:"TheoPath",statics:{TYPE:"ellipse",oneByOne:function(){return new a(C.TheoRect.ONE_BY_ONE)},decodeJsonDict:function(t,e,i,n,o,r){var s;return(s=C.TheoRect.decodeJson(y.as(t[v.PROPERTY_COORDS],"AnyObject")))?new a(s,e,i,n,o,r):null}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.ellipse(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeJson:function(){var t=v.TheoPath.prototype.encodeJson.call(this);return t[v.PROPERTY_COORDS]=this.rect.encodeJson(),t},calculateAppearanceHash:function(){var t,e="(ellipse:"+this.rect.asString+")";return(t=y.opt(G.Host.crypto,(function(t){return t.md5(e)})))||null!=t?t:e}}}),a),v.DecodeState=(h=function(t,e){this.arr=t,this.index=e},y.defineClass({name:"DecodeState",ctor:h}),h),v.TheoPathOperation=(c=function(t){this.type=t},y.defineClass({name:"TheoPathOperation",ctor:c,statics:{decodeFromArray:function(t){return null}},props:{bounds:{get:function(){return null}},boundsFrom:function(t){return this.bounds},trailingPoint:function(){return x.TheoPoint.INVALID},render:function(t){},encodeToArray:function(t){t.push(this.type)},asString:{get:function(){return g.CoreAssert.fail("unimplemented in subclass","TheoPathOperation","TheoPath.swift",347),"subclass, implement me"}}}}),c),v.TheoPathOpMoveTo=(u=function t(e){this.point=e,v.TheoPathOperation.call(this,t.TYPE)},y.defineClass({name:"TheoPathOpMoveTo",ctor:u,superName:"TheoPathOperation",statics:{TYPE:"M",decodeFromArray:function(t){var e=new u(new x.TheoPoint(t.arr[t.index],t.arr[t.index+1]));return t.index+=2,e}},props:{bounds:{get:function(){return C.TheoRect.fromXYWH(this.point.x,this.point.y,0,0)}},trailingPoint:function(){return this.point},render:function(t){t.moveTo(this.point.x,this.point.y)},encodeToArray:function(t){v.TheoPathOperation.prototype.encodeToArray.call(this,t),g.CoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value","TheoPathOpMoveTo.encodeToArray","TheoPath.swift",389),g.CoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value","TheoPathOpMoveTo.encodeToArray","TheoPath.swift",390),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"M "+this.point.x+" "+this.point.y}}}}),u),v.TheoPathOpLineTo=(l=function t(e){this.point=e,v.TheoPathOperation.call(this,t.TYPE)},y.defineClass({name:"TheoPathOpLineTo",ctor:l,superName:"TheoPathOperation",statics:{TYPE:"L",decodeFromArray:function(t){var e=new l(new x.TheoPoint(t.arr[t.index],t.arr[t.index+1]));return t.index+=2,e}},props:{bounds:{get:function(){return C.TheoRect.fromXYWH(this.point.x,this.point.y,0,0)}},boundsFrom:function(t){return C.TheoRect.boundsOfPoints([t,this.point])},trailingPoint:function(){return this.point},render:function(t){t.lineTo(this.point.x,this.point.y)},encodeToArray:function(t){v.TheoPathOperation.prototype.encodeToArray.call(this,t),g.CoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value","TheoPathOpLineTo.encodeToArray","TheoPath.swift",439),g.CoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value","TheoPathOpLineTo.encodeToArray","TheoPath.swift",440),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"L "+this.point.x+" "+this.point.y}}}}),l),v.TheoPathOpCubicBezier=(p=function t(e,i,n){this.pt1=e,this.pt2=i,this.point=n,v.TheoPathOperation.call(this,t.TYPE)},y.defineClass({name:"TheoPathOpCubicBezier",ctor:p,superName:"TheoPathOperation",statics:{TYPE:"C",decodeFromArray:function(t){var e=new p(new x.TheoPoint(t.arr[t.index],t.arr[t.index+1]),new x.TheoPoint(t.arr[t.index+2],t.arr[t.index+3]),new x.TheoPoint(t.arr[t.index+4],t.arr[t.index+5]));return t.index+=6,e}},props:{bounds:{get:function(){return C.TheoRect.boundsOfPoints([this.pt1,this.pt2,this.point])}},boundsFrom:function(t){var e=[t,this.point],i=y.clone(this.CubicCriticalTimes(t,this.pt1,this.pt2,this.point));return y.first(i).x>0&&y.first(i).x<1&&e.push(this.evaluateAtTime(y.first(i).x,t,this.pt1,this.pt2,this.point)),y.first(i).y>0&&y.first(i).y<1&&e.push(this.evaluateAtTime(y.first(i).y,t,this.pt1,this.pt2,this.point)),y.last(i).x>0&&y.last(i).x<1&&e.push(this.evaluateAtTime(y.last(i).x,t,this.pt1,this.pt2,this.point)),y.last(i).y>0&&y.last(i).y<1&&e.push(this.evaluateAtTime(y.last(i).y,t,this.pt1,this.pt2,this.point)),C.TheoRect.boundsOfPoints(y.clone(e))},trailingPoint:function(){return this.point},sqrtPoint:function(t){return new x.TheoPoint(Math.sqrt(t.x),Math.sqrt(t.y))},CubicCriticalTimes:function(t,e,i,n){var o=x._minus_TheoPoint_TheoPoint(e,t),r=x._minus_TheoPoint_TheoPoint(i,e),s=x._minus_TheoPoint_TheoPoint(n,i),a=x._minus_TheoPoint_TheoPoint(r,o),h=x._minus_TheoPoint_TheoPoint(s,r),c=x._minus_TheoPoint_TheoPoint(h,a),u=x._minus_TheoPoint_TheoPoint(a.multiplyPoint(a),o.multiplyPoint(c));function l(t){return Math.abs(t)<=1e-6?0:t}u=new x.TheoPoint(l(u.x),l(u.y)),a=new x.TheoPoint(l(a.x),l(a.y)),c=new x.TheoPoint(l(c.x),l(c.y));var p=this.sqrtPoint(u),d=[x._plus_TheoPoint_TheoPoint(x._negate_TheoPoint(a),p).dividePoint(c),x._minus_TheoPoint_TheoPoint(x._negate_TheoPoint(a),p).dividePoint(c)],m=x._negate_TheoPoint(o.dividePoint(a).divide(2));return 0==c.x&&0!=a.x&&(a.x>0?d[0]=new x.TheoPoint(m.x,y.first(d).y):d[1]=new x.TheoPoint(m.x,y.last(d).y)),0==c.y&&0!=a.y&&(a.y>0?d[0]=new x.TheoPoint(y.first(d).x,m.y):d[1]=new x.TheoPoint(y.last(d).x,m.y)),d},evaluateAtTime:function(t,e,i,n,o){return x._plus_TheoPoint_TheoPoint(x._plus_TheoPoint_TheoPoint(x._plus_TheoPoint_TheoPoint(e.multiply((1-t)*(1-t)*(1-t)),i.multiply(3*t*(1-t)*(1-t))),n.multiply(3*t*t*(1-t))),o.multiply(t*t*t))},render:function(t){t.cubicBezier(this.pt1.x,this.pt1.y,this.pt2.x,this.pt2.y,this.point.x,this.point.y)},encodeToArray:function(t){v.TheoPathOperation.prototype.encodeToArray.call(this,t),g.CoreAssert.isFalse(isNaN(this.pt1.x),"Can't persist NaN pt1.x value","TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",584),g.CoreAssert.isFalse(isNaN(this.pt1.y),"Can't persist NaN pt1.y value","TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",585),g.CoreAssert.isFalse(isNaN(this.pt2.x),"Can't persist NaN pt2.x value","TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",586),g.CoreAssert.isFalse(isNaN(this.pt2.y),"Can't persist NaN pt2.y value","TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",587),g.CoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value","TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",588),g.CoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value","TheoPathOpCubicBezier.encodeToArray","TheoPath.swift",589),t.push(this.pt1.x),t.push(this.pt1.y),t.push(this.pt2.x),t.push(this.pt2.y),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"C "+y.toString(this.pt1.x)+" "+y.toString(this.pt1.y)+" "+y.toString(this.pt2.x)+" "+y.toString(this.pt2.y)+" "+y.toString(this.point.x)+" "+y.toString(this.point.y)}}}}),p),v.TheoPathOpQuadraticBezier=(d=function t(e,i){this.pt1=e,this.point=i,v.TheoPathOperation.call(this,t.TYPE)},y.defineClass({name:"TheoPathOpQuadraticBezier",ctor:d,superName:"TheoPathOperation",statics:{TYPE:"Q",decodeFromArray:function(t){var e=new d(new x.TheoPoint(t.arr[t.index],t.arr[t.index+1]),new x.TheoPoint(t.arr[t.index+2],t.arr[t.index+3]));return t.index+=4,e}},props:{bounds:{get:function(){return C.TheoRect.boundsOfPoints([this.pt1,this.point])}},boundsFrom:function(t){var e=[t,this.point],i=this.QuadraticCriticalTime(t,this.pt1,this.point);return i.x>0&&i.x<1&&e.push(this.evaluateAtTime(i.x,t,this.pt1,this.point)),i.y>0&&i.y<1&&e.push(this.evaluateAtTime(i.y,t,this.pt1,this.point)),C.TheoRect.boundsOfPoints(y.clone(e))},trailingPoint:function(){return this.point},QuadraticCriticalTime:function(t,e,i){var n=x._minus_TheoPoint_TheoPoint(e,t),o=x._minus_TheoPoint_TheoPoint(i,e),r=x._minus_TheoPoint_TheoPoint(o,n);return x._negate_TheoPoint(n.dividePoint(r))},evaluateAtTime:function(t,e,i,n){return x._plus_TheoPoint_TheoPoint(x._plus_TheoPoint_TheoPoint(e.multiply((1-t)*(1-t)),i.multiply(2*t*(1-t))),n.multiply(t*t))},render:function(t){t.quadraticBezier(this.pt1.x,this.pt1.y,this.point.x,this.point.y)},encodeToArray:function(t){v.TheoPathOperation.prototype.encodeToArray.call(this,t),g.CoreAssert.isFalse(isNaN(this.pt1.x),"Can't persist NaN pt1.x value","TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",699),g.CoreAssert.isFalse(isNaN(this.pt1.y),"Can't persist NaN pt1.y value","TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",700),g.CoreAssert.isFalse(isNaN(this.point.x),"Can't persist NaN point.x value","TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",701),g.CoreAssert.isFalse(isNaN(this.point.y),"Can't persist NaN point.y value","TheoPathOpQuadraticBezier.encodeToArray","TheoPath.swift",702),t.push(this.pt1.x),t.push(this.pt1.y),t.push(this.point.x),t.push(this.point.y)},asString:{get:function(){return"Q "+y.toString(this.pt1.x)+" "+y.toString(this.pt1.y)+" "+y.toString(this.point.x)+" "+y.toString(this.point.y)}}}}),d),v.TheoPathOpRectangle=(m=function t(e){this.rect=e,v.TheoPathOperation.call(this,t.TYPE)},y.defineClass({name:"TheoPathOpRectangle",ctor:m,superName:"TheoPathOperation",statics:{TYPE:"R",decodeFromArray:function(t){if(t.arr.length>=t.index+4){var e=y.as(t.arr[t.index],"Double"),i=y.as(t.arr[t.index+1],"Double"),n=y.as(t.arr[t.index+2],"Double"),o=y.as(t.arr[t.index+3],"Double");return t.index+=4,null==e&&(e=0),null==n&&(n=100),null==i&&(i=0),null==o&&(o=100),new m(new C.TheoRect(e,i,n,o))}return null}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.rectangle(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeToArray:function(t){v.TheoPathOperation.prototype.encodeToArray.call(this,t),g.CoreAssert.isFalse(isNaN(this.rect.minX),"Can't persist NaN rect.minX value","TheoPathOpRectangle.encodeToArray","TheoPath.swift",774),g.CoreAssert.isFalse(isNaN(this.rect.minY),"Can't persist NaN rect.minY value","TheoPathOpRectangle.encodeToArray","TheoPath.swift",775),g.CoreAssert.isFalse(isNaN(this.rect.maxX),"Can't persist NaN rect.maxX value","TheoPathOpRectangle.encodeToArray","TheoPath.swift",776),g.CoreAssert.isFalse(isNaN(this.rect.maxY),"Can't persist NaN rect.maxY value","TheoPathOpRectangle.encodeToArray","TheoPath.swift",777),t.push(this.rect.minX),t.push(this.rect.minY),t.push(this.rect.maxX),t.push(this.rect.maxY)},asString:{get:function(){return"R "+y.toString(this.rect.minX)+" "+y.toString(this.rect.minY)+" "+y.toString(this.rect.maxX)+" "+y.toString(this.rect.maxY)}}}}),m),v.TheoPathOpEllipse=(f=function t(e){this.rect=e,v.TheoPathOperation.call(this,t.TYPE)},y.defineClass({name:"TheoPathOpEllipse",ctor:f,superName:"TheoPathOperation",statics:{TYPE:"E",decodeFromArray:function(t){var e=new f(new C.TheoRect(t.arr[t.index],t.arr[t.index+1],t.arr[t.index+2],t.arr[t.index+3]));return t.index+=4,e}},props:{bounds:{get:function(){return this.rect}},render:function(t){t.ellipse(this.rect.minX,this.rect.minY,this.rect.maxX,this.rect.maxY)},encodeToArray:function(t){v.TheoPathOperation.prototype.encodeToArray.call(this,t),g.CoreAssert.isFalse(isNaN(this.rect.minX),"Can't persist NaN rect.minX value","TheoPathOpEllipse.encodeToArray","TheoPath.swift",827),g.CoreAssert.isFalse(isNaN(this.rect.minY),"Can't persist NaN rect.minY value","TheoPathOpEllipse.encodeToArray","TheoPath.swift",828),g.CoreAssert.isFalse(isNaN(this.rect.maxX),"Can't persist NaN rect.maxX value","TheoPathOpEllipse.encodeToArray","TheoPath.swift",829),g.CoreAssert.isFalse(isNaN(this.rect.maxY),"Can't persist NaN rect.maxY value","TheoPathOpEllipse.encodeToArray","TheoPath.swift",830),t.push(this.rect.minX),t.push(this.rect.minY),t.push(this.rect.maxX),t.push(this.rect.maxY)},asString:{get:function(){return"E "+y.toString(this.rect.minX)+" "+y.toString(this.rect.minY)+" "+y.toString(this.rect.maxX)+" "+y.toString(this.rect.maxY)}}}}),f),v.TheoPathOpClosePath=(P=function t(){v.TheoPathOperation.call(this,t.TYPE)},y.defineClass({name:"TheoPathOpClosePath",ctor:P,superName:"TheoPathOperation",statics:{TYPE:"Z",decodeFromArray:function(t){return new P}},props:{trailingPoint:function(){return x.TheoPoint.INVALID},render:function(t){t.closePath()},asString:{get:function(){return"Z"}}}}),P),v.PROPERTY_OPERATIONS="ops",v.AppendPathRenderer=(T=function(t,e){this.sink=t,this.transform=e},y.defineClass({name:"AppendPathRenderer",ctor:T,superName:"CoreObject",statics:{_implements:function(t){return"TheoPathRenderer"==t}},props:{rectangle:function(t,e,i,n){var o=this.transform.transformPoint(new x.TheoPoint(t,e));this.sink.moveTo(o.x,o.y),o=this.transform.transformPoint(new x.TheoPoint(i,e)),this.sink.lineTo(o.x,o.y),o=this.transform.transformPoint(new x.TheoPoint(i,n)),this.sink.lineTo(o.x,o.y),o=this.transform.transformPoint(new x.TheoPoint(t,n)),this.sink.lineTo(o.x,o.y),this.sink.closePath()},ellipse:function(t,e,i,n){var o=(i-t)/2,r=(n-e)/2,s=new x.TheoPoint((t+i)/2,(e+n)/2);function a(t,e){return new x.TheoPoint(t,e)}var h=4*(Math.sqrt(2)-1)/3,c=[a(1,0),a(1,h),a(h,1),a(0,1),a(-h,1),a(-1,h),a(-1,0),a(-1,-h),a(-h,-1),a(0,-1),a(h,-1),a(1,-h),a(1,0)],u=w.Matrix2D.scalingXY(o,r).translate(s).concat(this.transform);c=y.clone(u.transformPoints(y.clone(c))),this.sink.moveTo(c[0].x,c[0].y);for(var l=y.iter(y.stride(1,13,3));!l.done;l.next()){var p=l.value;this.sink.cubicBezier(c[p+0].x,c[p+0].y,c[p+1].x,c[p+1].y,c[p+2].x,c[p+2].y)}this.sink.closePath()},newPath:function(t,e,i,n,o){this.sink.newPath(t,e,i,n,o)},moveTo:function(t,e){var i=this.transform.transformPoint(new x.TheoPoint(t,e));this.sink.moveTo(i.x,i.y)},lineTo:function(t,e){var i=this.transform.transformPoint(new x.TheoPoint(t,e));this.sink.lineTo(i.x,i.y)},cubicBezier:function(t,e,i,n,o,r){var s=this.transform.transformPoint(new x.TheoPoint(t,e)),a=this.transform.transformPoint(new x.TheoPoint(i,n)),h=this.transform.transformPoint(new x.TheoPoint(o,r));this.sink.cubicBezier(s.x,s.y,a.x,a.y,h.x,h.y)},quadraticBezier:function(t,e,i,n){var o=this.transform.transformPoint(new x.TheoPoint(t,e)),r=this.transform.transformPoint(new x.TheoPoint(i,n));this.sink.quadraticBezier(o.x,o.y,r.x,r.y)},closePath:function(){this.sink.closePath()}}}),T),v.TheoArbitraryPath=(M=function t(e,i,n,o,r,s){this.ops_=y.clone(e),v.TheoPath.call(this,t.TYPE,i,n,o,r,s)},y.defineClass({name:"TheoArbitraryPath",ctor:M,superName:"TheoPath",statics:{TYPE:{get:function(){return"arbitrary"}},ArbitraryPathFromPath:function(t,e){var i=v.TheoPathBuilder.init_31cf(t.pathFillType,t.pathEndcapType,t.pathJoinType,t.pathStrokeWeight,t.pathMiterLimit);return i.addPath(t,e),i.path}},props:{bounds:{get:function(){if(null==this.bounds_){for(var t=x.TheoPoint.INVALID,e=y.iter(this.ops_);!e.done;e.next()){var i,n=e.value;(i=n.boundsFrom(t))&&(this.bounds_=i.unionWith(this.bounds_),t=n.trailingPoint())}if(null!=this.bounds_&&this.pathFillType==v.TheoPath.PATHFILL_NONE&&this.pathStrokeWeight>0){var o=-1*this.pathStrokeWeight/2;this.bounds_=this.bounds_.insetXY(o,o)}}return this.bounds_}},operations:{get:function(){return this.ops_}},isOnlyMoves:function(){for(var t=y.iter(this.ops_);!t.done;t.next())if(t.value.type!=v.TheoPathOpMoveTo.TYPE)return!1;return!0},render:function(t){t.newPath(this.pathFillType,this.pathEndcapType,this.pathJoinType,this.pathStrokeWeight,this.pathMiterLimit),this.ops_.forEach((function(e){return e.render(t)}))},encodeJson:function(){var t=v.TheoPath.prototype.encodeJson.call(this),e=[];t[v.PROPERTY_OPERATIONS]=e;for(var i=y.iter(this.ops_);!i.done;i.next())i.value.encodeToArray(e);return t},calculateAppearanceHash:function(){var t,e="(arb:"+this.ops_.map((function(t){return t.asString}),this).join(";")+")";return(t=y.opt(G.Host.crypto,(function(t){return t.md5(e)})))||null!=t?t:e}}}),M),v.TheoPathBuilder=function(){var t=function(){this.ops_=[]},e={};return y.defineClass({name:"TheoPathBuilder",ctor:t,superName:"CoreObject",statics:{OP_FROM_ARRAY:{get:function(){return void 0===e.OP_FROM_ARRAY&&(e.OP_FROM_ARRAY={M:function(t,e){return[new v.TheoPathOpMoveTo(new x.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue)),3]},L:function(t,e){return[new v.TheoPathOpLineTo(new x.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue)),3]},C:function(t,e){return[new v.TheoPathOpCubicBezier(new x.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue),new x.TheoPoint(t[e+3].doubleValue,t[e+4].doubleValue),new x.TheoPoint(t[e+5].doubleValue,t[e+6].doubleValue)),7]},Q:function(t,e){return[new v.TheoPathOpQuadraticBezier(new x.TheoPoint(t[e+1].doubleValue,t[e+2].doubleValue),new x.TheoPoint(t[e+3].doubleValue,t[e+4].doubleValue)),5]},R:function(t,e){var i,n,o,r;return[new v.TheoPathOpRectangle(new C.TheoRect((i=t[e+1].doubleValue)||null!=i?i:0,(n=t[e+2].doubleValue)||null!=n?n:0,(o=t[e+3].doubleValue)||null!=o?o:100,(r=t[e+4].doubleValue)||null!=r?r:100)),5]},E:function(t,e){return[new v.TheoPathOpEllipse(new C.TheoRect(t[e+1].doubleValue,t[e+2].doubleValue,t[e+3].doubleValue,t[e+4].doubleValue)),5]},Z:function(t,e){return t[e],[new v.TheoPathOpClosePath,1]}}),e.OP_FROM_ARRAY}},OP_TO_ARRAY:{get:function(){return void 0===e.OP_TO_ARRAY&&(e.OP_TO_ARRAY={M:function(t,e,i){var n,o=t,r=e;return(n=y.as(i,v.TheoPathOpMoveTo))?[A.DBProperty.stringProperty(o.append(y.toString(r)),n.type),A.DBProperty.doubleProperty(o.append(y.toString(r+1)),n.point.x),A.DBProperty.doubleProperty(o.append(y.toString(r+2)),n.point.y)]:(g.CoreAssert.fail("expected a move to operation","TheoPathBuilder","TheoPath.swift",1088),[])},L:function(t,e,i){var n,o=t,r=e;return(n=y.as(i,v.TheoPathOpLineTo))?[A.DBProperty.stringProperty(o.append(y.toString(r)),n.type),A.DBProperty.doubleProperty(o.append(y.toString(r+1)),n.point.x),A.DBProperty.doubleProperty(o.append(y.toString(r+2)),n.point.y)]:(g.CoreAssert.fail("expected a line to operation","TheoPathBuilder","TheoPath.swift",1099),[])},C:function(t,e,i){var n,o=t,r=e;return(n=y.as(i,v.TheoPathOpCubicBezier))?[A.DBProperty.stringProperty(o.append(y.toString(r)),n.type),A.DBProperty.doubleProperty(o.append(y.toString(r+1)),n.pt1.x),A.DBProperty.doubleProperty(o.append(y.toString(r+2)),n.pt1.y),A.DBProperty.doubleProperty(o.append(y.toString(r+3)),n.pt2.x),A.DBProperty.doubleProperty(o.append(y.toString(r+4)),n.pt2.y),A.DBProperty.doubleProperty(o.append(y.toString(r+5)),n.point.x),A.DBProperty.doubleProperty(o.append(y.toString(r+6)),n.point.y)]:(g.CoreAssert.fail("expected a cubic bezier operation","TheoPathBuilder","TheoPath.swift",1114),[])},Q:function(t,e,i){var n,o=t,r=e;return(n=y.as(i,v.TheoPathOpQuadraticBezier))?[A.DBProperty.stringProperty(o.append(y.toString(r)),n.type),A.DBProperty.doubleProperty(o.append(y.toString(r+1)),n.pt1.x),A.DBProperty.doubleProperty(o.append(y.toString(r+2)),n.pt1.y),A.DBProperty.doubleProperty(o.append(y.toString(r+3)),n.point.x),A.DBProperty.doubleProperty(o.append(y.toString(r+4)),n.point.y)]:(g.CoreAssert.fail("expected a quadratic bezier operation","TheoPathBuilder","TheoPath.swift",1127),[])},R:function(t,e,i){var n,o=t,r=e;return(n=y.as(i,v.TheoPathOpRectangle))?[A.DBProperty.stringProperty(o.append(y.toString(r)),n.type),A.DBProperty.doubleProperty(o.append(y.toString(r+1)),n.rect.minX),A.DBProperty.doubleProperty(o.append(y.toString(r+2)),n.rect.minY),A.DBProperty.doubleProperty(o.append(y.toString(r+3)),n.rect.maxX),A.DBProperty.doubleProperty(o.append(y.toString(r+4)),n.rect.maxY)]:(g.CoreAssert.fail("expected a rectangle operation","TheoPathBuilder","TheoPath.swift",1140),[])},E:function(t,e,i){var n,o=t,r=e;return(n=y.as(i,v.TheoPathOpEllipse))?[A.DBProperty.stringProperty(o.append(y.toString(r)),n.type),A.DBProperty.doubleProperty(o.append(y.toString(r+1)),n.rect.minX),A.DBProperty.doubleProperty(o.append(y.toString(r+2)),n.rect.minY),A.DBProperty.doubleProperty(o.append(y.toString(r+3)),n.rect.maxX),A.DBProperty.doubleProperty(o.append(y.toString(r+4)),n.rect.maxY)]:(g.CoreAssert.fail("expected an ellipse operation","TheoPathBuilder","TheoPath.swift",1153),[])},Z:function(t,e,i){var n,o=t,r=e;return(n=y.as(i,v.TheoPathOpClosePath))?[A.DBProperty.stringProperty(o.append(y.toString(r)),n.type)]:(g.CoreAssert.fail("expected a close operation","TheoPathBuilder","TheoPath.swift",1162),[])}}),e.OP_TO_ARRAY}},getEncodedOperations:function(e,i){var n=[];return i.operations.forEach((function(i){n=y.clone(n.concat(y.clone(t.OP_TO_ARRAY[i.type](e,n.length,i))))})),n},decodeJsonDict:function(e,i,n,o,r,s){var a;if(void 0===i&&(i=v.TheoPath.PATHFILL_DEFAULT),void 0===n&&(n=v.TheoPath.PATHEND_DEFAULT),void 0===o&&(o=v.TheoPath.PATHJOIN_DEFAULT),void 0===r&&(r=v.TheoPath.PATHSTROKE_DEFAULT),void 0===s&&(s=v.TheoPath.PATHMITERLIMIT_DEFFAULT),a=y.as(e[v.PROPERTY_OPERATIONS],["Array","Any"])){for(var h=t.init_31cf(i,n,o,r,s),c=new v.DecodeState(a,0);c.index<a.length;){var u;if(null!=(u=y.as(a[c.index],"String")))if(c.index+=1,u==v.TheoPathOpMoveTo.TYPE)h.ops_.push(v.TheoPathOpMoveTo.decodeFromArray(c));else if(u==v.TheoPathOpLineTo.TYPE)h.ops_.push(v.TheoPathOpLineTo.decodeFromArray(c));else if(u==v.TheoPathOpRectangle.TYPE){var l;(l=v.TheoPathOpRectangle.decodeFromArray(c))&&h.ops_.push(l)}else u==v.TheoPathOpEllipse.TYPE?h.ops_.push(v.TheoPathOpEllipse.decodeFromArray(c)):u==v.TheoPathOpCubicBezier.TYPE?h.ops_.push(v.TheoPathOpCubicBezier.decodeFromArray(c)):u==v.TheoPathOpQuadraticBezier.TYPE?h.ops_.push(v.TheoPathOpQuadraticBezier.decodeFromArray(c)):u==v.TheoPathOpClosePath.TYPE&&h.ops_.push(v.TheoPathOpClosePath.decodeFromArray(c));else c.index+=1,g.CoreAssert.fail("unexpected non-string in ops chain","TheoPathBuilder.decodeJsonDict","TheoPath.swift",1402)}return h.path}return null},_implements:function(t){return"TheoPathRenderer"==t}},props:{init_7691:function(e,i,n,o,r,s){this.pathFillType_=i,this.pathEndcapType_=n,this.pathJoinType_=o,this.pathStrokeWeight_=r,this.pathMiterLimit_=s;for(var a=y.clone(e),h=0;h<a.length;){var c;if(null!=(c=a[h].stringValue)){var u=t.OP_FROM_ARRAY[c](a,h),l=u[0],p=u[1];null!=l&&this.ops_.push(l),h+=p}else h+=1,g.CoreAssert.fail("unexpected non-string in ops chain","TheoPathBuilder.init","TheoPath.swift",1187)}},init_d41d:function(){this.pathFillType_=v.TheoPath.PATHFILL_DEFAULT,this.pathEndcapType_=v.TheoPath.PATHEND_DEFAULT,this.pathJoinType_=v.TheoPath.PATHJOIN_DEFAULT,this.pathStrokeWeight_=v.TheoPath.PATHSTROKE_DEFAULT,this.pathMiterLimit_=v.TheoPath.PATHMITERLIMIT_DEFFAULT},init_31cf:function(t,e,i,n,o){this.pathFillType_=t,this.pathEndcapType_=e,this.pathJoinType_=i,this.pathStrokeWeight_=n,this.pathMiterLimit_=o},newPath:function(t,e,i,n,o){},clear:function(){this.ops_.splice(0)},moveTo:function(t,e){this.ops_.push(new v.TheoPathOpMoveTo(new x.TheoPoint(t,e)))},lineTo:function(t,e){this.ops_.push(new v.TheoPathOpLineTo(new x.TheoPoint(t,e)))},addLines:function(t){if(t.length>0){this.ops_.push(new v.TheoPathOpMoveTo(t[0]));var e=t.concat();e.shift();for(var i=y.iter(e);!i.done;i.next()){var n=i.value;this.ops_.push(new v.TheoPathOpLineTo(n))}}},cubicBezier:function(t,e,i,n,o,r){this.ops_.push(new v.TheoPathOpCubicBezier(new x.TheoPoint(t,e),new x.TheoPoint(i,n),new x.TheoPoint(o,r)))},quadraticBezier:function(t,e,i,n){this.ops_.push(new v.TheoPathOpQuadraticBezier(new x.TheoPoint(t,e),new x.TheoPoint(i,n)))},closePath:function(){this.ops_.push(new v.TheoPathOpClosePath)},addPath:function(t,e){t.render(new v.AppendPathRenderer(this,e))},rectangle:function(t,e,i,n){this.ops_.push(new v.TheoPathOpRectangle(new C.TheoRect(t,e,i,n)))},roundedRectangle:function(t,e,i,n,o,r){var s=4*(Math.sqrt(2)-1)/3,a=s*o,h=s*r;this.moveTo(t+o,e),this.lineTo(i-o,e);var c=i-o+a,u=e+r-h;this.cubicBezier(c,e,i,u,i,e+r),this.lineTo(i,n-r);var l=n-r+h,p=i-o+a;this.cubicBezier(i,l,p,n,i-o,n),this.lineTo(t+o,n);var d=t+o-a,m=n-r+h;this.cubicBezier(d,n,t,m,t,n-r),this.lineTo(t,e+r);var f=e+r-h,P=t+o-a;this.cubicBezier(t,f,P,e,t+o,e),this.closePath()},ellipse:function(t,e,i,n){this.ops_.push(new v.TheoPathOpEllipse(new C.TheoRect(t,e,i,n)))},simplestForm:{get:function(){if(null==this.simplestForm_){var t,e;if(1==this.ops_.length)(t=y.as(this.ops_[0],v.TheoPathOpRectangle))?this.simplestForm_=new v.TheoRectanglePath(t.rect,this.pathFillType_,this.pathEndcapType_,this.pathJoinType_,this.pathStrokeWeight_,this.pathMiterLimit_):(e=y.as(this.ops_[0],v.TheoPathOpEllipse))&&(this.simplestForm_=new v.TheoEllipsePath(e.rect,this.pathFillType_,this.pathEndcapType_,this.pathJoinType_,this.pathStrokeWeight_,this.pathMiterLimit_));else 0==this.ops_.length&&(this.simplestForm_=v.TheoPath.emptyPath());if(null==this.simplestForm_)return this.path}return this.simplestForm_}},path:{get:function(){return new v.TheoArbitraryPath(this.ops_.concat(),this.pathFillType_,this.pathEndcapType_,this.pathJoinType_,this.pathStrokeWeight_,this.pathMiterLimit_)}}}}),t}()},kEiY:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("tlHl"),h=i("rtbu"),c=i("wH/i"),u=i("sIWg");o.PGMMimicMediaNode=(n=function(t,e,i){var n;(n=r.as(e.child,a.PGMMedia))?(this._contentID=n.contentID,this._bounds=n.bounds,this._mediaTime=0):(s.CoreAssert.fail("wrong pgm node type","PGMMimicMediaNode.init","PGMMimicMediaNode.swift",28),this._contentID="",this._bounds=u.TheoRect.Zero,this._mediaTime=0),h.PGMMimicNode.call(this,t,e,i)},r.defineClass({name:"PGMMimicMediaNode",ctor:n,superName:"PGMMimicNode",statics:{PROP_CONTENT_ID:"content-id",PROP_BOUNDS:"content-id",PROP_MEDIA_TIME:"media-time"},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=r.as(this.ref.child,a.PGMMedia))?(this.bounds=t.bounds,this.contentID=t.contentID):s.CoreAssert.fail("wrong pgm node type","PGMMimicMediaNode.importProperties","PGMMimicMediaNode.swift",43),this.endPropertyMutation()},applyAnimation:function(t,e){var i;(i=r.as(t,c.PGMMediaPlayAnimation))?this.mediaTime=i.interpolate(e):h.PGMMimicNode.prototype.applyAnimation.call(this,t,e)},restoreAfterAnimation:function(t){t instanceof c.PGMMediaPlayAnimation?this.mediaTime=0:h.PGMMimicNode.prototype.restoreAfterAnimation.call(this,t)},contentID:{get:function(){return this._contentID},set:function(t){t!=this._contentID&&(this._contentID=t,this.mutateProperty(n.PROP_CONTENT_ID))}},bounds:{get:function(){return this._bounds},set:function(t){t.equal(this._bounds)||(this._bounds=t,this.mutateProperty(n.PROP_BOUNDS))}},mediaTime:{get:function(){return this._mediaTime},set:function(t){t!=this._mediaTime&&(this._mediaTime=t,this.mutateProperty(n.PROP_MEDIA_TIME))}}}}),n)},mj5y:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("tGKA"),h=i("jLWG"),c=i("rKjb"),u=i("WGnI"),l=i("zW52"),p=i("sIWg");o.PGMUtils=(n=function(){},r.defineClass({name:"PGMUtils",ctor:n,statics:{calcBounds:function(t,e){var i,o,a;return(i=r.as(t,u.PGMLeaf))?e.transformRect(i.bounds):(o=r.as(t,c.PGMComposite))?(a=r.as(t,h.PGMClip))?a.clipBounds:n.calcGroupBounds(o,e):(s.CoreAssert.fail("unexpected node type","PGMUtils.calcBounds","PGMUtils.swift",33),null)},calcGroupBounds:function(t,e){var i=null;return t.children.forEach((function(t){var o;(o=n.calcBounds(t.child,e.concat(t.compositing.placement)))&&(i=null==i?o:i.unionWith(o))})),i},calcXBoundsForRef:function(t){return new l.PGMTransformedBounds(t.compositing.placement,n.calcBounds(t.child,a.Matrix2D.Identity)||p.TheoRect.Zero)},calculateDuration:function(t){var e=0;return t.visit((function(t){for(var i=r.iter(t.animations.animations);!i.done;i.next()){var n=i.value;e=Math.max(e,n.timeFn.domain.end)}for(var o=r.iter(t.child.animations.animations);!o.done;o.next())n=o.value,e=Math.max(e,n.timeFn.domain.end)})),e},stringify:function(t){var e,i,o;if(null==t)return"nil";if(e=r.as(t,["Array","Any"]))return"["+e.map((function(t){return n.stringify(t)}),this).join(", ")+"]";if(i=r.as(t,["Dictionary","String","Any"])){for(var s=[],a=r.iter(i);!a.done;a.next()){var h=a.key,c=a.value;s.push(h+": "+n.stringify(c))}return"{"+s.join(",")+"}"}return null!=(o=r.as(t,"String"))?"'"+o+"'":t}}}),n)},n8f2:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("dmHI"),h=i("9MJV"),c=i("smUN"),u=i("V93b");o.PGMMimicFilterNode=(n=function(t,e,i){var n;(n=r.as(e.child,a.PGMFilter))?this._spec=n.spec:(s.CoreAssert.fail("wrong pgm node type","PGMMimicFilterNode.init","PGMMimicFilterNode.swift",21),this._spec=new c.PGMFilterSpec("bad")),u.PGMMimicGroupNode.call(this,t,e,i)},r.defineClass({name:"PGMMimicFilterNode",ctor:n,superName:"PGMMimicGroupNode",statics:{PROP_SPEC:"spec"},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=r.as(this.ref.child,a.PGMFilter))?this.spec=t.spec:s.CoreAssert.fail("wrong pgm node type","PGMMimicFilterNode.importProperties","PGMMimicFilterNode.swift",33),this.endPropertyMutation()},applyAnimation:function(t,e){var i;u.PGMMimicGroupNode.prototype.applyAnimation.call(this,t,e),(i=r.as(t,h.PGMFilterAnimation))&&(this.spec=i.interpolate(e))},spec:{get:function(){return this._spec},set:function(t){t!==this._spec&&(this._spec=t,this.mutateProperty(n.PROP_SPEC))}}}}),n)},oKlP:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("SpAV"),h=i("gXiO");r.TheoPoint=(n=function(t,e){this.x=t,this.y=e,h.CoreObject.call(this)},o={},s.defineClass({name:"TheoPoint",ctor:n,superName:"CoreObject",statics:{ZERO:{get:function(){return void 0===o.ZERO&&(o.ZERO=new n(0,0)),o.ZERO}},INVALID:{get:function(){return void 0===o.INVALID&&(o.INVALID=new n(NaN,NaN)),o.INVALID}},decodeJson:function(t){if(null==t)return null;var e=s.as(t,["Array","Any"]);if(null==e||2!=e.length)return a.CoreAssert.fail("TheoPoint.decodeJson: data is not an array with 2 elements","TheoPoint.decodeJson","TheoPoint.swift",112),null;var i=s.as(e[0],"Double"),o=s.as(e[1],"Double");return null==i||null==o?(a.CoreAssert.fail("Point.decodeJson: data is not an array with 2 numbers","TheoPoint.decodeJson","TheoPoint.swift",120),null):new n(i,o)}},props:{finite:{get:function(){return isFinite(this.x)&&isFinite(this.y)}},isValidPoint:{get:function(){return!isNaN(this.x)&&!isNaN(this.y)}},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyPoint:function(t){return new n(this.x*t.x,this.y*t.y)},divide:function(t){return new n(1*this.x/t,1*this.y/t)},dividePoint:function(t){return new n(this.x/t.x,this.y/t.y)},isEqual:function(t){var e;return!!(e=s.as(t,n))&&this.equal(e)},equal:function(t){return this.x==t.x&&this.y==t.y},equalWithAccuracy:function(t,e){return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e},add:function(t){return new n(this.x+t.x,this.y+t.y)},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},distanceTo:function(t){var e=this.subtract(t);return Math.sqrt(e.dotProduct(e))},dotProduct:function(t){return this.x*t.x+this.y*t.y},crossProduct:function(t){return this.x*t.y-this.y*t.x},length:function(){return this.distanceTo(n.ZERO)},invert:function(){return new n(-this.x,-this.y)},interpolate:function(t,e){return new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},encode:function(){return a.CoreAssert.fail("TheoPoint: Use encodeJson(), not encode()","TheoPoint.encode","TheoPoint.swift",103),[]},description:{get:function(){return"("+this.x+", "+this.y+")"}}}}),n),r._minus_TheoPoint_TheoPoint=function(t,e){return t.subtract(e)},r._plus_TheoPoint_TheoPoint=function(t,e){return t.add(e)},r._negate_TheoPoint=function(t){return t.invert()},r._asterisk_Double_TheoPoint=function(t,e){return e.multiply(t)},r._slash_TheoPoint_Double=function(t,e){return t.divide(e)}},"p41/":function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("bJ8p");o.PGMCCStorageProvider=(n=function t(e,i){void 0===i&&(i=null),this.url=e,this.token=i,a.PGMResourceProvider.call(this,t.TYPE)},r.defineClass({name:"PGMCCStorageProvider",ctor:n,superName:"PGMResourceProvider",statics:{TYPE:"pgm-cc-storage-provider",PROP_URL:"url",PROP_TOKEN:"token",decodeProvider:function(t){var e;if(null!=(e=r.as(t[n.PROP_URL],"String"))){var i=r.as(t[n.PROP_TOKEN],"String");return new n(e,i)}return s.CoreAssert.fail("PGMCCStorageProvider.decode: missing required url parameter","PGMCCStorageProvider.decodeProvider","PGMCCStorageProvider.swift",66),null}},props:{encode:function(){var t=a.PGMResourceProvider.prototype.encode.call(this);return t[n.PROP_URL]=this.url,null!=this.token&&(t[n.PROP_TOKEN]=this.url),t}}}),n)},qEGv:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("SpAV"),h=i("djwB"),c=i("rtbu"),u=i("bAjp"),l=i("f/aw"),p=i("bJhu"),d=i("sIWg");r.PGMMimicTextNode=(n=function t(e,i,n){var o;(o=s.as(i.child,u.PGMText))?(this._text=o.text,this._bounds=o.bounds,this._style=o.style):(a.CoreAssert.fail("wrong pgm node type","PGMMimicTextNode.init","PGMMimicTextNode.swift",46),this._text="",this._bounds=d.TheoRect.Zero,this._style=t.BAD_STYLE),c.PGMMimicNode.call(this,e,i,n)},o={},s.defineClass({name:"PGMMimicTextNode",ctor:n,superName:"PGMMimicNode",statics:{PROP_TEXT:"text",PROP_BOUNDS:"bounds",PROP_STYLE:"style",BAD_FONT:{get:function(){return void 0===o.BAD_FONT&&(o.BAD_FONT=new h.PGMFont("","","",0,"",0)),o.BAD_FONT}},BAD_STYLE:{get:function(){return void 0===o.BAD_STYLE&&(o.BAD_STYLE=new p.PGMTextStyle(n.BAD_FONT,0,null,null,0,0)),o.BAD_STYLE}}},props:{importProperties:function(){var t;this.startPropertyMutation(),(t=s.as(this.ref.child,u.PGMText))?(this.text=t.text,this.bounds=t.bounds,this.style=t.style):a.CoreAssert.fail("wrong pgm node type","PGMMimicTextNode.importProperties","PGMMimicTextNode.swift",62),this.endPropertyMutation()},applyAnimation:function(t,e){var i;if(c.PGMMimicNode.prototype.applyAnimation.call(this,t,e),i=s.as(t,l.PGMTextAnimation)){var n=i.interpolate(e);this.style=n.style}},text:{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t,this.mutateProperty(n.PROP_TEXT))}},bounds:{get:function(){return this._bounds},set:function(t){t.equal(this._bounds)||(this._bounds=t,this.mutateProperty(n.PROP_BOUNDS))}},style:{get:function(){return this._style},set:function(t){t!==this._style&&(this._style=t,this.mutateProperty(n.PROP_STYLE))}}}}),n)},qV7k:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("5D0C"),h=i("jLWG"),c=i("rKjb"),u=i("dmHI"),l=i("9MJV"),p=i("sq5L"),d=i("WUDy"),m=i("Aj79"),f=i("Ucb9"),P=i("9K9k"),T=i("g6aL"),M=i("bAjp"),v=i("f/aw"),y=i("zW52");o.PGMGraphEvaluator=(n=function(t){this.graph=t},r.defineClass({name:"PGMGraphEvaluator",ctor:n,props:{evaluateAtTime:function(t,e){return void 0===e&&(e=null),new p.PGMGraph(this.evaluateAtTimeRecursive(this.graph.root,t),this.graph.bounds,0,this.graph.resources)},evaluateAtTimeRecursive:function(t,e){var i,n,o;if(t.animations.isEmpty)return(p=r.as(t,c.PGMComposite))&&(m=this.evaluateGroupChildren(p,e))?(i=r.as(p,u.PGMFilter))?new u.PGMFilter(i.entity,i.meta,a.PGMAnimationList.EMPTY,r.clone(m),i.spec):(n=r.as(p,h.PGMClip))?new h.PGMClip(n.entity,n.meta,a.PGMAnimationList.EMPTY,r.clone(m),r.clone(n.clipPaths)):(o=r.as(p,T.PGMSimpleGroup))?new T.PGMSimpleGroup(o.entity,o.meta,a.PGMAnimationList.EMPTY,r.clone(m)):(s.CoreAssert.fail("evaluateAtTimeRecursive: composite is not one of known types","PGMGraphEvaluator.evaluateAtTimeRecursive","PGMSceneEvaluator.swift",53),p):t;var p,d=t;if(p=r.as(t,c.PGMComposite)){var m,y,g;(g=this.evaluateGroupChildren(p,e))?(m=r.clone(g),y=p.withEntityAndChildren(p.entity,r.clone(m))):(m=r.clone(p.children),y=p);for(var _=r.iter(t.animations.animations);!_.done;_.next()){var A,G;(x=_.value).timeFn.domain.contains(e)&&(A=r.as(x,l.PGMFilterAnimation))&&(G=r.as(t,u.PGMFilter))&&(y=new u.PGMFilter(G.entity,G.meta,a.PGMAnimationList.EMPTY,r.clone(m),A.interpolate(e)))}d=y}else for(var w=r.iter(t.animations.animations);!w.done;w.next()){var x,C,R,E,O;if((x=w.value).timeFn.domain.contains(e))if((C=r.as(x,v.PGMTextAnimation))&&(R=r.as(d,M.PGMText))){var N=C.interpolate(e);d=new M.PGMText(R.entity,R.meta,a.PGMAnimationList.EMPTY,N.bounds,R.text,N.style)}else(E=r.as(x,P.PGMShapeAnimation))&&(O=r.as(d,f.PGMShape))&&(N=E.interpolate(e),d=new f.PGMShape(O.entity,O.meta,a.PGMAnimationList.EMPTY,N.bounds,r.clone(O.paths),N.color))}return d},evaluateGroupChildren:function(t,e){var i=this,n=[],o=0;return t.children.forEach((function(t){for(var s=i.evaluateAtTimeRecursive(t.child,e),a=t,h=r.iter(t.animations.animations);!h.done;h.next()){var c,u,l=h.value;(c=r.as(l,y.PGMTransformAnimation))?c.timeFn.domain.contains(e)&&(a=new m.PGMReference(s,a.compositing.withPlacement(c.interpolate(e)))):(u=r.as(l,d.PGMOpacityAnimation))&&u.timeFn.domain.contains(e)&&(a=new m.PGMReference(s,a.compositing.withOpacity(u.interpolate(e))))}a!==t?n.push(a):s===t.child?(n.push(t),o+=1):n.push(t.withChild(s))})),o==n.length?null:n}}}),n)},rtbu:function(t,e,i){var n,o,r,s,a=e,h=i("oAGj"),c=i("SpAV"),u=i("gXiO"),l=i("PCN2"),p=i("tGKA"),d=i("jfma"),m=i("WUDy"),f=i("zW52");a.PGMMimicMutation=(n=function(){},o={},h.defineClass({name:"PGMMimicMutation",ctor:n,statics:{CATEGORY_HIERARCHY:"hierarchy/",CATEGORY_COMPOSITING:"compositing/",CATEGORY_PROPERTY:"property/",COMPOSITING_PLACEMENT:{get:function(){return void 0===o.COMPOSITING_PLACEMENT&&(o.COMPOSITING_PLACEMENT=n.CATEGORY_COMPOSITING+"placement"),o.COMPOSITING_PLACEMENT}},COMPOSITING_BLENDMODE:{get:function(){return void 0===o.COMPOSITING_BLENDMODE&&(o.COMPOSITING_BLENDMODE=n.CATEGORY_COMPOSITING+"blend-mode"),o.COMPOSITING_BLENDMODE}},COMPOSITING_OPACITY:{get:function(){return void 0===o.COMPOSITING_OPACITY&&(o.COMPOSITING_OPACITY=n.CATEGORY_COMPOSITING+"opacity"),o.COMPOSITING_OPACITY}},COMPOSITING_CTM:{get:function(){return void 0===o.COMPOSITING_CTM&&(o.COMPOSITING_CTM=n.CATEGORY_COMPOSITING+"ctm"),o.COMPOSITING_CTM}},HIERARCHY_CREATED:{get:function(){return void 0===o.HIERARCHY_CREATED&&(o.HIERARCHY_CREATED=n.CATEGORY_HIERARCHY+"created"),o.HIERARCHY_CREATED}},HIERARCHY_PARENT:{get:function(){return void 0===o.HIERARCHY_PARENT&&(o.HIERARCHY_PARENT=n.CATEGORY_HIERARCHY+"parent"),o.HIERARCHY_PARENT}},HIERARCHY_BECAME_ROOT:{get:function(){return void 0===o.HIERARCHY_BECAME_ROOT&&(o.HIERARCHY_BECAME_ROOT=n.CATEGORY_HIERARCHY+"became-root"),o.HIERARCHY_BECAME_ROOT}},HIERARCHY_REMOVED:{get:function(){return void 0===o.HIERARCHY_REMOVED&&(o.HIERARCHY_REMOVED=n.CATEGORY_HIERARCHY+"removed"),o.HIERARCHY_REMOVED}},HIERARCHY_CHILDREN:{get:function(){return void 0===o.HIERARCHY_CHILDREN&&(o.HIERARCHY_CHILDREN=n.CATEGORY_HIERARCHY+"children"),o.HIERARCHY_CHILDREN}}}}),n),a.PGMMimicNode=(r=function(t,e,i){this._binding=new l.PGMNullMimicNodeBinding,this._isRoot=!1,this._parent=null,this._compositing=d.PGMCompositingParams.DEFAULT,this._ctm=p.Matrix2D.Identity,this._ctmLocalDirty=!0,this._animations=[],this._mutatedProperties=null,this._mutations=[],this.clientData=null,this._document=t,this._options=i,this._ref=e,this._compositing=e.compositing,u.CoreObject.call(this),this.importAnimations(),this._binding=t.client.bindNode(this),this.recordMutation(a.PGMMimicMutation.HIERARCHY_CREATED)},h.defineClass({name:"PGMMimicNode",ctor:r,superName:"CoreObject",props:{document:{get:function(){return c.CoreAssert.isTrue(null!=this._document,"Using a node after document has been destroyed. Let's crash!","PGMMimicNode","PGMMimicNode.swift",101),this._document}},binding:{get:function(){return this._binding}},newConform:function(t){this._options=t,this._mutations.splice(0)},recordMutation:function(t){this._options.provideEndConformSummary&&!this._mutations.includes(t)&&this._mutations.push(t)},endConformSummary:function(t){return!!(t||this._mutations.length>0)&&(this.binding.endConformSummary(this,h.clone(this._mutations),t),!0)},parent:{get:function(){return this._parent}},setAsChildOf:function(t){t!=this._parent&&(this.recordMutation(a.PGMMimicMutation.HIERARCHY_PARENT),this.document.nodeReparented(this),this._parent=t,this._isRoot=!1,this._ctmLocalDirty=!0)},setAsRoot:function(){this._isRoot||(this.recordMutation(a.PGMMimicMutation.HIERARCHY_PARENT),this.recordMutation(a.PGMMimicMutation.HIERARCHY_BECAME_ROOT),this.document.nodeReparented(this),this._parent=null,this._isRoot=!0,this._ctmLocalDirty=!0)},setAsDetached:function(){this.recordMutation(a.PGMMimicMutation.HIERARCHY_PARENT),this.recordMutation(a.PGMMimicMutation.HIERARCHY_REMOVED),this._parent=null,this._isRoot=!1},ref:{get:function(){return this._ref},set:function(t){if(t!==this._ref){var e=t.child.appearanceHash!=this._ref.child.appearanceHash;(e||t.appearanceHash!=this._ref.appearanceHash)&&this.binding.changeAppearance(this,!e),this._ref=t,this.importAnimations()}}},compositing:{get:function(){return this._compositing},set:function(t){if(t!==this._compositing){var e=!1;this._compositing.placement.equal(t.placement)||(this.recordMutation(a.PGMMimicMutation.COMPOSITING_PLACEMENT),this._ctmLocalDirty=!0,this.document.nodePlacementChanged(this),this._binding.changePlacement(this,this._compositing.placement,t.placement),e=!0),this._compositing.blendMode!=t.blendMode&&(this.recordMutation(a.PGMMimicMutation.COMPOSITING_BLENDMODE),this._binding.changeBlendMode(this,this._compositing.blendMode,t.blendMode),e=!0),this._compositing.opacity!=t.opacity&&(this.recordMutation(a.PGMMimicMutation.COMPOSITING_OPACITY),this._binding.changeOpacity(this,this._compositing.opacity,t.opacity),e=!0),e&&this._binding.changeCompositing(this,this._compositing,t),this._compositing=t}}},ctm:{get:function(){return this._ctm},set:function(t){this.recordMutation(a.PGMMimicMutation.COMPOSITING_CTM),this._binding.changeCTM(this,this._ctm,t),this._ctm=t,this._ctmLocalDirty=!1}},animations:{get:function(){return this._animations}},isCTMDirty:{get:function(){return this._ctmLocalDirty||this.hasCTMLocalDirtyAncestor}},isCTMLocalDirty:{get:function(){return this._ctmLocalDirty}},hasCTMLocalDirtyAncestor:{get:function(){var t;return!(!(t=h.opt(this.parent,(function(t){return t.hasCTMLocalDirtyAncestor})))&&null==t)&&t}},importAnimations:function(){var t=this,e=this._animations.length>0;this._animations.splice(0),this.ref.animations.forEach((function(e){return t._animations.push(e)})),this.ref.child.animations.forEach((function(e){return t._animations.push(e)}));var i=this._animations.length>0;e!=i&&this.document.nodeHasAnimationChanged(this,i)},visit:function(t){return t(this)?this:null},destroy:function(){this.removeFromTree(),this._binding.destroy(this)},removeFromTree:function(){var t;(t=this.parent)?t.removeChild(this):this.document.root===this&&(this.document.root=null)},updateCTM:function(){var t;(t=this.parent)?this.ctm=this.compositing.placement.concat(t.ctm):this.ctm=this.compositing.placement},importProperties:function(){},changeProperties:function(t){t.length>0&&this._binding.changeProperties(this,h.clone(t))},applyAnimations:function(t,e){var i=this;this._animations.forEach((function(n){n.timeFn.domain.contains(e)?i.applyAnimation(n,e):n.timeFn.domain.contains(t)&&i.restoreAfterAnimation(n)}))},applyAnimation:function(t,e){var i,n;(i=h.as(t,f.PGMTransformAnimation))?this.compositing=this.compositing.withPlacement(i.interpolate(e)):(n=h.as(t,m.PGMOpacityAnimation))&&(this.compositing=this.compositing.withOpacity(n.interpolate(e)))},restoreAfterAnimation:function(t){t instanceof f.PGMTransformAnimation?this.compositing=this.compositing.withPlacement(this.ref.compositing.placement):t instanceof m.PGMOpacityAnimation&&(this.compositing=this.compositing.withOpacity(this.ref.compositing.opacity))},startPropertyMutation:function(){this._mutatedProperties=[]},endPropertyMutation:function(){null!=this._mutatedProperties&&(this._mutatedProperties.length>0&&this.changeProperties(h.clone(this._mutatedProperties)),this._mutatedProperties=null)},mutateProperty:function(t){this.recordMutation(a.PGMMimicMutation.CATEGORY_PROPERTY+t),null!=this._mutatedProperties?this._mutatedProperties.push(t):this.changeProperties([t])}}}),r),a.PGMNullMimicNode=(s=function(t,e,i){a.PGMMimicNode.call(this,t,e,i)},h.defineClass({name:"PGMNullMimicNode",ctor:s,superName:"PGMMimicNode"}),s)},s3Tu:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl");o.PGMVideo=(n=function t(e,i,n,o,r){s.PGMMedia.call(this,t.TYPE,e,null,i,n,o,r)},r.defineClass({name:"PGMVideo",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-video",decodeLeaf:function(t,e,i,o,s){var a;return null!=(a=r.as(t["content-id"],"String"))?new n(e,i,o,s,a):null}},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.bounds,this.contentID)}}}),n)},sHEF:function(t,e,i){var n,o,r=e,s=i("oAGj"),a=i("sq5L");r.PGMMimicDisplayState=(n=function(t,e){this.graph=t,this.time=e},o={},s.defineClass({name:"PGMMimicDisplayState",ctor:n,statics:{EMPTY:{get:function(){return void 0===o.EMPTY&&(o.EMPTY=new n(a.PGMGraph.EMPTY,0)),o.EMPTY}}},props:{equals:function(t){return this.time==t.time&&this.graph===t.graph}}}),n)},sIWg:function(t,e,i){var n,o,r,s=e,a=i("oAGj"),h=i("SpAV"),c=i("gXiO"),u=i("tGKA"),l=i("3DEm"),p=i("MnRR"),d=i("oKlP"),m=i("1NAc");s.TheoRect=(n=function(t,e,i,n){this.minX=l.MathUtils.minDouble(t,i),this.minY=l.MathUtils.minDouble(e,n),this.maxX=l.MathUtils.maxDouble(t,i),this.maxY=l.MathUtils.maxDouble(e,n),c.CoreObject.call(this)},o={},a.defineClass({name:"TheoRect",ctor:n,superName:"CoreObject",statics:{Zero:{get:function(){return void 0===o.Zero&&(o.Zero=new n(0,0,0,0)),o.Zero}},Infinite:{get:function(){return void 0===o.Infinite&&(o.Infinite=new n(-1/0,-1/0,1/0,1/0)),o.Infinite}},ONE_BY_ONE:{get:function(){return void 0===o.ONE_BY_ONE&&(o.ONE_BY_ONE=new n(0,0,1,1)),o.ONE_BY_ONE}},fromXYWH:function(t,e,i,o){return new n(t,e,t+i,e+o)},fromXYXY:function(t,e,i,o){return new n(t,e,i,o)},fromXXYY:function(t,e,i,o){return new n(t,i,e,o)},fromPoints:function(t,e){return new n(t.x,t.y,e.x,e.y)},fromSize:function(t){return n.fromXYWH(0,0,t.width,t.height)},boundsOfPoints:function(t){var e=null;if(0==t.length);else if(1==t.length)e=new n(t[0].x,t[0].y,t[0].x,t[0].y);else{for(var i=0,o=0,r=0,s=0,h=!0,c=a.iter(t);!c.done;c.next()){var u=c.value;h?(i=u.x,r=u.x,o=u.y,s=u.y,h=!1):(i=l.MathUtils.minDouble(u.x,i),o=l.MathUtils.minDouble(u.y,o),r=l.MathUtils.maxDouble(u.x,r),s=l.MathUtils.maxDouble(u.y,s))}e=new n(i,o,r,s)}return e},unionOfRects:function(t){for(var e=null,i=a.iter(t);!i.done;i.next()){var o=i.value;e=n.unionOf(e,o)}return e},unionOf:function(t,e){return null==t?e:null==e?t:new n(l.MathUtils.minDouble(t.minX,e.minX),l.MathUtils.minDouble(t.minY,e.minY),l.MathUtils.maxDouble(t.maxX,e.maxX),l.MathUtils.maxDouble(t.maxY,e.maxY))},fromString:function(t){var e=a.clone(t.split(","));return 4==e.length?n.fromXXYY(a.toDouble(e[0]),a.toDouble(e[1]),a.toDouble(e[2]),a.toDouble(e[3])):null},fromArray:function(t){if(4!=t.length)return h.CoreAssert.fail("TheoRect.fromArray: Array does not have 4 elements","TheoRect.fromArray","TheoRect.swift",439),null;var e=a.as(t[0],"Double"),i=a.as(t[1],"Double"),o=a.as(t[2],"Double"),r=a.as(t[3],"Double");return null==e||null==i||null==o||null==r?(h.CoreAssert.fail("Rect.fromArray: Array is not 4 doubles","TheoRect.fromArray","TheoRect.swift",449),null):new n(e,i,o,r)},decodeJson:function(t){return null==t?null:a.is(t,["Array","Any"])?n.fromArray(t):a.is(t,"String")?n.fromString(t):(h.CoreAssert.fail("TheoRect.decodeJson: Not an array or a string","TheoRect.decodeJson","TheoRect.swift",497),null)},RectanglesIntersect:function(t,e,i,n,o){return s.RectanglesIntersect_(t,e,i,n,o)},PointInCommon_:function(t,e,i,n){for(var o=[],r=a.iter(a.range(0,5,!1));!r.done;r.next())o.push(new d.TheoPoint(0,0));return s.RectanglesIntersect_(t,e,i,o,n)},InteriorPointInCommon:function(t,e,i){return n.PointInCommon_(t,e,i,(function(t,e){return t<e}))},PointInCommon:function(t,e,i){return n.PointInCommon_(t,e,i,(function(t,e){return t<=e}))},JustTouch:function(t,e,i,n){return s.JustTouch_(t,e,i,n)},MakeIntersectOrAbut:function(t,e,i){return s.MakeIntersect_(t,e,i,0,(function(t,e){return t<=e}))},MakeInteriorsIntersect:function(t,e,i){return s.MakeIntersect_(t,e,i,5,(function(t,e){return t<e}))}},props:{evalUUVV:function(t,e,i,o){return n.fromPoints(this.evalXY(t,i),this.evalXY(e,o))},width:{get:function(){return this.maxX-this.minX}},height:{get:function(){return this.maxY-this.minY}},size:{get:function(){return new m.TheoSize(this.width,this.height)}},containsPoint:function(t){return t.x>=this.minX&&t.y>=this.minY&&t.x<=this.maxX&&t.y<=this.maxY},eval:function(t){return this.evalXY(t.x,t.y)},evalPts:function(t){for(var e=[],i=a.iter(t);!i.done;i.next()){var n=i.value;e.push(this.evalXY(n.x,n.y))}return e},evalXY:function(t,e){return new d.TheoPoint((1-t)*this.minX+t*this.maxX,(1-e)*this.minY+e*this.maxY)},locatePoint:function(t){return this.locate(t.x,t.y)},locate:function(t,e){return new d.TheoPoint((t-this.minX)/(this.maxX-this.minX),(e-this.minY)/(this.maxY-this.minY))},evalRect:function(t){var e=this.evalXY(t.minX,t.minY),i=this.evalXY(t.maxX,t.maxY);return new n(e.x,e.y,i.x,i.y)},area:{get:function(){return(this.maxX-this.minX)*(this.maxY-this.minY)}},aspectRatio:{get:function(){return this.width/this.height}},similarity:function(t){var e=this.aspectRatio,i=t.aspectRatio,n=Math.atan(e)/Math.PI,o=Math.atan(i)/Math.PI;return Math.abs(n-o)},midX:{get:function(){return(this.minX+this.maxX)/2}},midY:{get:function(){return(this.minY+this.maxY)/2}},origin:{get:function(){return new d.TheoPoint(this.minX,this.minY)}},center:{get:function(){return this.evalXY(.5,.5)}},equal:function(t){return this.minX==t.minX&&this.maxX==t.maxX&&this.minY==t.minY&&this.maxY==t.maxY},equalWithAccuracy:function(t,e){return Math.abs(this.minX-t.minX)<e&&Math.abs(this.maxX-t.maxX)<e&&Math.abs(this.minY-t.minY)<e&&Math.abs(this.maxY-t.maxY)<e},fitAspectRatioWithin:function(t){var e=null;return e=this.aspectRatio<t?new m.TheoSize(this.width,this.width/t):new m.TheoSize(t*this.height,this.height),h.CoreAssert.isTrue(e.width<=this.width+.01,void 0,"TheoRect.fitAspectRatioWithin","TheoRect.swift",162),h.CoreAssert.isTrue(e.height<=this.height+.01,void 0,"TheoRect.fitAspectRatioWithin","TheoRect.swift",163),e},expandToFit:function(t){return this.containsPoint(t)?this:new n(l.MathUtils.minDouble(t.x,this.minX),l.MathUtils.minDouble(t.y,this.minY),l.MathUtils.maxDouble(t.x,this.maxX),l.MathUtils.maxDouble(t.y,this.maxY))},contains:function(t){var e=this.intersectionWith(t);return null!=e&&e.equalWithAccuracy(t,.001)},intersects:function(t){return l.MathUtils.maxDouble(t.minX,this.minX)<l.MathUtils.minDouble(t.maxX,this.maxX)&&l.MathUtils.maxDouble(t.minY,this.minY)<l.MathUtils.minDouble(t.maxY,this.maxY)},intersectionWith:function(t){return this.intersects(t)?new n(l.MathUtils.maxDouble(t.minX,this.minX),l.MathUtils.maxDouble(t.minY,this.minY),l.MathUtils.minDouble(t.maxX,this.maxX),l.MathUtils.minDouble(t.maxY,this.maxY)):null},unionWith:function(t){return n.unionOf(this,t)},verticalLine:function(t){return new p.TheoLine(this.evalXY(t,0),this.evalXY(t,1))},horizontalLine:function(t){return new p.TheoLine(this.evalXY(0,t),this.evalXY(1,t))},interpolateWith:function(t,e){return new n(this.minX*(1-e)+t.minX*e,this.minY*(1-e)+t.minY*e,this.maxX*(1-e)+t.maxX*e,this.maxY*(1-e)+t.maxY*e)},L1Distance:function(t){var e=-1*l.MathUtils.minDouble(t.maxX-this.minX,this.maxX-t.minX),i=-1*l.MathUtils.minDouble(t.maxY-this.minY,this.maxY-t.minY);return l.MathUtils.maxDouble(0,l.MathUtils.maxDouble(e,i))},xDistance:function(t,e){void 0===e&&(e=!0);var i=-1*l.MathUtils.minDouble(t.maxX-this.minX,this.maxX-t.minX);return e?l.MathUtils.maxDouble(0,i):i},yDistance:function(t,e){void 0===e&&(e=!0);var i=-1*l.MathUtils.minDouble(t.maxY-this.minY,this.maxY-t.minY);return e?l.MathUtils.maxDouble(0,i):i},transform:function(t){return t.transformRect(this)},points:{get:function(){return[new d.TheoPoint(this.minX,this.minY),new d.TheoPoint(this.minX,this.maxY),new d.TheoPoint(this.maxX,this.minY),new d.TheoPoint(this.maxX,this.maxY)]}},interpolate:function(t,e){function i(t,e,i){return t+(e-t)*i}return new n(i(this.minX,t.minX,e),i(this.minY,t.minY,e),i(this.maxX,t.maxX,e),i(this.maxY,t.maxY,e))},rounded:function(){return new n(Math.round(this.minX),Math.round(this.minY),Math.round(this.maxX),Math.round(this.maxY))},floored:function(){return new n(Math.floor(this.minX),Math.floor(this.minY),Math.floor(this.maxX),Math.floor(this.maxY))},insetXY:function(t,e){return new n(this.minX+t,this.minY+e,this.maxX-t,this.maxY-e)},insetRel:function(t,e,i,o){return n.fromXXYY(this.minX+this.width*t,this.maxX-this.width*e,this.minY+this.height*i,this.maxY-this.height*o)},scaleXY:function(t,e,i){void 0===i&&(i=new d.TheoPoint(.5,.5));var o=n.fromXYWH(this.minX,this.minY,this.width*t,this.height*e);return o.transform(u.Matrix2D.translation(this.eval(i).subtract(o.eval(i))))},scale:function(t,e){return void 0===e&&(e=new d.TheoPoint(.5,.5)),this.scaleXY(t,t,e)},outsetXY:function(t,e){return new n(this.minX-t,this.minY-e,this.maxX+t,this.maxY+e)},offset:function(t){return new n(this.minX+t.x,this.minY+t.y,this.maxX+t.x,this.maxY+t.y)},offsetXY:function(t,e){return new n(this.minX+t,this.minY+e,this.maxX+t,this.maxY+e)},multiplyXY:function(t,e){return n.fromXYWH(this.minX*t,this.minY*e,this.width*t,this.height*e)},moveToPoint:function(t,e){var i=this.evalXY(e.x,e.y),n=t.subtract(i);return this.offset(n)},split:function(t,e,i){void 0===i&&(i=null);var o=[],r=0,s=0,c=0;if(null!=i){for(var u=a.iter(i);!u.done;u.next())c+=u.value;if(t!=i.length)return h.CoreAssert.fail("num regions must match weight vector","TheoRect.split","TheoRect.swift",393),o}for(var l=e?this.width/a.toDouble(t):this.width,p=e?this.height:this.height/a.toDouble(t),d=a.iter(a.range(0,t,!1));!d.done;d.next()){var m,f=d.value;(m=i)&&(l=e?this.width*(m[f]/c):this.width,p=e?this.height:this.height*(m[f]/c)),e?o.push(new n(this.minX+r,this.minY,this.minX+r+l,this.maxY)):o.push(new n(this.minX,this.minY+s,this.maxX,this.minY+s+p)),r+=l,s+=p}return o},asString:{get:function(){return" x: "+a.toString(Math.round(100*this.minX)/100)+" "+a.toString(Math.round(100*this.maxX)/100)+", y:"+a.toString(Math.round(100*this.minY)/100)+" "+a.toString(Math.round(100*this.maxY)/100)}},asIntString:{get:function(){return" x: "+a.toString(Math.round(this.minX))+" "+a.toString(Math.round(this.maxX))+", y:"+a.toString(Math.round(this.minY))+" "+a.toString(Math.round(this.maxY))}},description:{get:function(){return this.asString}},encode:function(){return h.CoreAssert.fail("TheoRect: Use encodeJson(), not encode()","TheoRect.encode","TheoRect.swift",502),[]},encodeJson:function(){return h.CoreAssert.isFalse(isNaN(this.minX),"Can't persist NaN minX value","TheoRect.encodeJson","TheoRect.swift",507),h.CoreAssert.isFalse(isNaN(this.minY),"Can't persist NaN minY value","TheoRect.encodeJson","TheoRect.swift",508),h.CoreAssert.isFalse(isNaN(this.maxX),"Can't persist NaN maxX value","TheoRect.encodeJson","TheoRect.swift",509),h.CoreAssert.isFalse(isNaN(this.maxY),"Can't persist NaN maxY value","TheoRect.encodeJson","TheoRect.swift",510),a.as([this.minX,this.minY,this.maxX,this.maxY],"AnyObject")},maximumSpan:function(t){var e=this,i=function(i,n){return t.transformLinear(e.evalXY(i,n))},n=0,o=function(t,e){var o=i(t,e),r=i(1-t,1-e),s=function(t,e){var s,a,h=(s=i(t,e),a=r,new p.TheoLine(s,a)),c=h.locate(o);if(-1e-7<c&&c<1+1e-7){var u=h.eval(c),l=d._minus_TheoPoint_TheoPoint(u,o).length(),m=d._minus_TheoPoint_TheoPoint(u,r).length();n=Math.max(n,l,m)}};s(t,1-e),s(1-t,e)};return o(0,0),o(1,0),n}}}),n),s.RectanglesIntersect_=function(t,e,i,n,o){h.CoreAssert.isTrue(t.minX<=t.maxX&&t.minY<=t.maxY&&i.minX<=i.maxX&&i.minY<=i.maxY,void 0,"RectanglesIntersect_","TheoRect.swift",614);var r=function(i,n){return e.transformPoint(t.evalXY(i,n))},c=0,u=0;function l(t,e){var i=s.rect_contains_point(e,t,c,u,o),n=i.result,r=i.horz,a=i.vert;return c=r,u=a,n}if(l(r(.5,.5),i))return!0;if(c=0,u=0,n[0]=r(0,0),l(n[0],i))return!0;if(n[2]=r(1,1),l(n[2],i))return!0;if(e.preservesBoxes)return!!s.rects_intersect(new s.TheoRect(n[0].x,n[0].y,n[2].x,n[2].y),i,o)||(n[1]=r(1,0),n[3]=r(0,1),n[4]=n[0],!1);if(n[1]=r(1,0),l(n[1],i))return!0;if(n[3]=r(0,1),l(n[3],i))return!0;if(n[4]=n[0],4==c||-4==c||4==u||-4==u)return!1;h.CoreAssert.isTrue(0!=e.determinant,void 0,"RectanglesIntersect_","TheoRect.swift",668);var m=e.inverse,f=function(t,e){return m.transformPoint(i.evalXY(t,e))};if(l(m.transformPoint(i.center),t))return!0;var P=[new d.TheoPoint(0,0),new d.TheoPoint(0,0),new d.TheoPoint(0,0),new d.TheoPoint(0,0),new d.TheoPoint(0,0)];if(P[0]=f(0,0),l(P[0],t))return!0;if(P[1]=f(1,0),l(P[1],t))return!0;if(P[2]=f(1,1),l(P[2],t))return!0;if(P[3]=f(0,1),l(P[3],t))return!0;P[4]=P[0];var T=[new d.TheoPoint(0,0),new d.TheoPoint(0,0),new d.TheoPoint(0,0),new d.TheoPoint(0,0),new d.TheoPoint(0,0)];T[0]=t.evalXY(0,0),T[1]=t.evalXY(1,0),T[2]=t.evalXY(1,1),T[3]=t.evalXY(0,1),T[4]=T[0];for(var M=a.iter(a.range(0,4,!1));!M.done;M.next())for(var v=M.value,y=a.iter(a.range(0,4,!1));!y.done;y.next()){var g=y.value,_=s.segment_intersection(P[v],P[v+1],T[g+1],T[g]),A=_[0],G=_[1];if(isNaN(A)){var w=function(t,e,i){return new p.TheoLine(t,e).locate(i)};if(A=w(P[v],P[v+1],T[g]),o(0,A)&&o(A,1))return!0;if(A=w(P[v],P[v+1],T[g+1]),o(0,A)&&o(A,1))return!0;if(A=w(T[g],T[g+1],P[v]),o(0,A)&&o(A,1))return!0;if(A=w(T[g],T[g+1],P[v+1]),o(0,A)&&o(A,1))return!0}else if(o(0,A)&&o(A,1)&&o(0,G)&&o(G,1))return!0}return!1},s.rect_contains_point=function(t,e,i,n,o){var r=i,s=n,a=!1;if(o(t.minX,e.x)?o(e.x,t.maxX)?a=!0:r+=1:r-=1,o(t.minY,e.y)){if(o(e.y,t.maxY))return{result:a,horz:r,vert:s};s+=1}else s-=1;return{result:!1,horz:r,vert:s}},s.rects_intersect=function(t,e,i){return i(e.minX,t.maxX)&&i(t.minX,e.maxX)&&i(t.minY,e.maxY)&&i(e.minY,t.maxY)},s.rect_contains_rect=function(t,e,i){return i(t.minY,e.minY)&&i(e.maxY,t.maxY)&&i(t.minX,e.minX)&&i(e.maxX,t.maxX)},s.subnormal_skipping_nextafter=function(t,e){return t},s.local_next_after=function(t,e,i){void 0===i&&(i=1);for(var n=t,o=i;o>0;)n=s.subnormal_skipping_nextafter(n,e),o-=1;return n},s.rectangle_inset=function(t,e){for(var i=t.minX,n=t.maxX,o=t.minY,r=t.maxY,a=e;a>0;)i=s.local_next_after(i,n,1),n=s.local_next_after(n,i,1),o=s.local_next_after(o,r,1),r=s.local_next_after(r,o,1),a-=1;return new s.TheoRect(i,o,n,r)},s.rectangle_outset=function(t,e){var i=s.local_next_after(t.minX,-1/0,e),n=s.local_next_after(t.minY,-1/0,e),o=s.local_next_after(t.maxX,1/0,e),r=s.local_next_after(t.maxY,1/0,e);return new s.TheoRect(i,n,o,r)},s.segment_intersection=function(t,e,i,n){var o,r,s=e.subtract(t),a=n.subtract(i),c=t.subtract(i),u=a.crossProduct(s),l=c.crossProduct(a),p=c.crossProduct(s);return 0==u?0==l?(h.CoreAssert.isTrue(0==p,void 0,"segment_intersection","TheoRect.swift",870),o=NaN,r=NaN):s.dotProduct(a)>0?(o=1/0,r=1/0):(o=-1/0,r=-1/0):(o=l/u,r=p/u),[o,r]},s.JustTouch_=function(t,e,i,n){var o=function(t,e,i,n){for(var o,r=1/0,c=new d.TheoPoint(0,0),m=[new d.TheoPoint(0,0),new d.TheoPoint(1,0),new d.TheoPoint(1,1),new d.TheoPoint(0,1)].map(a.bind(t,"eval"),this).map(a.bind(e,"transformPoint"),this),f=[new d.TheoPoint(0,0),new d.TheoPoint(1,0),new d.TheoPoint(1,1),new d.TheoPoint(0,1),new d.TheoPoint(0,0)].map(a.bind(i,"eval"),this).map(a.bind(n,"transformPoint"),this),P=[],T=a.iter(a.range(0,5,!1));!T.done;T.next())P.push(new d.TheoPoint(0,0));for(var M=a.iter(m);!M.done;M.next())for(var v=M.value,y=a.iter(a.range(0,4,!1));!y.done;y.next()){var g=y.value,_=new p.TheoLine(f[g],f[g+1]);!function(o){var a=v,h=d._minus_TheoPoint_TheoPoint(_.eval(o),a),u=function(t){return t.evalUUVV(1e-9,1-1e-9,1e-9,1-1e-9)};if(!s.RectanglesIntersect_(u(t),e.translate(h).concat(n.inverse),u(i),P,(function(t,e){return t<=e}))){var l=h.dotProduct(h);l<r&&(r=l,c=h)}}((o=_.locate(v),l.MathUtils.minDouble(l.MathUtils.maxDouble(0,o),1)))}return h.CoreAssert.isTrue(r<1/0,void 0,"JustTouch_","TheoRect.swift",930),u.Matrix2D.translation(c)},r=function(t){return t.tx*t.tx+t.ty*t.ty},c=o(t,e,i,n),m=o(i,n,t,e).inverse;return r(c)<r(m)?c:m},s.MutableRect=(r=function(t,e,i,n){this.minX=t,this.minY=e,this.maxX=i,this.maxY=n},a.defineClass({name:"MutableRect",ctor:r,statics:{fromTheoRect:function(t){return new r(t.minX,t.minY,t.maxX,t.maxY)}},props:{width:{get:function(){return this.maxX-this.minX}},height:{get:function(){return this.maxY-this.minY}},midX:{get:function(){return(this.minX+this.maxX)/2}},midY:{get:function(){return(this.minY+this.maxY)/2}},eval:function(t){return this.evalUV(t.x,t.y)},evalUV:function(t,e){return new d.TheoPoint((1-t)*this.minX+t*this.maxX,(1-e)*this.minY+e*this.maxY)},asTheoRect:{get:function(){return new s.TheoRect(this.minX,this.minY,this.maxX,this.maxY)}},clone:function(){return new r(this.minX,this.minY,this.maxX,this.maxY)}}}),r),s.MakeIntersect_=function(t,e,i,n,o){for(var r=i,c=[],u=a.iter(a.range(0,5,!1));!u.done;u.next())c.push(new d.TheoPoint(0,0));if(s.TheoRect.RectanglesIntersect(t,e,r,c,o))return r;var m=e.transformRect(t),f=a.clone(new s.MutableRect(r.minX,r.minY,r.maxX,r.maxY));o(f.minX,m.maxX)||(f.minX=m.maxX,f.minX=s.local_next_after(f.minX,-1/0,n)),o(m.minX,f.maxX)||(f.maxX=m.minX,f.maxX=s.local_next_after(f.maxX,1/0,n)),o(f.minY,m.maxY)||(f.minY=m.maxY,f.minY=s.local_next_after(f.minY,-1/0,n)),o(m.minY,f.maxY)||(f.maxY=m.minY,f.maxY=s.local_next_after(f.maxY,1/0,n));var P=function(t){return t.evalUUVV(-1e-9,1+1e-9,-1e-9,1+1e-9)};if(s.TheoRect.PointInCommon_(t,e,P(f.asTheoRect),o))return f.asTheoRect;h.CoreAssert.isTrue(m.midX!=f.midX,void 0,"MakeIntersect_","TheoRect.swift",1002),h.CoreAssert.isTrue(m.midY!=f.midY,void 0,"MakeIntersect_","TheoRect.swift",1003),r=f.asTheoRect;for(var T=function(t,e){return new d.TheoPoint(t,e)},M=function(i){return e.transformPoint(t.eval(i))},v=function(t){return r.eval(t)},y=function(t){return l.MathUtils.minDouble(l.MathUtils.maxDouble(0,t),1)},g=[T(0,0),T(1,0),T(1,1),T(0,1),T(0,0)],_=function(t,e){for(var i=1/0,n=[T(0,0),T(0,0)],o=a.iter(a.range(0,4,!1));!o.done;o.next())for(var r=o.value,s=v(g[r]),c=a.iter(a.range(0,4,!1));!c.done;c.next()){var u=c.value,l=new p.TheoLine(M(g[u]),M(g[u+1])),m=y(l.locate(s)),f=d._minus_TheoPoint_TheoPoint(l.eval(m),s),P=f.dotProduct(f);P<i&&(i=P,n=[g[r],g[u]])}return h.CoreAssert.isTrue(i<1/0,void 0,"MakeIntersect_","TheoRect.swift",1031),n}(),A=_[0],G=_[1],w=v(A),x=T(1,1).subtract(A),C=v(x),R=v(T(A.x,x.y)),E=v(T(x.x,A.y)),O=1/0,N=w,b=a.iter(a.range(0,4,!1));!b.done;b.next()){var S=b.value;if(g[S]!=T(1,1).subtract(G)){var Y=new p.TheoLine(M(g[S]),M(g[S+1])),D=function(t){var e=s.segment_intersection(t,w,Y.p1,Y.p2),i=e[0],n=e[1];if(i>=1&&n>=0&&n<=1){var o=Y.eval(y(n)),r=s.TheoRect.fromPoints(o,C).area;r<O&&(O=r,N=o)}};D(R),D(E)}}if(n>0){var I=s.local_next_after(N.x,0==x.x?1/0:-1/0,n),L=s.local_next_after(N.y,0==x.y?1/0:-1/0,n);N=new d.TheoPoint(I,L)}var F=s.TheoRect.fromPoints(C,N);return h.CoreAssert.isTrue(s.rect_contains_rect(P(F),r,(function(t,e){return t<=e})),void 0,"MakeIntersect_","TheoRect.swift",1077),F}},sJQG:function(t,e,i){var n,o,r=e,s=i("oAGj");r.PGMRange=(n=function(t,e){this.start=t,this.end=e},o={},s.defineClass({name:"PGMRange",ctor:n,statics:{UNIT:{get:function(){return void 0===o.UNIT&&(o.UNIT=new n(0,1)),o.UNIT}},decode:function(t){var e,i;return null!=(e=s.as(s.opt(t,(function(t){return t.start})),"Double"))&&null!=(i=s.as(s.opt(t,(function(t){return t.end})),"Double"))?0==e&&1==i?n.UNIT:new n(e,i):null}},props:{boundedU:function(t){return t<=this.start?0:t>=this.end?1:(t-this.start)/(this.end-this.start)},applyU:function(t){return this.start+t*(this.end-this.start)},isEqualTo:function(t){return this.start==t.start&&this.end==t.end},contains:function(t){return t>=this.start&&t<=this.end},encode:function(){var t={};return t.start=this.start,t.end=this.end,t}}}),n)},tOe2:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("bJ8p");o.PGMDataURLProvider=(n=function t(e){this.url=e,a.PGMResourceProvider.call(this,t.TYPE)},r.defineClass({name:"PGMDataURLProvider",ctor:n,superName:"PGMResourceProvider",statics:{TYPE:"pgm-data-url-provider",PROP_URL:"url",decodeProvider:function(t){var e;return null!=(e=r.as(t[n.PROP_URL],"String"))?new n(e):(s.CoreAssert.fail("PGMDataURLProvider.decode: missing required url parameter","PGMDataURLProvider.decodeProvider","PGMDataURLProvider.swift",50),null)}},props:{encode:function(){var t=a.PGMResourceProvider.prototype.encode.call(this);return t[n.PROP_URL]=this.url,t}}}),n)},tlHl:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("WGnI");o.PGMMedia=(n=function(t,e,i,n,o,r,a){var h;this.contentID=a,s.PGMLeaf.call(this,t,e,(h=i)||null!=h?h:t+"(contentID:"+a+";bounds:("+r.asString+"))",n,o,r)},r.defineClass({name:"PGMMedia",ctor:n,superName:"PGMLeaf",props:{encode:function(){var t=s.PGMLeaf.prototype.encode.call(this);return t["content-id"]=this.contentID,t}}}),n)},wlKr:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("bJ8p");o.PGMLocalFileProvider=(n=function t(e){this.path=e,a.PGMResourceProvider.call(this,t.TYPE)},r.defineClass({name:"PGMLocalFileProvider",ctor:n,superName:"PGMResourceProvider",statics:{TYPE:"pgm-local-file-provider",PROP_PATH:"path",decodeProvider:function(t){var e;return null!=(e=r.as(t[n.PROP_PATH],"String"))?new n(e):(s.CoreAssert.fail("PGMLocalFileProvider.decode: missing required path parameter","PGMLocalFileProvider.decodeProvider","PGMLocalFileProvider.swift",50),null)}},props:{encode:function(){var t=a.PGMResourceProvider.prototype.encode.call(this);return t[n.PROP_PATH]=this.path,t}}}),n)},xcIW:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("tlHl"),a=i("sIWg");o.PGMAudio=(n=function t(e,i,n,o){s.PGMMedia.call(this,t.TYPE,e,null,i,n,a.TheoRect.Zero,o)},r.defineClass({name:"PGMAudio",ctor:n,superName:"PGMMedia",statics:{TYPE:"pgm-audio",decodeLeaf:function(t,e,i,o,s){var a;return null!=(a=r.as(t["content-id"],"String"))?new n(e,i,o,a):null}},props:{withEntity:function(t){return new n(t,this.meta,this.animations,this.contentID)}}}),n)},xm77:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("SpAV"),a=i("gXiO"),h=i("oKlP");o.TimingFunctionType=r.defineEnum("TimingFunctionType",{Linear:"Linear",EaseIn:"EaseIn",EaseOut:"EaseOut",EaseInOut:"EaseInOut",EaseOutExpo:"EaseOutExpo",Step:"Step",Step0:"Step0",Step1:"Step1"}),o.TheoTimingFunction=(n=function(t){this.timingType_=t,this.lookup_={},t==o.TimingFunctionType.Linear?this.points=[new h.TheoPoint(0,0),new h.TheoPoint(1,1)]:t==o.TimingFunctionType.Step||t==o.TimingFunctionType.Step0||t==o.TimingFunctionType.Step1?this.points=[new h.TheoPoint(.5,0)]:t==o.TimingFunctionType.EaseIn?this.points=[new h.TheoPoint(.42,0),new h.TheoPoint(1,1)]:t==o.TimingFunctionType.EaseOut?this.points=[new h.TheoPoint(0,0),new h.TheoPoint(.58,1)]:t==o.TimingFunctionType.EaseOutExpo?this.points=[new h.TheoPoint(.215,.61),new h.TheoPoint(.355,1)]:t==o.TimingFunctionType.EaseInOut?this.points=[new h.TheoPoint(.42,0),new h.TheoPoint(.58,1)]:(this.points=[],s.CoreAssert.fail("Invalid timing function","TheoTimingFunction.init","TheoTimingFunction.swift",54)),a.CoreObject.call(this)},r.defineClass({name:"TheoTimingFunction",ctor:n,superName:"CoreObject",props:{evalT:function(t){var e=this.points[0].multiply(3*(1-t)*(1-t)*t),i=this.points[1].multiply(3*(1-t)*t*t),n=new h.TheoPoint(1,1).multiply(t*t*t);return e.add(i).add(n)},evalX:function(t,e){if(void 0===e&&(e=.001),t<0||t>1)return s.CoreAssert.fail("TheoRect.fromArray: Array does not have 4 elements","TheoTimingFunction.evalX","TheoTimingFunction.swift",72),t;if(this.timingType_==o.TimingFunctionType.Step)return this.points[0].x>t?0:1;if(this.timingType_==o.TimingFunctionType.Step0)return 0==this.points[0].x?0:1;if(this.timingType_==o.TimingFunctionType.Step1)return 1==this.points[0].x?1:0;var i;if(null!=(i=this.lookup_[t]))return i;var n=0,r=1,a=.5,h=this.evalT(n);if(Math.abs(h.x-t)<e)return this.lookup_[t]=h.y,h.y;var c=this.evalT(r);if(Math.abs(c.x-t)<e)return this.lookup_[t]=c.y,c.y;for(var u=this.evalT(a);Math.abs(u.x-t)>e;)t>u.x?n=a:r=a,a=(n+r)/2,u=this.evalT(a);return this.lookup_[t]=u.y,u.y}}}),n)},zbBQ:function(t,e,i){var n,o=e,r=i("oAGj"),s=i("gXiO"),a=i("Q0b+");o.PGMMimicDocument=(n=function(t){this._binding=new a.PGMNullDocumentMimicBinding,this._root=null,this._dirtyLocalCTMNodes=[],this._animationNodes=[],this.client=t,s.CoreObject.call(this),this._binding=t.bindDocument(this)},r.defineClass({name:"PGMMimicDocument",ctor:n,superName:"CoreObject",props:{binding:{get:function(){return this._binding}},beginConform:function(t,e){this._dirtyLocalCTMNodes.splice(0),this._binding.beginConform(this,t,e)},endConform:function(t,e){this._binding.endConform(this,t,e)},dirtyLocalCTMNodes:{get:function(){return this._dirtyLocalCTMNodes}},nodePlacementChanged:function(t){this._dirtyLocalCTMNodes.push(t)},nodeReparented:function(t){this._dirtyLocalCTMNodes.push(t)},nodeHasAnimationChanged:function(t,e){e?this._animationNodes.push(t):r.remove(this._animationNodes,t)},nodesWithAnimations:{get:function(){return this._animationNodes}},root:{get:function(){return this._root},set:function(t){this._binding.setRoot(this,t),r.opt(this._root,(function(t){return t.setAsDetached()})),r.opt(t,(function(t){return t.setAsRoot()})),this._root=t}}}}),n)}}]);
//# sourceMappingURL=vendors_npm_spark_1d2787a9-43abc0aa.js.map